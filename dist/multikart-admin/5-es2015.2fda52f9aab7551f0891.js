(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{cFrJ:function(t,i,n){"use strict";n.r(i),n.d(i,"CalendarModule",function(){return _i});var a=n("ofXK"),o=n("tyNb"),r=n("vxfF"),s=n("fXoL"),l=n("nLfN"),c=n("cH1L"),d=n("8LU1"),h=n("+rOU"),u=n("XNiG"),f=n("quSY"),p=n("VRyK"),v=n("IzEk"),m=n("1G5W");n("7o/Q");var g=n("FtGj");const b=Object(l.g)();class y{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Object(d.c)(-this._previousScrollPosition.left),e.style.top=Object(d.c)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,i=this._document.body.style,n=t.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),b&&(t.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b&&(t.scrollBehavior=n,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class w{constructor(e,t,i,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class x{enable(){}disable(){}attach(){}}function k(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function C(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class _{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();k(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let D=(()=>{class e{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new x,this.close=e=>new w(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new y(this._viewportRuler,this._document),this.reposition=e=>new _(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=n}}return e.\u0275fac=function(t){return new(t||e)(s.fc(r.a),s.fc(r.c),s.fc(s.B),s.fc(a.d))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(r.a),Object(s.fc)(r.c),Object(s.fc)(s.B),Object(s.fc)(a.d))},token:e,providedIn:"root"}),e})();class S{constructor(e){if(this.scrollStrategy=new x,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class E{constructor(e,t,i,n,a){this.offsetX=i,this.offsetY=n,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class T{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let A=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(s.fc(a.d))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(a.d))},token:e,providedIn:"root"}),e})(),P=(()=>{class e extends A{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let i=t.length-1;i>-1;i--)if(t[i]._keydownEvents.observers.length>0){t[i]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(a.d))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(a.d))},token:e,providedIn:"root"}),e})(),M=(()=>{class e extends A{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,i=this._attachedOverlays.slice();for(let n=i.length-1;n>-1;n--){const a=i[n];if(!(a._outsidePointerEvents.observers.length<1)&&a.hasAttached()){if(a.overlayElement.contains(t))break;a._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(a.d),s.fc(l.a))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(a.d),Object(s.fc)(l.a))},token:e,providedIn:"root"}),e})();const H=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let R=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||H){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),H?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return e.\u0275fac=function(t){return new(t||e)(s.fc(a.d),s.fc(l.a))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(a.d),Object(s.fc)(l.a))},token:e,providedIn:"root"}),e})();class B{constructor(e,t,i,n,a,o,r,s,l){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=a,this._keyboardDispatcher=o,this._document=r,this._location=s,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new u.a,this._attachments=new u.a,this._detachments=new u.a,this._locationChanges=f.a.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new u.a,this._outsidePointerEvents=new u.a,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(v.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Object(d.c)(this._config.width),e.height=Object(d.c)(this._config.height),e.minWidth=Object(d.c)(this._config.minWidth),e.minHeight=Object(d.c)(this._config.minHeight),e.maxWidth=Object(d.c)(this._config.maxWidth),e.maxHeight=Object(d.c)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const n=e.classList;Object(d.a)(t).forEach(e=>{e&&(i?n.add(e):n.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Object(m.a)(Object(p.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const I=/([A-Za-z%]+)$/;class N{constructor(e,t,i,n,a){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.a,this._resizeSubscription=f.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=[];let a;for(let o of this._preferredPositions){let r=this._getOriginPoint(e,o),s=this._getOverlayPoint(r,t,o),l=this._getOverlayFit(s,t,i,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,r);this._canFitWithFlexibleDimensions(l,s,i)?n.push({position:o,origin:r,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(r,o)}):(!a||a.overlayFit.visibleArea<l.visibleArea)&&(a={overlayFit:l,overlayPoint:s,originPoint:r,position:o,overlayRect:t})}if(n.length){let e=null,t=-1;for(const i of n){const n=i.boundingBoxRect.width*i.boundingBoxRect.height*(i.position.weight||1);n>t&&(t=n,e=i)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&O(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,n;if("center"==t.originX)i=e.left+e.width/2;else{const n=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==t.originX?n:a}return n="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:n}}_getOverlayPoint(e,t,i){let n,a;return n="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+n,y:e.y+a}}_getOverlayFit(e,t,i,n){const a=U(t);let{x:o,y:r}=e,s=this._getOffset(n,"x"),l=this._getOffset(n,"y");s&&(o+=s),l&&(r+=l);let c=0-r,d=r+a.height-i.height,h=this._subtractOverflows(a.width,0-o,o+a.width-i.width),u=this._subtractOverflows(a.height,c,d),f=h*u;return{visibleArea:f,isCompletelyWithinViewport:a.width*a.height===f,fitsInViewportVertically:u===a.height,fitsInViewportHorizontally:h==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const n=i.bottom-t.y,a=i.right-t.x,o=L(this._overlayRef.getConfig().minHeight),r=L(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=r&&r<=a;return(e.fitsInViewportVertically||null!=o&&o<=n)&&s}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const n=U(t),a=this._viewportRect,o=Math.max(e.x+n.width-a.width,0),r=Math.max(e.y+n.height-a.height,0),s=Math.max(a.top-i.top-e.y,0),l=Math.max(a.left-i.left-e.x,0);let c=0,d=0;return c=n.width<=a.width?l||-o:e.x<this._viewportMargin?a.left-i.left-e.x:0,d=n.height<=a.height?s||-r:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:c,y:d},{x:e.x+c,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),i=new T(e,t);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,n=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,n=this._isRtl();let a,o,r,s,l,c;if("top"===t.overlayY)o=e.y,a=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)r=i.height-e.y+2*this._viewportMargin,a=i.height-r+this._viewportMargin;else{const t=Math.min(i.bottom-e.y+i.top,e.y),n=this._lastBoundingBoxSize.height;a=2*t,o=e.y-t,a>n&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-n/2)}if("end"===t.overlayX&&!n||"start"===t.overlayX&&n)c=i.width-e.x+this._viewportMargin,s=e.x-this._viewportMargin;else if("start"===t.overlayX&&!n||"end"===t.overlayX&&n)l=e.x,s=i.right-e.x;else{const t=Math.min(i.right-e.x+i.left,e.x),n=this._lastBoundingBoxSize.width;s=2*t,l=e.x-t,s>n&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-n/2)}return{top:o,left:l,bottom:r,right:c,width:s,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Object(d.c)(i.height),n.top=Object(d.c)(i.top),n.bottom=Object(d.c)(i.bottom),n.width=Object(d.c)(i.width),n.left=Object(d.c)(i.left),n.right=Object(d.c)(i.right),n.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",n.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(n.maxHeight=Object(d.c)(e)),a&&(n.maxWidth=Object(d.c)(a))}this._lastBoundingBoxSize=i,O(this._boundingBox.style,n)}_resetBoundingBoxStyles(){O(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){O(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){const n=this._viewportRuler.getViewportScrollPosition();O(i,this._getExactOverlayY(t,e,n)),O(i,this._getExactOverlayX(t,e,n))}else i.position="static";let r="",s=this._getOffset(t,"x"),l=this._getOffset(t,"y");s&&(r+=`translateX(${s}px) `),l&&(r+=`translateY(${l}px)`),i.transform=r.trim(),o.maxHeight&&(n?i.maxHeight=Object(d.c)(o.maxHeight):a&&(i.maxHeight="")),o.maxWidth&&(n?i.maxWidth=Object(d.c)(o.maxWidth):a&&(i.maxWidth="")),O(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=o,"bottom"===e.overlayY?n.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":n.top=Object(d.c)(a.y),n}_getExactOverlayX(e,t,i){let n,a={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),n=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===n?a.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":a.left=Object(d.c)(o.x),a}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:C(e,i),isOriginOutsideView:k(e,i),isOverlayClipped:C(t,i),isOverlayOutsideView:k(t,i)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Object(d.a)(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof s.l)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function O(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function L(e){if("number"!=typeof e&&null!=e){const[t,i]=e.split(I);return i&&"px"!==i?null:parseFloat(t)}return e||null}function U(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class j{constructor(e,t,i,n,a,o,r){this._preferredPositions=[],this._positionStrategy=new N(i,n,a,o,r).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,n){const a=new E(e,t,i,n);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class z{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:o,maxHeight:r}=i,s=!("100%"!==n&&"100vw"!==n||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==a&&"100vh"!==a||r&&"100%"!==r&&"100vh"!==r);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove("cdk-global-overlay-wrapper"),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let G=(()=>{class e{constructor(e,t,i,n){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=n}global(){return new z}connectedTo(e,t,i){return new j(t,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new N(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(r.c),s.fc(a.d),s.fc(l.a),s.fc(R))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(r.c),Object(s.fc)(a.d),Object(s.fc)(l.a),Object(s.fc)(R))},token:e,providedIn:"root"}),e})(),W=0,F=(()=>{class e{constructor(e,t,i,n,a,o,r,s,l,c,d){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=a,this._injector=o,this._ngZone=r,this._document=s,this._directionality=l,this._location=c,this._outsideClickDispatcher=d}create(e){const t=this._createHostElement(),i=this._createPaneElement(t),n=this._createPortalOutlet(i),a=new S(e);return a.direction=a.direction||this._directionality.value,new B(n,t,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+W++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.g)),new h.f(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(D),s.fc(R),s.fc(s.j),s.fc(G),s.fc(P),s.fc(s.t),s.fc(s.B),s.fc(a.d),s.fc(c.b),s.fc(a.i),s.fc(M))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();const Y={provide:new s.s("cdk-connected-overlay-scroll-strategy"),deps:[F],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({providers:[F,Y],imports:[[c.a,h.g,r.b],r.b]}),e})();var X=n("FKr1"),V=n("NXyV"),J=n("LRne"),Z=n("pLZG"),K=n("JX91"),Q=n("R0Ic"),$=n("u47x");function ee(e,t){}class te{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const ie={dialogContainer:Object(Q.l)("dialogContainer",[Object(Q.i)("void, exit",Object(Q.j)({opacity:0,transform:"scale(0.7)"})),Object(Q.i)("enter",Object(Q.j)({transform:"none"})),Object(Q.k)("* => enter",Object(Q.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(Q.j)({transform:"none",opacity:1}))),Object(Q.k)("* => void, * => exit",Object(Q.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(Q.j)({opacity:0})))])};let ne=(()=>{class e extends h.a{constructor(e,t,i,n,a,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=i,this._config=a,this._focusMonitor=o,this._animationStateChanged=new s.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=n}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._getActiveElement(),i=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==i&&!i.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=this._getActiveElement();return e===t||e.contains(t)}_getActiveElement(){var e;const t=this._document.activeElement;return(null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement)||t}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb($.e),s.Sb(s.h),s.Sb(a.d,8),s.Sb(te),s.Sb($.d))},e.\u0275dir=s.Nb({type:e,viewQuery:function(e,t){if(1&e&&s.Wc(h.c,3),2&e){let e;s.Dc(e=s.kc())&&(t._portalOutlet=e.first)}},features:[s.Ab]}),e})(),ae=(()=>{class e extends ne{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return oe(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&s.Nc("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(s.bc("id",t._id),s.Eb("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),s.Oc("@dialogContainer",t._state))},features:[s.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.Pc(0,ee,0,0,"ng-template",0)},directives:[h.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ie.dialogContainer]}}),e})();const oe=s.ac(ae);let re=0;class se{constructor(e,t,i="mat-dialog-"+re++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new u.a,this._afterClosed=new u.a,this._beforeClosed=new u.a,this._state=0,t._id=i,t._animationStateChanged.pipe(Object(Z.a)(e=>"opened"===e.state),Object(v.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(Z.a)(e=>"closed"===e.state),Object(v.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(Z.a)(e=>e.keyCode===g.e&&!this.disableClose&&!Object(g.o)(e))).subscribe(e=>{e.preventDefault(),le(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():le(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(Z.a)(e=>"closing"===e.state),Object(v.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function le(e,t,i){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(i)}const ce=new s.s("MatDialogData"),de=new s.s("mat-dialog-default-options"),he=new s.s("mat-dialog-scroll-strategy"),ue={provide:he,deps:[F],useFactory:function(e){return()=>e.scrollStrategies.block()}};let fe=(()=>{class e{constructor(e,t,i,n,a,o,r,s,l){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=n,this._overlayContainer=a,this._dialogRefConstructor=r,this._dialogContainerType=s,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new u.a,this._afterOpenedAtThisLevel=new u.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(V.a)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Object(K.a)(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new te)).id&&this.getDialogById(t.id);const i=this._createOverlay(t),n=this._attachDialogContainer(i,t),a=this._attachDialogContent(e,n,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),n._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new S({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const i=s.t.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:te,useValue:t}]}),n=new h.d(this._dialogContainerType,t.viewContainerRef,i,t.componentFactoryResolver);return e.attach(n).instance}_attachDialogContent(e,t,i,n){const a=new this._dialogRefConstructor(i,t,n.id);if(e instanceof s.N)t.attachTemplatePortal(new h.h(e,null,{$implicit:n.data,dialogRef:a}));else{const i=this._createInjector(n,a,t),o=t.attachComponentPortal(new h.d(e,n.viewContainerRef,i));a.componentInstance=o.instance}return a.updateSize(n.width,n.height).updatePosition(n.position),a}_createInjector(e,t,i){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||n&&n.get(c.b,null)||a.push({provide:c.b,useValue:{value:e.direction,change:Object(J.a)()}}),s.t.create({parent:n||this._injector,providers:a})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n===e||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(F),s.Sb(s.t),s.Sb(void 0),s.Sb(void 0),s.Sb(R),s.Sb(void 0),s.Sb(s.P),s.Sb(s.P),s.Sb(s.s))},e.\u0275dir=s.Nb({type:e}),e})(),pe=(()=>{class e extends fe{constructor(e,t,i,n,a,o,r){super(e,t,n,o,r,a,se,ae,ce)}}return e.\u0275fac=function(t){return new(t||e)(s.fc(F),s.fc(s.t),s.fc(a.i,8),s.fc(de,8),s.fc(he),s.fc(e,12),s.fc(R))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({providers:[pe,ue],imports:[[q,h.g,X.c],X.c]}),e})();var me=n("7KLQ"),ge=n("WhB4"),be=n("UB4O");class ye{constructor(e,t){}}var we=n("3ejt"),xe=n("NTy9"),ke=n("PSD3"),Ce=n.n(ke),_e=n("3Pt+"),De=n("b6Qw"),Se=n("1kSV"),Ee=n("jhN1");const Te=["*"],Ae=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n";class Pe{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(e=>this._trackTile(e))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new Me(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class Me{constructor(e,t){this.row=e,this.col=t}}const He=new s.s("MAT_GRID_LIST");let Re=(()=>{class e{constructor(e,t){this._element=e,this._gridList=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Object(d.e)(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Object(d.e)(e))}_setStyle(e,t){this._element.nativeElement.style[e]=t}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb(He,8))},e.\u0275cmp=s.Mb({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,t){2&e&&s.Eb("rowspan",t.rowspan)("colspan",t.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:Te,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(e,t){1&e&&(s.tc(),s.Yb(0,"figure",0),s.sc(1),s.Xb())},styles:[Ae],encapsulation:2,changeDetection:0}),e})();const Be=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Ie{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,n){this._gutterSize=je(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=n}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Ue(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let n=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(e,i,n,a),this.setRowStyles(e,t,n,a)}setColStyles(e,t,i,n){let a=this.getBaseTileSize(i,n);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(a,t)),e._setStyle("width",Ue(this.getTileSize(a,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class Ne extends Ie{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,n){super.init(e,t,i,n),this.fixedRowHeight=je(this.fixedRowHeight),Be.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Ue(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Ue(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Oe extends Ie{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,n){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,n),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Ue(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Ue(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class Le extends Ie{setRowStyles(e,t){let i=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(i,t)),e._setStyle("height",Ue(this.getTileSize(i,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Ue(e){return`calc(${e})`}function je(e){return e.match(/([A-Za-z%]+)$/)?e:`${e}px`}let ze=(()=>{class e{constructor(e,t){this._element=e,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Object(d.e)(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const t=`${null==e?"":e}`;t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Le:e&&e.indexOf(":")>-1?new Oe(e):new Ne(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Pe);const e=this._tileCoordinator,t=this._tiles.filter(e=>!e._gridList||e._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,t),this._tileStyler.init(this.gutterSize,e,this.cols,i),t.forEach((t,i)=>{const n=e.positions[i];this._tileStyler.setStyle(t,n.row,n.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb(c.b,8))},e.\u0275cmp=s.Mb({type:e,selectors:[["mat-grid-list"]],contentQueries:function(e,t,i){if(1&e&&s.Lb(i,Re,1),2&e){let e;s.Dc(e=s.kc())&&(t._tiles=e)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,t){2&e&&s.Eb("cols",t.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s.Cb([{provide:He,useExisting:e}])],ngContentSelectors:Te,decls:2,vars:0,template:function(e,t){1&e&&(s.tc(),s.Yb(0,"div"),s.sc(1),s.Xb())},styles:[Ae],encapsulation:2,changeDetection:0}),e})(),Ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({imports:[[X.e,X.c],X.e,X.c]}),e})();var We=n("R1ws");const Fe=["mat-button",""],Ye=["*"],qe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Xe{constructor(e){this._elementRef=e}}const Ve=Object(X.i)(Object(X.k)(Object(X.j)(Xe)));let Je=(()=>{class e extends Ve{constructor(e,t,i){super(e),this._focusMonitor=t,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of qe)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb($.d),s.Sb(We.a,8))},e.\u0275cmp=s.Mb({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&s.Wc(X.f,1),2&e){let e;s.Dc(e=s.kc())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.Eb("disabled",t.disabled||null),s.Kb("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.Ab],attrs:Fe,ngContentSelectors:Ye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.tc(),s.Yb(0,"span",0),s.sc(1),s.Xb(),s.Tb(2,"span",1),s.Tb(3,"span",2)),2&e&&(s.Db(2),s.Kb("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.uc("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[X.f],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),Ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({imports:[[X.g,X.c],X.c]}),e})();var Ke=n("z6cu"),Qe=n("cp0P"),$e=n("vkgz"),et=n("lJxs"),tt=n("JIr8"),it=n("nYR2"),nt=n("w1tV"),at=n("tk/3");const ot=["*"];function rt(e){return Error(`Unable to find icon with the name "${e}"`)}function st(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function lt(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class ct{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let dt=(()=>{class e{constructor(e,t,i,n){this._httpClient=e,this._sanitizer=t,this._errorHandler=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,n){return this._addSvgIconConfig(e,t,new ct(i,null,n))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,n){const a=this._sanitizer.sanitize(s.K.HTML,i);if(!a)throw lt(i);return this._addSvgIconConfig(e,t,new ct("",a,n))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new ct(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){const n=this._sanitizer.sanitize(s.K.HTML,t);if(!n)throw lt(t);return this._addSvgIconSetConfig(e,new ct("",n,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(s.K.RESOURCE_URL,e);if(!t)throw st(e);const i=this._cachedIconsByUrl.get(t);return i?Object(J.a)(ht(i)):this._loadSvgIconFromConfig(new ct(e,null)).pipe(Object($e.a)(e=>this._cachedIconsByUrl.set(t,e)),Object(et.a)(e=>ht(e)))}getNamedSvgIcon(e,t=""){const i=ut(t,e);let n=this._svgIconConfigs.get(i);if(n)return this._getSvgFromConfig(n);if(n=this._getIconConfigFromResolvers(t,e),n)return this._svgIconConfigs.set(i,n),this._getSvgFromConfig(n);const a=this._iconSetConfigs.get(t);return a?this._getSvgFromIconSetConfigs(e,a):Object(Ke.a)(rt(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Object(J.a)(ht(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Object(et.a)(e=>ht(e)))}_getSvgFromIconSetConfigs(e,t){const i=this._extractIconWithNameFromAnySet(e,t);if(i)return Object(J.a)(i);const n=t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Object(tt.a)(t=>{const i=this._sanitizer.sanitize(s.K.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${i} failed: ${t.message}`)),Object(J.a)(null)})));return Object(Qe.a)(n).pipe(Object(et.a)(()=>{const i=this._extractIconWithNameFromAnySet(e,t);if(!i)throw rt(e);return i}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(n.svgText&&n.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(n),i=this._extractSvgIconFromSet(t,e,n.options);if(i)return i}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Object($e.a)(t=>e.svgText=t),Object(et.a)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Object(J.a)(null):this._fetchIcon(e).pipe(Object($e.a)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){const n=e.querySelector(`[id="${t}"]`);if(!n)return null;const a=n.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(a),this._setSvgAttributes(o,i)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let n=0;n<i.length;n++){const{name:e,value:a}=i[n];"id"!==e&&t.setAttribute(e,a)}for(let n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[n].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:i,options:n}=e,a=null!==(t=null==n?void 0:n.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(s.K.RESOURCE_URL,i);if(!o)throw st(i);const r=this._inProgressUrlFetches.get(o);if(r)return r;const l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(Object(it.a)(()=>this._inProgressUrlFetches.delete(o)),Object(nt.a)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(ut(e,t),i),this}_addSvgIconSetConfig(e,t){const i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let n=0;n<this._resolvers.length;n++){const a=this._resolvers[n](t,e);if(a)return(i=a).url&&i.options?new ct(a.url,null,a.options):new ct(a,null)}var i}}return e.\u0275fac=function(t){return new(t||e)(s.fc(at.a,8),s.fc(Ee.b),s.fc(a.d,8),s.fc(s.m))},e.\u0275prov=Object(s.Ob)({factory:function(){return new e(Object(s.fc)(at.a,8),Object(s.fc)(Ee.b),Object(s.fc)(a.d,8),Object(s.fc)(s.m))},token:e,providedIn:"root"}),e})();function ht(e){return e.cloneNode(!0)}function ut(e,t){return e+":"+t}class ft{constructor(e){this._elementRef=e}}const pt=Object(X.i)(ft),vt=new s.s("mat-icon-location",{providedIn:"root",factory:function(){const e=Object(s.X)(a.d),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gt=mt.map(e=>`[${e}]`).join(", "),bt=/^url\(['"]?#(.*?)['"]?\)$/;let yt=(()=>{class e extends pt{constructor(e,t,i,n,a){super(e),this._iconRegistry=t,this._location=n,this._errorHandler=a,this._inline=!1,this._currentIconFetch=f.a.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Object(d.b)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let n=0;n<t.length;n++)t[n].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const i=e.childNodes[t];1===i.nodeType&&"svg"!==i.nodeName.toLowerCase()||e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,i)=>{t.forEach(t=>{i.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(gt),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let n=0;n<t.length;n++)mt.forEach(e=>{const a=t[n],o=a.getAttribute(e),r=o?o.match(bt):null;if(r){let t=i.get(a);t||(t=[],i.set(a,t)),t.push({name:e,value:r[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(Object(v.a)(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${i}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l),s.Sb(dt),s.gc("aria-hidden"),s.Sb(vt),s.Sb(s.m))},e.\u0275cmp=s.Mb({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(s.Eb("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),s.Kb("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.Ab],ngContentSelectors:ot,decls:1,vars:0,template:function(e,t){1&e&&(s.tc(),s.sc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({imports:[[X.c],X.c]}),e})();var xt=n("7+OI"),kt=n("GyhO"),Ct=n("UXun"),_t=n("bOdf"),Dt=n("eIep");class St{}let Et=(()=>{class e extends St{getTranslation(e){return Object(J.a)({})}}return e.\u0275fac=function(t){return Tt(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();const Tt=s.ac(Et);class At{}let Pt=(()=>{class e{handle(e){return e.key}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();function Mt(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;let i,n,a,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(n in a=Object.create(null),e){if(!Mt(e[n],t[n]))return!1;a[n]=!0}for(n in t)if(!(n in a)&&void 0!==t[n])return!1;return!0}if(!Array.isArray(t))return!1;if((i=e.length)==t.length){for(n=0;n<i;n++)if(!Mt(e[n],t[n]))return!1;return!0}}return!1}function Ht(e){return null!=e}function Rt(e){return e&&"object"==typeof e&&!Array.isArray(e)}function Bt(e,t){let i=Object.assign({},e);return Rt(e)&&Rt(t)&&Object.keys(t).forEach(n=>{Rt(t[n])?n in e?i[n]=Bt(e[n],t[n]):Object.assign(i,{[n]:t[n]}):Object.assign(i,{[n]:t[n]})}),i}class It{}let Nt=(()=>{class e extends It{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let i;return i="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,i}getValue(e,t){let i="string"==typeof t?t.split("."):[t];t="";do{t+=i.shift(),!Ht(e)||!Ht(e[t])||"object"!=typeof e[t]&&i.length?i.length?t+=".":e=void 0:(e=e[t],t="")}while(i.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(e,i)=>{let n=this.getValue(t,i);return Ht(n)?n:e}):e}}return e.\u0275fac=function(t){return Ot(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();const Ot=s.ac(Nt);class Lt{}let Ut=(()=>{class e extends Lt{compile(e,t){return e}compileTranslations(e,t){return e}}return e.\u0275fac=function(t){return jt(t||e)},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();const jt=s.ac(Ut);class zt{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new s.n,this.onLangChange=new s.n,this.onDefaultLangChange=new s.n}}const Gt=new s.s("USE_STORE"),Wt=new s.s("USE_DEFAULT_LANG"),Ft=new s.s("DEFAULT_LANGUAGE"),Yt=new s.s("USE_EXTEND");let qt=(()=>{class e{constructor(e,t,i,n,a,o=!0,r=!1,l=!1,c){this.store=e,this.currentLoader=t,this.compiler=i,this.parser=n,this.missingTranslationHandler=a,this.useDefaultLang=o,this.isolate=r,this.extend=l,this.pending=!1,this._onTranslationChange=new s.n,this._onLangChange=new s.n,this._onDefaultLangChange=new s.n,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(null==this.defaultLang&&(this.defaultLang=e),t.pipe(Object(v.a)(1)).subscribe(t=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Object(J.a)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe(Object(v.a)(1)).subscribe(t=>{this.changeLang(e)}),t):(this.changeLang(e),Object(J.a)(this.translations[e]))}retrieveTranslations(e){let t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe(Object(Ct.a)(1),Object(v.a)(1));return this.loadingTranslations=t.pipe(Object(et.a)(t=>this.compiler.compileTranslations(t,e)),Object(Ct.a)(1),Object(v.a)(1)),this.loadingTranslations.subscribe({next:t=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},t),this.translations[e]):t,this.updateLangs(),this.pending=!1},error:e=>{this.pending=!1}}),t}setTranslation(e,t,i=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(i||this.extend)&&this.translations[e]?Bt(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(e=>{-1===this.langs.indexOf(e)&&this.langs.push(e)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,i){let n;if(t instanceof Array){let n={},a=!1;for(let o of t)n[o]=this.getParsedResult(e,o,i),Object(xt.a)(n[o])&&(a=!0);if(a){const e=t.map(e=>Object(xt.a)(n[e])?n[e]:Object(J.a)(n[e]));return Object(Qe.a)(e).pipe(Object(et.a)(e=>{let i={};return e.forEach((e,n)=>{i[t[n]]=e}),i}))}return n}if(e&&(n=this.parser.interpolate(this.parser.getValue(e,t),i)),void 0===n&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(n=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),i)),void 0===n){let e={key:t,translateService:this};void 0!==i&&(e.interpolateParams=i),n=this.missingTranslationHandler.handle(e)}return void 0!==n?n:t}get(e,t){if(!Ht(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(_t.a)(i=>(i=this.getParsedResult(i,e,t),Object(xt.a)(i)?i:Object(J.a)(i))));{let i=this.getParsedResult(this.translations[this.currentLang],e,t);return Object(xt.a)(i)?i:Object(J.a)(i)}}getStreamOnTranslationChange(e,t){if(!Ht(e)||!e.length)throw new Error('Parameter "key" required');return Object(kt.a)(Object(V.a)(()=>this.get(e,t)),this.onTranslationChange.pipe(Object(Dt.a)(i=>{const n=this.getParsedResult(i.translations,e,t);return"function"==typeof n.subscribe?n:Object(J.a)(n)})))}stream(e,t){if(!Ht(e)||!e.length)throw new Error('Parameter "key" required');return Object(kt.a)(Object(V.a)(()=>this.get(e,t)),this.onLangChange.pipe(Object(Dt.a)(i=>{const n=this.getParsedResult(i.translations,e,t);return Object(xt.a)(n)?n:Object(J.a)(n)})))}instant(e,t){if(!Ht(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,t);if(Object(xt.a)(i)){if(e instanceof Array){let t={};return e.forEach((i,n)=>{t[e[n]]=e[n]}),t}return e}return i}set(e,t,i=this.currentLang){this.translations[i][e]=this.compiler.compile(t,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return e.\u0275fac=function(t){return new(t||e)(s.fc(zt),s.fc(St),s.fc(Lt),s.fc(It),s.fc(At),s.fc(Wt),s.fc(Gt),s.fc(Yt),s.fc(Ft))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})(),Xt=(()=>{class t{constructor(e,t){this.translate=e,this._ref=t,this.value=""}updateValue(e,t,i){let n=t=>{this.value=void 0!==t?t:e,this.lastKey=e,this._ref.markForCheck()};if(i){let a=this.translate.getParsedResult(i,e,t);Object(xt.a)(a.subscribe)?a.subscribe(n):n(a)}this.translate.get(e,t).subscribe(n)}transform(t,...i){if(!t||!t.length)return t;if(Mt(t,this.lastKey)&&Mt(i,this.lastParams))return this.value;let n;if(Ht(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let t=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"!=typeof i[0]||Array.isArray(i[0])||(n=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(qt),s.hc())},t.\u0275pipe=s.Rb({name:"translate",type:t,pure:!1}),t.\u0275prov=s.Ob({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:St,useClass:Et},t.compiler||{provide:Lt,useClass:Ut},t.parser||{provide:It,useClass:Nt},t.missingTranslationHandler||{provide:At,useClass:Pt},zt,{provide:Gt,useValue:t.isolate},{provide:Wt,useValue:t.useDefaultLang},{provide:Yt,useValue:t.extend},{provide:Ft,useValue:t.defaultLanguage},qt]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:St,useClass:Et},t.compiler||{provide:Lt,useClass:Ut},t.parser||{provide:It,useClass:Nt},t.missingTranslationHandler||{provide:At,useClass:Pt},{provide:Gt,useValue:t.isolate},{provide:Wt,useValue:t.useDefaultLang},{provide:Yt,useValue:t.extend},{provide:Ft,useValue:t.defaultLanguage},qt]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({}),e})();function Jt(e,t){if(1&e&&(s.Yb(0,"mat-grid-tile"),s.Rc(1),s.Xb()),2&e){const e=t.$implicit;s.Db(1),s.Tc(" ",e," ")}}function Zt(e,t){if(1&e){const e=s.Zb();s.Yb(0,"button",16),s.jc("click",function(){s.Hc(e);const t=s.nc(2).$implicit;return s.nc().openDialog(t)}),s.Yb(1,"mat-icon"),s.Rc(2,"list"),s.Xb(),s.Xb()}}const Kt=function(e){return{"background-image":e}};function Qt(e,t){1&e&&s.Tb(0,"mat-grid-tile",17),2&e&&s.uc("ngStyle",s.yc(1,Kt,t.$implicit))}const $t=function(){return{background:"none"}};function ei(e,t){if(1&e&&(s.Yb(0,"mat-grid-list",13),s.Pc(1,Zt,3,0,"button",14),s.Pc(2,Qt,1,3,"mat-grid-tile",15),s.Xb()),2&e){const e=s.nc().$implicit;s.uc("ngStyle",s.xc(4,$t))("ngClass",e.date),s.Db(1),s.uc("ngIf",e.styles.showDialogButton),s.Db(1),s.uc("ngForOf",e.icon)}}function ti(e,t){if(1&e){const e=s.Zb();s.Yb(0,"mat-grid-tile",10),s.jc("click",function(){s.Hc(e);const i=t.$implicit,n=s.nc(),a=s.Ec(21);return n.TestClick(a,i)}),s.Yb(1,"span",11),s.Rc(2),s.Xb(),s.Pc(3,ei,3,5,"mat-grid-list",12),s.Xb()}if(2&e){const e=t.$implicit;s.uc("ngClass",e.cellClass),s.Db(1),s.uc("ngClass",e.dayClass),s.Db(1),s.Sc(e.dayNumber),s.Db(1),s.uc("ngIf",e.styles)}}function ii(e,t){if(1&e&&(s.Yb(0,"option"),s.Rc(1),s.Xb()),2&e){const e=t.$implicit;s.Db(1),s.Uc("",e.firstname," ",e.lastname,"")}}function ni(e,t){if(1&e){const e=s.Zb();s.Yb(0,"select",31),s.jc("change",function(t){return s.Hc(e),s.nc(3).changeCategory(t)}),s.Pc(1,ii,2,2,"option",6),s.Xb()}if(2&e){const e=s.nc(3);s.uc("value",e.category),s.Db(1),s.uc("ngForOf",e.Category)}}function ai(e,t){if(1&e){const e=s.Zb();s.Yb(0,"div",24),s.Yb(1,"span"),s.Rc(2,"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),s.Xb(),s.Yb(3,"form",25),s.jc("ngSubmit",function(){return s.Hc(e),s.nc(2).AddDays()}),s.Pc(4,ni,2,2,"select",26),s.Yb(5,"div",27),s.Yb(6,"label"),s.Rc(7,"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430"),s.Xb(),s.Tb(8,"input",28),s.Xb(),s.Yb(9,"div",27),s.Yb(10,"label"),s.Rc(11,"\u0412\u0440\u0435\u043c\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"),s.Xb(),s.Tb(12,"input",29),s.Xb(),s.Yb(13,"button",30),s.Rc(14,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),s.Xb(),s.Xb(),s.Xb()}if(2&e){const e=s.nc(2);s.Db(3),s.uc("formGroup",e.TimeControl),s.Db(1),s.uc("ngIf",e.Category.length>0)}}function oi(e,t){if(1&e){const e=s.Zb();s.Yb(0,"div",18),s.Yb(1,"h5",19),s.Rc(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c"),s.Xb(),s.Yb(3,"button",20),s.jc("click",function(){return t.$implicit.dismiss("Cross click")}),s.Yb(4,"span",21),s.Rc(5,"\xd7"),s.Xb(),s.Xb(),s.Xb(),s.Pc(6,ai,15,2,"div",22),s.Yb(7,"button",23),s.jc("click",function(){return s.Hc(e),s.nc().GoOver()}),s.Rc(8,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"),s.Xb()}if(2&e){const e=s.nc();s.Db(6),s.uc("ngIf",e.addDay)}}function ri(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Tb(2,"img",2),s.Xb(),s.Yb(3,"td"),s.Yb(4,"h3"),s.Rc(5),s.Xb(),s.Xb(),s.Xb()),2&e){const e=t.$implicit,i=s.nc();s.Db(2),s.vc("src",i.iconPath+e+i.iconFormat,s.Jc),s.Db(3),s.Sc(e)}}const si=".text-white[_ngcontent-%COMP%]{color:#fff!important}.calendar-nav[_ngcontent-%COMP%]{color:#228b22}.calendar-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.5}.holiday[_ngcontent-%COMP%]{background-color:#d6f1f5}.legend[_ngcontent-%COMP%]{display:inline-block;min-width:85px;margin:10px;text-align:center}.box50[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto}.calendar[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{background-color:#f4f4f4;border:2px solid #fff}.calendar[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:5px;color:#0a55a0;font-weight:700;z-index:1}.calendar[_ngcontent-%COMP%]   .innerCell[_ngcontent-%COMP%]{width:100%;background-position:50%;background-repeat:no-repeat;background-size:contain;background-size:50%}.calendar[_ngcontent-%COMP%]   .innerCell[_ngcontent-%COMP%]   .mat-grid-tile[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat;background-size:contain;background-size:auto 80%}.calendar[_ngcontent-%COMP%]   .innerCell[_ngcontent-%COMP%]   .dialogButton[_ngcontent-%COMP%]{display:block;top:2vmax;margin:0 auto;z-index:1;min-width:10px;line-height:10px;padding:0}.calendar[_ngcontent-%COMP%]   .innerCell[_ngcontent-%COMP%]   .dialogButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}.today[_ngcontent-%COMP%]{color:red!important;border-radius:50%;width:30px;height:30px;text-align:center;line-height:30px}.dialogContent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}";let li=(()=>{class e{constructor(e,t,i,n,a,o,r,s,l,c,d){this.dialog=e,this.formBuilder=t,this.schedule=i,this.dataservices=n,this.cookieService=a,this.sheduleservices=o,this.router=r,this.staff=s,this.modalService=l,this.sanitizer=c,this.clientser=d,this.prevButtonText="previous",this.nextButtonText="next",this.daysShort=["\u041f\u043e\u043d","\u0412\u0442\u043e\u0440","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432","\u041f\u044f\u0442\u043d","\u0421\u0443\u0431\u0431","\u0412\u043e\u0441\u043a"],this.iconPath="assets/images/",this.iconFormat=".png",this.iconSortArray=[],this.eventDates=[],this.cells=[],this.MONTHS=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c"],this.today=new Date,this.currentMonth=this.today.getMonth(),this.currentYear=this.today.getFullYear(),this.months=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],this.addDay=!0}ngOnInit(){this.corner=["left-top","rigth-top"],this.events=[],this.dataservices.users.subscribe(e=>{null==e?(this.user=JSON.parse(this.cookieService.get("user")),this.dataservices.SendAccount(this.user)):this.user=e,this.LoadCalendar(((new Date).getMonth()+1).toString(),(new Date).getFullYear().toString()),this.nextmonth=this.MONTHS[(new Date).getMonth()+1],this.prevmonth=this.MONTHS[(new Date).getMonth()-1],this.visibleMonth=this.MONTHS[(new Date).getMonth()],console.log(this.nextMonth)})}LoadCalendar(e,t){this.schedule.getDaysOfWeek(this.user.token,e,t).subscribe(e=>{if(200===e.status.code){this.dateOf=e.responce;for(const e of this.dateOf)this.staff.getUserpic(this.user.token,e.id_staff).subscribe(t=>{const i=URL.createObjectURL(t);e.avatar=this.sanitizer.bypassSecurityTrustUrl(i);const n=this.cells.filter(t=>t.corner.find(t=>t===e.id_staff));for(let e of n)e.icon.push("url('"+i+"')")});this.drawCalendar(this.currentMonth,this.currentYear)}})}openDialog(e){this.dialog.open(ci,{data:{iconList:this.events[e.date].icon.split("-"),iconPath:this.iconPath,iconFormat:this.iconFormat}})}isObjEmpty(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}next(){this.currentYear=11===this.currentMonth?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this.nextmonth=this.MONTHS[this.currentMonth+1],this.prevmonth=this.MONTHS[this.currentMonth-1],this.visibleMonth=this.MONTHS[this.currentMonth];const e=1===(this.currentMonth+1).toString().length?"0"+(this.currentMonth+1).toString():(this.currentMonth+1).toString();this.LoadCalendar(e,this.currentYear.toString())}previous(){this.currentYear=0===this.currentMonth?this.currentYear-1:this.currentYear,this.currentMonth=0===this.currentMonth?11:this.currentMonth-1,this.nextmonth=this.MONTHS[this.currentMonth+1],this.prevmonth=this.MONTHS[this.currentMonth-1],this.visibleMonth=this.MONTHS[this.currentMonth];const e=1===(this.currentMonth+1).toString().length?"0"+(this.currentMonth+1).toString():(this.currentMonth+1).toString();this.LoadCalendar(e,this.currentYear.toString())}daysInMonth(e,t){return 32-new Date(t,e,32).getDate()}drawCalendar(e,t){let i=new Date(t,e).getDay()+6;i>6&&(i%=7),this.cells=[],this.prevMonth=this.months[e-1]||this.months[this.months.length-1],this.nextMonth=this.months[e+1]||this.months[0],this.visibleYear=t,this.prevYear=t,this.nextYear=t,0===e?this.prevYear=t-1:11===e&&(this.nextYear=t+1);let n=1;for(let a=0;a<6;a++)for(let o=0;o<7;o++)if(0===a&&o<i)this.cells.push({dayNumber:"",dayClass:"",cellClass:"",corner:[],icon:[]});else{if(n>this.daysInMonth(e,t))break;{const i=t;let a=(e+1).toString();1===a.length&&(a="0"+a);let o=n.toString();1===o.length&&(o="0"+o);const r=i+"-"+a+"-"+o;let s={},l="",c=[],d=[];const h="";if(this.staffdata=new ye(null,null),this.dateOf.find(e=>e.days.find(e=>e===r))){l=void 0,this.staffdata=this.dateOf.filter(e=>e.days.find(e=>e===r));for(const e of this.staffdata)d.push(e.id_staff)}else this.staffdata.avatar=void 0;if(this.staffdata.avatar){d=this.corner.pop(),c=this.staffdata.avatar;const e=this.events[r].icon.split("-");switch(e.length){case 1:s={center:e[0],topLeft:"blank",topRight:"blank",bottomLeft:"blank",bottomRight:"blank"};break;case 2:s={center:"blank",topLeft:e[0],topRight:"blank",bottomLeft:"blank",bottomRight:e[1]};break;case 3:s={center:"blank",topLeft:e[0],topRight:e[1],bottomLeft:"blank",bottomRight:e[2]};break;case 4:s={center:"blank",topLeft:e[0],topRight:e[1],bottomLeft:e[2],bottomRight:e[3]}}e.length>4&&(s={showDialogButton:!0,center:"blank",topLeft:"blank",topRight:"blank",bottomLeft:"blank",bottomRight:"blank"})}this.isObjEmpty(s)&&(s={center:"blank",topLeft:"blank",topRight:"blank",bottomLeft:"blank",bottomRight:"blank"}),this.cells.push({date:r,dayNumber:n.toString(),dayClass:h,cellClass:l,styles:s,corner:d,icon:c}),n===this.today.getDate()&&t===this.today.getFullYear()&&e===this.today.getMonth()&&(this.cells[this.cells.length-1].dayClass="today accent-bg"),n++}}}TestClick(e,t){this.TimeControl=this.formBuilder.group({start:"",end:"",category:null,days:t.date}),this.modalReference=this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}),this.modalReference.result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`}),this.clientser.getStaffs(this.user.token,new Date(t.date)).subscribe(e=>{200===e.status.code&&(this.Category=e.responce,this.Category.length>0&&this.TimeControl.patchValue({category:this.Category[0]}))})}AddDays(){const e=this.TimeControl.getRawValue(),t=new Date(e.days);let i=parseInt(e.start.split(":")[0],10);t.setHours(i),i=parseInt(e.start.split(":")[1],10),t.setMinutes(i),t.setSeconds(0);const n=new Date(e.days);i=parseInt(e.end.split(":")[0],10),n.setHours(i),i=parseInt(e.end.split(":")[1],10),n.setMinutes(i),n.setSeconds(0);const a=new be.a(0,t,n,e.category.id);this.sheduleservices.addDaysofWork(this.user.token,a).subscribe(e=>{201===e.status.code&&(this.position("\u0414\u0435\u043d\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),this.modalReference.close())},e=>console.log(e)),console.log()}position(e){Ce.a.fire({position:"top-end",icon:"success",title:e,showConfirmButton:!1,timer:1500})}noposition(e){Ce.a.fire({position:"top-end",icon:"error",title:e,showConfirmButton:!1,timer:1500})}changeCategory(e){console.log()}getDismissReason(e){}GoOver(){const e=this.TimeControl.getRawValue();this.modalReference.close(),this.router.navigate(["calendar/scheduler/"+e.days])}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(pe),s.Sb(_e.d),s.Sb(me.a),s.Sb(ge.a),s.Sb(De.a),s.Sb(me.a),s.Sb(o.d),s.Sb(we.a),s.Sb(Se.d),s.Sb(Ee.b),s.Sb(xe.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-createcalendar"]],inputs:{events:"events",prevButtonText:"prevButtonText",nextButtonText:"nextButtonText",daysShort:"daysShort",iconFormat:"iconFormat"},features:[s.Cb([me.a,we.a,xe.a])],decls:22,vars:9,consts:[["cols","3","rowHeight","60px",1,"primary-bg","calendar-nav"],["mat-button","",3,"click"],[1,"legend"],["src","assets/images/prevmonth.png"],["src","assets/images/nextmonth.png"],["cols","7","rowHeight","30px",1,"accent-bg","color-white"],[4,"ngFor","ngForOf"],["cols","7",1,"calendar"],["class","cell",3,"ngClass","click",4,"ngFor","ngForOf"],["content",""],[1,"cell",3,"ngClass","click"],[3,"ngClass"],["cols","2","class","innerCell","gutterSize","0",3,"ngStyle","ngClass",4,"ngIf"],["cols","2","gutterSize","0",1,"innerCell",3,"ngStyle","ngClass"],["class","dialogButton","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["class","img-fluid img-90 rounded-circle blur-up lazyloaded",3,"ngStyle",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent",1,"dialogButton",3,"click"],[1,"img-fluid","img-90","rounded-circle","blur-up","lazyloaded",3,"ngStyle"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","f-w-600"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["class","modal-body",4,"ngIf"],[1,"btn","btn-success","shadow-lg","mx-auto",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["class","custom-select","formControlName","category",3,"value","change",4,"ngIf"],[1,"form-group"],["type","time","formControlName","start",2,"margin-left","20px"],["type","time","formControlName","end",2,"margin-left","20px"],["type","submit",1,"btn","btn-success","shadow-lg","mx-auto"],["formControlName","category",1,"custom-select",3,"value","change"]],template:function(e,t){1&e&&(s.Yb(0,"mat-grid-list",0),s.Yb(1,"mat-grid-tile"),s.Yb(2,"button",1),s.jc("click",function(){return t.previous()}),s.Yb(3,"span",2),s.Rc(4),s.Xb(),s.Tb(5,"img",3),s.Xb(),s.Xb(),s.Yb(6,"mat-grid-tile"),s.Yb(7,"strong"),s.Rc(8),s.oc(9,"translate"),s.Xb(),s.Xb(),s.Yb(10,"mat-grid-tile"),s.Yb(11,"button",1),s.jc("click",function(){return t.next()}),s.Rc(12),s.Yb(13,"span",2),s.Rc(14),s.Xb(),s.Tb(15,"img",4),s.Xb(),s.Xb(),s.Xb(),s.Yb(16,"mat-grid-list",5),s.Pc(17,Jt,2,1,"mat-grid-tile",6),s.Xb(),s.Yb(18,"mat-grid-list",7),s.Pc(19,ti,4,4,"mat-grid-tile",8),s.Xb(),s.Pc(20,oi,9,1,"ng-template",null,9,s.Qc)),2&e&&(s.Db(4),s.Sc(t.prevmonth),s.Db(4),s.Uc(" ",s.pc(9,7,"\u041c\u0415\u0421\u042f\u0426 "+t.visibleMonth)," ",t.visibleYear," "),s.Db(4),s.Tc(" ",t.nextButtonText," "),s.Db(2),s.Sc(t.nextmonth),s.Db(3),s.uc("ngForOf",t.daysShort),s.Db(2),s.uc("ngForOf",t.cells))},directives:[ze,Re,Je,a.l,a.k,a.m,a.n,yt,_e.z,_e.p,_e.h,_e.b,_e.o,_e.g,_e.w,_e.s,_e.y],pipes:[Xt],styles:[si]}),e})(),ci=(()=>{class e{constructor(e){this.data=e,this.iconList=e.iconList,this.iconPath=e.iconPath,this.iconFormat=e.iconFormat}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(ce))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-multiple-icons-dialog"]],decls:2,vars:1,consts:[["cellspacing","20",1,"dialogContent"],[4,"ngFor","ngForOf"],["alt","item icon",3,"src"]],template:function(e,t){1&e&&(s.Yb(0,"table",0),s.Pc(1,ri,6,2,"tr",1),s.Xb()),2&e&&(s.Db(1),s.uc("ngForOf",t.iconList))},directives:[a.l],styles:[si]}),e})();var di=n("m1x9"),hi=n("HDdC");let ui=(()=>{class e{constructor(e){this.http=e,this.events=[{id:10,start:di.a.Date.today().addHours(12),end:di.a.Date.today().addHours(14),html:'<div class="card" style="margin: 0;  line-height: 0">  <div class="card-body" style="margin: 0; line-height: 0">    <h5 class="card-title" style="height: 10px; margin-top: -30">Card title</h5>    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card\'s content.</p>  </div></div> ',resource:"\u041a\u043b\u0438\u043c\u043e\u0432\u0430 \u0410\u043d\u043d\u0430"}],this.resources=[{name:"\u041a\u043b\u0438\u043c\u043e\u0432\u0430 \u0410\u043d\u043d\u0430",id:"\u041a\u043b\u0438\u043c\u043e\u0432\u0430 \u0410\u043d\u043d\u0430",children:[{name:"Resource 1",id:"R1"},{name:"Resource 2",id:"R2"},{name:"Resource 3",id:"R3"},{name:"Resource 4",id:"R4"}]}]}getEvents(e,t){return new hi.a(e=>{setTimeout(()=>{e.next(this.events)},200)})}getResources(){return new hi.a(e=>{setTimeout(()=>{e.next(this.resources)},200)})}}return e.\u0275fac=function(t){return new(t||e)(s.fc(at.a))},e.\u0275prov=s.Ob({token:e,factory:e.\u0275fac}),e})();var fi=n("ExW7"),pi=n("shRS"),vi=["*"],mi=function(){return 65536*(1+Math.random())|0},gi=function(e){return JSON.stringify(e)},bi=function(){var e={hashes:{}};this.diff=function(t){var i={},n={};t=t||[];for(var a=0;a<t.length;a++){var o=t[a],r=o.id;if(!r)throw"The 'id' property must be specified for event data object";if(n.hasOwnProperty(""+r))throw"Duplicate event IDs are not allowed, id: "+r;n[""+r]=JSON.stringify(o)}return i.add=t.filter(function(t){return!e.hashes.hasOwnProperty(t.id)}),i.remove=Object.getOwnPropertyNames(e.hashes).filter(function(e){return!n.hasOwnProperty(e)}).map(function(t){return JSON.parse(e.hashes[t]).id}),i.modify=t.filter(function(t){return e.hashes.hasOwnProperty(t.id)&&e.hashes[t.id]!==n[t.id]}),i.changeCount=i.add.length+i.modify.length+i.remove.length,e.hashes=n,i}},yi=(function(){function e(){this._requestUpdateFull=!1,this._requestUpdateEvents=!1,this._requestViewChange=!1,this._eventDiff=new bi,this._visibleRange={start:null,end:null},this._eventsSet=!1,this._id="dp_"+(new Date).getTime()+mi(),this.viewChange=new s.n}Object.defineProperty(e.prototype,"events",{get:function(){return this._events},set:function(e){this._eventsSet=!0,this._events=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.control=new di.a.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.updateEvents(),this._requestUpdateFull=!1,this._requestUpdateEvents=!1,this.control.init()},e.prototype.ngDoCheck=function(){if(this.control){this.updateOptions(),this.updateEvents();var e=this.control;if(this._requestUpdateFull?(this.control.update(),e.internal.postInit(),this._requestUpdateFull=!1,this._requestUpdateEvents=!1):this._requestUpdateEvents&&(this.control.update({events:this.events}),this._requestUpdateEvents=!1),this._requestViewChange){this._requestViewChange=!1;var t={};t.visibleRangeChanged=this._visibleRange.start!==this.control.visibleStart()||this._visibleRange.end!==this.control.visibleEnd(),this._visibleRange.start=this.control.visibleStart(),this._visibleRange.end=this.control.visibleEnd(),this.viewChange.emit(t)}}},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=gi(this.config);if(e!==this._hashOptions){var t=this.control;this.config&&this.config.resources&&t.internal.resourcesFromAttr(),t.internal.skipUpdate()?t.internal.skipped():(t.internal.loadOptions(this.config),this._requestUpdateFull=!0,this._requestViewChange=!0)}this._hashOptions=e},e.prototype.updateEvents=function(){if(this._eventsSet){var e=this._eventDiff.diff(this.events),t=this.control;t.internal.eventsFromAttr(),t.internal.skipUpdate()?t.internal.skipped():0===e.changeCount&&this.events===t.events.list||(e.changeCount<10&&this.events===t.events.list?(e.add.forEach(function(e){t.events.add(new di.a.Event(e),null,{renderOnly:!0})}),e.modify.forEach(function(e){t.events.update(new di.a.Event(e))}),e.remove.forEach(function(e){var i=t.events.find(e);i&&t.events.remove(i)}),t.internal.evImmediateRefresh()):(t.events.list=this.events,this._requestUpdateEvents=!0))}},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-scheduler"]],inputs:{events:"events",config:"config"},outputs:{viewChange:"viewChange"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]})}(),function(){function e(){this._requestUpdateFull=!1,this._requestUpdateEvents=!1,this._requestViewChange=!1,this._id="dp_"+(new Date).getTime()+mi(),this.viewChange=new s.n}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.dispose();var e=new di.a.Calendar(this.id);this.control=e,this.updateOptions(),this.updateEvents(),this._requestUpdateFull=!1,this._requestUpdateEvents=!1,e.init()},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this._requestUpdateFull?(this.control.update(),this._requestUpdateFull=!1,this._requestUpdateEvents=!1):this._requestUpdateEvents&&(this.control.update({events:this.events}),this._requestUpdateEvents=!1),this._requestViewChange)&&(this._requestViewChange=!1,this.viewChange.emit({}))},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=gi(this.config);if(e!==this._hashOptions){var t=this.control;for(var i in this.config)t[i]=this.config[i];this._requestUpdateFull=!0,this._requestViewChange=!0}this._hashOptions=e},e.prototype.updateEvents=function(){var e=gi(this.events);e!==this._hashEvents&&(this.control.events.list=this.events,this._requestUpdateEvents=!0),this._hashEvents=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-calendar"]],inputs:{events:"events",config:"config"},outputs:{viewChange:"viewChange"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]}),e}()),wi=(function(){function e(){this._requestUpdate=!1,this._id="dp_"+(new Date).getTime()+mi()}Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new di.a.Gantt(this.id),this.updateOptions(),this._requestUpdate=!1,this.control.init()},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this._requestUpdate&&(this.control.update(),this._requestUpdate=!1))},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=gi(this.config);e!==this._hashOptions&&(this.control.internal.loadOptions(this.config),this._requestUpdate=!0),this._hashOptions=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-gantt"]],inputs:{config:"config"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]})}(),function(){function e(){this._requestUpdate=!1,this._id="dp_"+(new Date).getTime()+mi()}Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new di.a.Month(this.id),this.updateOptions(),this.updateEvents(),this._requestUpdate=!1,this.control.init()},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this._requestUpdate&&(this.control.update(),this._requestUpdate=!1))},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=gi(this.config);if(e!==this._hashOptions){var t=this.control;for(var i in this.config)t[i]=this.config[i];this._requestUpdate=!0}this._hashOptions=e},e.prototype.updateEvents=function(){var e=gi(this.events);e!==this._hashEvents&&(this.control.events.list=this.events,this._requestUpdate=!0),this._hashEvents=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-month"]],inputs:{events:"events",config:"config"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]})}(),function(){function e(){this._requestUpdate=!1,this._id="dp_"+(new Date).getTime()+mi()}Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new di.a.Kanban(this.id),this.updateOptions(),this._requestUpdate=!1,this.control.init()},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this._requestUpdate&&(this.control.update(),this._requestUpdate=!1))},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=gi(this.config);e!==this._hashOptions&&(this.control.internal.loadOptions(this.config),this._requestUpdate=!0),this._hashOptions=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-kanban"]],inputs:{config:"config"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]})}(),function(){function e(){this._requestUpdate=!1,this._onTrs=null,this._date=di.a.Date.today(),this._dateSet=!1,this._currentDate=null,this.dateChange=new s.n,this._id="dp_"+(new Date).getTime()+mi()}Object.defineProperty(e.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e,this._dateSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new di.a.Navigator(this.id);var e=this;this.updateOptions(),this.updateEvents();var t=this.control;this.control.onTimeRangeSelected=function(i){e.dateChange.emit(i.day),e._onTrs&&e._onTrs.call(t,i)},this._requestUpdate=!1,this.control.init(),this.control.selectionDay!==di.a.Date.today()&&e.dateChange.emit(this.control.selectionDay)},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this._requestUpdate&&(this.control.update(),this._requestUpdate=!1))},e.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},e.prototype.updateOptions=function(){var e=this.control,t=gi(this.config);if(t!==this._hashOptions)for(var i in this.config)"selectionDay"!==i&&("onTimeRangeSelected"===i?this._onTrs=this.config.onTimeRangeSelected:e[i]=this.config[i],this._requestUpdate=!0);this._dateSet&&this.date&&(this._dateSet=!1,this._currentDate=e.selectionDay,e.select(this.date)),this._hashOptions=t},e.prototype.updateEvents=function(){var e=gi(this.events);e!==this._hashEvents&&(this.control.events.list=this.events,this._requestUpdate=!0),this._hashEvents=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-navigator"]],inputs:{date:"date",events:"events",config:"config"},outputs:{dateChange:"dateChange"},decls:1,vars:1,consts:[[3,"id"]],template:function(e,t){1&e&&s.Tb(0,"div",0),2&e&&s.vc("id",t.id)},styles:[""]})}(),function(){function e(e){this.element=e,this.autoFocus=!0,this.close=new s.n,this._visibility="hidden"}Object.defineProperty(e.prototype,"visible",{get:function(){return"visible"===this._visibility},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.show=function(){this._visibility="visible";var e=this.element.nativeElement;this.autoFocus&&setTimeout(function(){var t=e.querySelector("input");t&&t.focus()})},e.prototype.hide=function(e){this._visibility="hidden",this.close.emit({result:e})},e.\u0275fac=function(t){return new(t||e)(s.Sb(s.l))},e.\u0275cmp=s.Mb({type:e,selectors:[["daypilot-modal"]],inputs:{autoFocus:"autoFocus"},outputs:{close:"close"},ngContentSelectors:vi,decls:3,vars:4,consts:[[1,"overlay",3,"click"],[1,"modal"]],template:function(e,t){1&e&&(s.tc(),s.Yb(0,"div",0),s.jc("click",function(){return t.hide()}),s.Xb(),s.Yb(1,"div",1),s.sc(2),s.Xb()),2&e&&(s.Kb("visible",t.visible),s.Db(1),s.Kb("visible",t.visible))},styles:[".modal[_ngcontent-%COMP%] {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n    \n    transform: translateY(-100%);\n  }\n  .modal.visible[_ngcontent-%COMP%] {\n    transform: translateY(0);\n  }\n\n  .overlay[_ngcontent-%COMP%] {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    \n    opacity: 0;\n    margin-left: 100%;\n  }\n  .overlay.visible[_ngcontent-%COMP%] {\n    margin-left: 0;\n    opacity: 0.3;\n  }\n  .modal[_ngcontent-%COMP%] {\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n  }\n  .overlay[_ngcontent-%COMP%] {\n    transition: margin-left 0s linear 0.3s, opacity 0.3s;\n  }\n  .overlay.visible[_ngcontent-%COMP%] {\n    transition: margin-left 0s, opacity 0.3s;\n  }"]})}(),function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({}),e}());const xi=["calendar"],ki=[{path:"",component:li},{path:"scheduler/:date",component:(()=>{class e{constructor(e,t,i,n,a,o){this.ds=e,this.dataservices=t,this.route=i,this.scheduler=n,this.cookieService=a,this.serservices=o,this.events=[],this.resources=[],this.form=[],this.config={cellDuration:15,viewType:"Resources",headerLevels:1,showCurrentTime:!1,onTimeRangeSelected:e=>{this.serservices.getServicesId(this.user.token,e.resource).subscribe(t=>{if(200===t.status.code){const i=t.responce;this.resources=[],i.map(e=>{this.resources.push({name:e.name,id:e.id.toString()})}),this.form.push({name:"\u041d\u0430\u0447\u0430\u043b\u043e",id:"start",type:"time"},{name:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0438\u0435\u043d\u0442\u0430",id:"client",type:"text"},{name:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u043b\u0443\u0433\u0443",id:"resource",options:this.resources});const n={text:e.resource,token:this.user.token,start:new Date(e.start).toTimeString(),resource:"B",send:this.Send};this.scheduler.getDays(this.user.token,this.dttm,e.resource).subscribe(t=>{const i=t.responce,a=this.scheduler;di.a.Modal.form(this.form,n).then(function(t){t.result&&(t.result.send=new pi.a(parseInt(t.result.resource,10),null,e.start,0,e.client,null,i.id),a.AddRecordBis(t.result.token,t.result.send).subscribe(e=>{201===e.status.code&&location.reload()}))})})}})},onEventClicked:e=>{console.log()}},this.route.params.subscribe(e=>{this.dttm=e.date,this.config.startDate=new di.a.Date(this.dttm),this.dataservices.users.subscribe(e=>{null==e?(this.user=JSON.parse(this.cookieService.get("user")),this.dataservices.SendAccount(this.user)):this.user=e})})}SendData(){this.scheduler.AddRecordBis(this.user.token,this.Send)}Test(e){console.log()}ngAfterViewInit(){this.ds.getResources().subscribe(e=>{this.config.columns=[],this.scheduler.getBusiness(this.user.token,this.dttm).subscribe(e=>{if(200===e.status.code){let t=e.responce;for(const e of t)this.config.columns.find(t=>t.id===e.account_id.toString())||this.config.columns.push({name:e.resource.toString(),id:e.account_id.toString()}),e.start=new di.a.Date(e.start.toString()),e.resource=e.account_id.toString(),e.end=new di.a.Date(e.end.toString());const i=this.calendar.control.visibleStart(),n=this.calendar.control.visibleEnd();this.ds.getEvents(i,n).subscribe(e=>{t=t.filter(e=>0!==e.id),this.events=t})}})})}getDismissReason(e){}}return e.\u0275fac=function(t){return new(t||e)(s.Sb(ui),s.Sb(ge.a),s.Sb(o.a),s.Sb(me.a),s.Sb(De.a),s.Sb(fi.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-scheduler"]],viewQuery:function(e,t){if(1&e&&s.Wc(xi,1),2&e){let e;s.Dc(e=s.kc())&&(t.calendar=e.first)}},features:[s.Cb([ui,me.a,fi.a])],decls:2,vars:2,consts:[[3,"config","events"],["calendar",""]],template:function(e,t){1&e&&s.Tb(0,"daypilot-calendar",0,1),2&e&&s.uc("config",t.config)("events",t.events)},directives:[yi],styles:[""]}),e})()}];let Ci=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({imports:[[o.g.forChild(ki)],o.g]}),e})(),_i=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Qb({type:e}),e.\u0275inj=s.Pb({providers:[pe],imports:[[a.c,Ci,Vt.forRoot(),Ge,Ze,wt,q,ve,_e.u,wi]]}),e})()},m1x9:function(module,__webpack_exports__,__webpack_require__){"use strict";if(__webpack_require__.d(__webpack_exports__,"a",function(){return DayPilot}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(DayPilot){function e(e){var t=DayPilot.Date.Cache.Ticks;if(t[e])return DayPilot.Stats.cacheHitsTicks+=1,t[e];var i,n=new Date(e),a=n.getUTCMilliseconds();i=0===a?"":a<10?".00"+a:a<100?".0"+a:"."+a;var o=n.getUTCSeconds();o<10&&(o="0"+o);var r=n.getUTCMinutes();r<10&&(r="0"+r);var s=n.getUTCHours();s<10&&(s="0"+s);var l=n.getUTCDate();l<10&&(l="0"+l);var c=n.getUTCMonth()+1;c<10&&(c="0"+c);var d=n.getUTCFullYear();if(d<=0)throw"The minimum year supported is 1.";d<10?d="000"+d:d<100?d="00"+d:d<1e3&&(d="0"+d);var h=d+"-"+c+"-"+l+"T"+s+":"+r+":"+o+i;return t[e]=h,h}function t(e,t){return!DayPilot.Util.isNullOrUndefined(e)&&!DayPilot.Util.isNullOrUndefined(t)&&e.toLocaleLowerCase()===t.toLocaleLowerCase()}function n(e){e=Math.min(e,255);var t=(e=Math.max(e,0)).toString(16);return e<16?"0"+t:t}if(void 0===DayPilot.$){DayPilot.$=function(e){return document.getElementById(e)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),DayPilot.browser.chrome=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Chrome"),DayPilot.browser.ie=DayPilot.isIE,DayPilot.browser.edge=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Edge"),DayPilot.browser.webkit=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("WebKit"),DayPilot.browser.hover=!window.matchMedia("(any-hover: none)").matches,DayPilot.browser.passiveEvents=!1,function(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){DayPilot.browser.passiveEvents=!0}}))}catch(e){}}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof angularjs,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(e,t){if(void 0!==t.offsetX){var i={x:t.offsetX+1,y:t.offsetY+1};if(!e)return i;for(var n=t.srcElement;n&&n!==e;)"SPAN"!==n.tagName&&(i.x+=n.offsetLeft,n.offsetTop>0&&(i.y+=n.offsetTop-n.scrollTop)),n=n.offsetParent;return n?i:null}if(void 0!==t.layerX){if(i={x:t.layerX,y:t.layerY,src:t.target},!e)return i;for(n=t.target;n&&"absolute"!==n.style.position&&"relative"!==n.style.position;)n=n.parentNode,DayPilot.isKhtml&&(i.y+=n.scrollTop);for(;n&&n!==e;)i.x+=n.offsetLeft,i.y+=n.offsetTop-n.scrollTop,n=n.offsetParent;return n?i:null}return null},DayPilot.mo3=function(e,t){var i,n=DayPilot.page(t);if(n)if(e){var a=DayPilot.abs(e);if(!a)throw new Error("no abs");i={x:n.x-a.x,y:n.y-a.y}}else i={x:n.x,y:n.y};else if(!(i=DayPilot.mo2(e,t)))return null;return i.shift=t.shiftKey,i.meta=t.metaKey,i.ctrl=t.ctrlKey,i.alt=t.altKey,i},DayPilot.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(e,t){if(e&&e.isDayPilotList&&!t)return e;var i=DayPilot.isArray(e)||"[object NodeList]"===Object.prototype.toString.call(e),n=!i&&!DayPilot.Util.isNullOrUndefined(e),a=[];if(a.isDayPilotList=!0,a.clone=function(){var e=DayPilot.list();return a.forEach(function(t){e.push(t)}),e},a.each=function(e){if(e){if(a.forEach)return void a.forEach(e);for(var t=0;t<this.length;t++)e(a[t],t,a)}},a.addProps=function(e){var t=a.clone();if(e)for(var i in e)t[i]=e[i];return t},a.last=function(){return 0===a.length?null:a[a.length-1]},a.first=function(){return 0===a.length?null:a[0]},a.add=function(e){var t=a.clone();return t.push(e),t},a.map=function(e){if("function"!=typeof e)throw"DayPilot.list().map(f): Function expected";var t=DayPilot.list();return a.forEach(function(i,n,a){t.push(e(i,n,a))}),t},a.filter=function(e){var t=DayPilot.list();if("function"!=typeof e)throw"DayPilot.list().filter(f): Function expected";return a.forEach(function(i,n,a){e(i,n,a)&&t.push(i)}),t},a.concat=function(e){if(!e)return a;for(var t=a.clone(),i=0;i<e.length;i++)t.push(e[i]);return t},a.find||(a.find=function(e){if("function"!=typeof e)throw"DayPilot.list().find(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return a[t]}),a.findIndex||(a.findIndex=function(e){if("function"!=typeof e)throw"DayPilot.list().findIndex(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return t;return-1}),a.some||(a.some=function(e){if("function"!=typeof e)throw"DayPilot.list().some(f): Function expected";for(var t=0;t<this.length;t++)if(e(a[t]))return!0;return!1}),a.reduce||(a.reduce=function(e,t){if("function"!=typeof e)throw"DayPilot.list().reduce(f): Function expected";var i,n=0;if(void 0!==t)i=t;else{if(n=1,0===a.length)throw"DayPilot.list().reduce(f): No initial value and empty list";i=a[0]}for(var o=n;o<this.length;o++)i=e(i,a[o],o,this);return i}),a.isEmpty=function(){return 0===a.length},i)for(var o=0;o<e.length;o++)a[o]=e[o];else n&&(a[0]=e);return a},DayPilot.list.for=function(e,t){for(var i=DayPilot.list(),n=0;n<e;n++)i.push("function"==typeof t?t(n):n);return i},DayPilot.line=function(e,t,i,n,a){a=a||{};var o=t,r=i,s=n;if(DayPilot.deg(e,t,i,n),t<n){var l=t;t=n,n=l,l=e,e=i,i=l}var c=DayPilot.deg(e,t,i,n),d={x:e,y:t},h={x:i,y:n},u=function(){var a=Math.abs(e-i),o=Math.abs(t-n);return(e+i)/2-Math.sqrt(a*a+o*o)/2}(),f=(t+n)/2,p=DayPilot.distance(d,h),v=document.createElement("div");v.setAttribute("style","width:"+p+"px;height:0px;-moz-transform:rotate("+c+"deg);-webkit-transform:rotate("+c+"deg);-ms-transform:rotate("+c+"deg);transform:rotate("+c+"deg);position:absolute;top:"+f+"px;left:"+u+"px;"),a.cssClass&&(v.className=a.cssClass);var m=document.createElement("div");if(m.appendChild(v),a.arrow){var g,b=s-5,y=r-5;c=c,s>o&&(c-=180),(g=document.createElement("div")).style.borderColor="black",g.style.width="10px",g.style.height="10px",g.style.borderRadius="10px",g.style.position="absolute",g.style.left=y+"px",g.style.top=b+"px",a.cssClass?g.className=a.cssClass+"_circle":g.style.backgroundColor="black",m.appendChild(g)}return m},DayPilot.deg=function(e,t,i,n){var a,o=Math.abs(e-i),r=Math.abs(t-n),s=(e+i)/2,l=(t+n)/2,c=Math.sqrt(o*o+r*r),d=s-c/2,h=l;return o=c/2,a=Math.abs(s-d),r=Math.sqrt(Math.abs(e-d)*Math.abs(e-d)+Math.abs(t-h)*Math.abs(t-h)),180*Math.acos((r*r-o*o-a*a)/(2*o*a))/Math.PI},DayPilot.complete=function(e){return"complete"===document.readyState?void e():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var e=0;e<DayPilot.complete.list.length;e++)(0,DayPilot.complete.list[e])();DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(e))},DayPilot.page=function(e){var t=e.changedTouches&&e.changedTouches[0]?e.changedTouches[0]:e;return void 0===t.pageX||DayPilot.browser.ie?void 0!==e.clientX&&document.body&&document.documentElement?{x:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:e.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null:{x:t.pageX,y:t.pageY}},DayPilot.rel=function(e,t){var i=DayPilot.abs(e),n=DayPilot.abs(t);return{x:i.x-n.x,y:i.y-n.y,w:e.offsetWidth,h:e.offsetHeight}},DayPilot.abs=function(e,t){if(!e)return null;if(e.getBoundingClientRect){var i=DayPilot.absBoundingClientBased(e);if(t){var n=DayPilot.absOffsetBased(e,!1);t=DayPilot.absOffsetBased(e,!0),i.x+=t.x-n.x,i.y+=t.y-n.y,i.w=t.w,i.h=t.h}return i}return DayPilot.absOffsetBased(e,t)},DayPilot.absBoundingClientBased=function(e){var t=e.getBoundingClientRect();return{x:t.left+window.pageXOffset,y:t.top+window.pageYOffset,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},DayPilot.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},DayPilot.absOffsetBased=function(e,t){for(var i={x:e.offsetLeft,y:e.offsetTop,w:e.clientWidth,h:e.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(e);)e=DayPilot.op(e),i.x-=e.scrollLeft,i.y-=e.scrollTop,t&&(i.x<0&&(i.w+=i.x,i.x=0),i.y<0&&(i.h+=i.y,i.y=0),e.scrollLeft>0&&i.x+i.w>e.clientWidth&&(i.w-=i.x+i.w-e.clientWidth),e.scrollTop&&i.y+i.h>e.clientHeight&&(i.h-=i.y+i.h-e.clientHeight)),i.x+=e.offsetLeft,i.y+=e.offsetTop;var n=DayPilot.pageOffset();return i.x+=n.x,i.y+=n.y,i},DayPilot.wd=function(){var e=DayPilot.isIEQuirks,t=document.documentElement.clientHeight;e&&(t=document.body.clientHeight);var i=document.documentElement.clientWidth;e&&(i=document.body.clientWidth);var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,o={};return o.width=i,o.height=t,o.scrollTop=n,o.scrollLeft=a,o},DayPilot.op=function(e){try{return e.offsetParent}catch(e){return document.body}},DayPilot.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},DayPilot.doc=function(){var e=document.documentElement;return e&&e.clientHeight?e:document.body},DayPilot.pageOffset=function(){if(void 0!==window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var e=DayPilot.doc();return{x:e.scrollLeft,y:e.scrollTop}},DayPilot.ac=function(e,t){t||(t=[]);for(var i=0;e.children&&i<e.children.length;i++)t.push(e.children[i]),DayPilot.ac(e.children[i],t);return t},DayPilot.indexOf=function(e,t,i){if(!e||!e.length)return-1;for(var n=0;n<e.length;n++)if(i){if(i(e[n],t))return n}else if(e[n]===t)return n;return-1},DayPilot.contains=function(e,t){if(2!==arguments.length)throw new DayPilot.Error("DayPilot.contains() requires two arguments.");return!!e&&(e===t&&!DayPilot.isArray(e)||-1!==DayPilot.indexOf(e,t))},DayPilot.rfa=function(e,t){var i=DayPilot.indexOf(e,t);-1!==i&&e.splice(i,1)},DayPilot.sheet=function(e){var t=(e=e||window.document).createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(e.createTextNode("")),(e.head||e.getElementsByTagName("head")[0]).appendChild(t);var i=!!t.styleSheet,n={rules:[],commit:function(){try{i&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},add:function(e,a,o){if(!i){if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(e+"{"+a+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(e,a,o)}return n}this.rules.push(e+"{"+a+"}")}};return n},DayPilot.Args=function(e){var t=this;this.isArgs=!0,this.preventDefault=function(){e&&e.preventDefault(),t.preventDefault.value=!0}},DayPilot.Debug=function(e){var t=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.target=null,this.c=null,this.clear=function(){this.messages=[],t.c&&(t.c.innerHTML="")},this.hide=function(){DayPilot.de(t.c),t.c=null},this.show=function(){t.c&&t.hide();var i=e.nav.top,n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.style.backgroundColor="black",n.style.color="#ccc",n.style.overflow="auto",n.style.webkitUserSelect="auto",n.style.MozUserSelect="all",n.onclick=function(){t.hide()};for(var a=0;a<this.messages.length;a++){var o=t.messages[a].f();n.appendChild(o)}this.c=n,i.appendChild(n)},this.log=function(){if(t.target){for(var e=[],i=0;i<arguments.length;i++){var n=arguments[i];e.push(n)}var a=e.join(" ");t.target.style.whiteSpace="pre",t.target.innerText+=a+"\n"}},this.message=function(e,t){if(this.enabled){var i={};i.time=new DayPilot.Date,i.level=t||"debug",i.text=DayPilot.Util.escapeHtml(e),i.f=function(){var e=document.createElement("div");switch(e.innerHTML=i.time+" ("+i.level+"): "+i.text,i.level){case"error":e.style.color="red";break;case"warning":e.style.color="orange";break;case"info":e.style.color="white"}return e},this.messages.push(i),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(i)}}},DayPilot.re=function(e,t,i){i&&e&&e.addEventListener(t,i,!1)},DayPilot.ue=function(e,t,i){e.removeEventListener(t,i,!1)},DayPilot.ds=function(e){return DayPilot.Date.toStringSortable(e)},DayPilot.gs=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)||""},DayPilot.StyleReader=function(e){this.get=function(t){return e?DayPilot.gs(e,t):null},this.getPx=function(e){var t=this.get(e);return-1===t.indexOf("px")?void 0:parseInt(t,10)},this.getFont=function(){var e=this.get("font-weight"),t="italic"===this.get("font-style")?"italic":"";return{family:this.get("font-family"),size:this.get("font-size"),style:t+" "+e,asString:function(){return DayPilot.Util.fontString(this)}}},this.getBackColor=function(e){void 0===e&&(e="white");var t=this.get("background-color");return DayPilot.Util.isTransparentColor(t)?e:t}},DayPilot.he=function(e){var t=e.replace(/&/g,"&amp;");return(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")},DayPilot.he2=function(e){var t=document.createTextNode(e),i=document.createElement("div");return i.appendChild(t),i.innerHTML},DayPilot.us=function(e){if(e){e.setAttribute("unselectable","on"),e.style.userSelect="none",e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.webkitUserSelect="none";for(var t=0;t<e.childNodes.length;t++)1===e.childNodes[t].nodeType&&DayPilot.us(e.childNodes[t])}},DayPilot.pu=function(e){var t,i,n,a=e.attributes;if(a)for(i=a.length,t=0;t<i;t+=1)a[t]&&"function"==typeof e[n=a[t].name]&&(e[n]=null);if(a=e.childNodes)for(i=a.length,t=0;t<i;t+=1)DayPilot.pu(e.childNodes[t])},DayPilot.puc=function(e){var t,i=e.childNodes;if(i){var n=i.length;for(t=0;t<n;t+=1)DayPilot.pu(e.childNodes[t])}},DayPilot.de=function(e){if(e)if(DayPilot.isArray(e))for(var t=0;t<e.length;t++)DayPilot.de(e[t]);else e.parentNode&&e.parentNode.removeChild(e)},DayPilot.fade=function(e,t,i){if(e){clearTimeout(e.messageTimeout);var n="none"!==e.style.display,a=t>0,o=t<0;if(0!==t){if(a?e.status="in":o&&(e.status="out"),a&&!n)e.target=parseFloat(e.style.opacity),e.opacity=0,e.style.opacity=0,e.style.display="";else if(o&&!e.target)e.target=e.style.opacity;else{var r=Math.floor(10*(e.opacity+t))/10;a&&r>e.target&&(r=e.target),o&&r<0&&(r=0),e.opacity=r,e.style.opacity=r}a&&(e.opacity>=e.target||e.opacity>=1)||o&&e.opacity<=0?(e.target=null,o&&(e.style.opacity=e.target,e.opacity=e.target,e.style.display="none"),i&&"function"==typeof i&&(e.status=null,i())):e.messageTimeout=setTimeout(function(){DayPilot.fade(e,t,i)},50)}}},DayPilot.sw=function(e){return e?e.offsetWidth-e.clientWidth:0},DayPilot.swa=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.width="200px",e.style.height="100px",e.style.overflow="auto";var t=document.createElement("div");t.style.width="300px",t.style.height="300px",e.appendChild(t),document.body.appendChild(e);var i=DayPilot.sw(e);return document.body.removeChild(e),i},DayPilot.sh=function(e){return e?e.offsetHeight-e.clientHeight:0},DayPilot.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},DayPilot.ua=function(e){if(!DayPilot.isArray(e))throw new DayPilot.Error("DayPilot.ua() - array required");var t=[];return e.forEach(function(e){DayPilot.contains(t,e)||t.push(e)}),t},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function e(t){var i,n=t.div,a=t[t.i],o=a*t.target.h;switch(t.config.vertical){case"center":i=t.target.y-(o-t.target.h)/2;break;case"top":i=t.target.y;break;case"bottom":i=t.target.y-(o-t.target.h);break;default:throw"Unexpected 'vertical' value."}var r,s=a*t.target.w;switch(t.config.horizontal){case"left":r=t.target.x;break;case"center":r=t.target.x-(s-t.target.w)/2;break;case"right":r=t.target.x-(s-t.target.w);break;default:throw"Unexpected 'horizontal' value."}n.style.height=o+"px",n.style.top=i+"px",n.style.width=s+"px",n.style.left=r+"px",n.style.visibility="visible",t.i++,t.i<t.length-1?setTimeout(function(t){return function(){e(t)}}(t),t.time):(n.style.width=t.target.width,n.style.height=t.target.height,n.style.top=t.target.top,n.style.left=t.target.left,"function"==typeof t.config.finished&&t.config.finished())}DayPilot.pop=function(t,i){var n={w:t.offsetWidth,h:t.offsetHeight,x:parseInt(t.style.left),y:parseInt(t.style.top)};n.height=t.style.height,n.width=t.style.width,n.top=t.style.top,n.left=t.style.left,n.toString=function(){return"w: "+this.w+" h:"+this.h};var a={finished:null,vertical:"center",horizontal:"center"};if(i)for(var o in i)a[o]=i[o];t.style.visibility="hidden",t.style.display="";var r=function(e){var t={fast:function(){var e=[];e.time=10;for(var t=.1;t<=1;t+=.08)e.push(t);return e},slow:function(){var e=[];e.time=10;for(var t=.1;t<=1;t+=.04)e.push(t);return e},jump:function(){var e=[];e.time=10;for(var t,i=.08,n=t=.1;n<1.2;n+=i)e.push(n),t=n;for(i=.03,n=t;n>.8;n-=i)e.push(n),t=n;for(n=t;n<=1;n+=i)e.push(n),t=n;return e}};return t[e]||(e="fast"),t[e]()}(i.animation||"fast");r.div=t,r.i=0,r.target=n,r.config=a,e(r)}}(),DayPilot.Util={},DayPilot.Util.addClass=function(e,t){if(t&&e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.addClass(e[i],t);else{if(!e.className)return void(e.className=t);new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)||(e.className=e.className+" "+t)}},DayPilot.Util.normalizeColor=function(e){return 0===e.indexOf("rgb")?function(e){return"#"+((1<<24)+(+(e=e.replace(/[^\d,]/g,"").split(","))[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}(e):e},DayPilot.Util.addClassToString=function(e,t){return e?new RegExp("(^|\\s)"+t+"($|\\s)").test(e)?e:e+" "+t:t},DayPilot.Util.removeClassFromString=function(e,t){if(!e)return"";var i=new RegExp("(^|\\s)"+t+"($|\\s)");return e.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(e,t){if(e)if(DayPilot.isArray(e))for(var i=0;i<e.length;i++)DayPilot.Util.removeClass(e[i],t);else if(e.className){var n=new RegExp("(^|\\s)"+t+"($|\\s)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(e){var t=[];for(var i in e)t.push(i),t.push(e[i]);return t.join("-")},DayPilot.Util.propArray=function(e,t,i){return DayPilot.list(e).map(function(e){return e[t]?e[t]:i})},DayPilot.Util.updatePropsFromArray=function(e,t,i){for(var n=0;n<i.length;n++)e[n][t]=i[n]},DayPilot.Util.copyProps=function(e,t,i){if(t||(t={}),!e)return t;if(void 0===i)for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[n]=e[n]);else for(var a=0;a<i.length;a++)void 0!==e[n=i[a]]&&(t[n]=e[n]);return t},DayPilot.Util.ownPropsAsArray=function(e){var t=[];if(!e)return t;for(var i in e)if(e.hasOwnProperty(i)){var n={};n.key=i,n.val=e[i],t.push(n)}return t},DayPilot.Util.firstPropValue=function(e){for(var t in e)return e[t]},DayPilot.Util.isOnlyProperty=function(e,t){if(!e)return!1;for(var i in e)if(e.hasOwnProperty(i)&&i!==t)return!1;return!0},DayPilot.Util.createArrayCopy=function(e,t){if(!DayPilot.isArray(e))return[];for(var i=[],n=0;n<e.length;n++){var a={};DayPilot.Util.copyProps(e[n],a,t),i.push(a)}return i},DayPilot.Util.atLeast=function(e,t){return Math.max(e,t)},DayPilot.Util.avg=function(e,t){return(e+t)/2},DayPilot.Util.div=function(e,t,i,n,a){var o=document.createElement("div");return(t||i||n||a)&&(n<0&&(t+=n,n*=-1),a<0&&(i+=a,a*=-1),o.style.position="absolute","number"==typeof t?o.style.left=t+"px":"string"==typeof t&&(o.style.left=t),"number"==typeof i?o.style.top=i+"px":"string"==typeof i&&(o.style.top=i),"number"==typeof n?o.style.width=n+"px":"string"==typeof n&&(o.style.width=n),"number"==typeof a?o.style.height=a+"px":"string"==typeof a&&(o.style.height=a)),e&&e.appendChild(o),o},DayPilot.Util.overlaps=function(e,t,i,n){return!(t<=i||e>=n)},DayPilot.Util.isMouseEvent=function(e){return!(!navigator.msPointerEnabled||!e.pointerType||"mouse"!==e.pointerType&&4!==e.pointerType)},DayPilot.Util.mouseButton=function(e){var t={};switch(e.button){case 0:t.left=!0;break;case 1:t.middle=!0;break;case 2:t.right=!0}return t},DayPilot.Util.membersPlain=function(e){var t=DayPilot.Util.members(e,2),i=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.name;i.obsolete&&(n+=" (obsolete)"),i.noCssOnly&&(n+=" (!cssOnly)"),i.aspnet&&(n+=" (ASP.NET)"),i.mvc&&(n+="(MVC)"),e[t]=n}};return i(t.events),i(t.methods),i(t.properties),t},DayPilot.Util.shouldApply=function(e){if(!e)return!1;var t=e.toLowerCase();return!(t.indexOf("before")>=0||t.indexOf("after")>=0||"onrowfilter"===t||"oneventfilter"===t)},DayPilot.Util.safeApply=function(e,t){var i=e.$root.$$phase;"$apply"===i||"$digest"===i?e.$eval(t):e.$apply(t)},DayPilot.Util.members=function(e,t){var i=DayPilot.list(),n=DayPilot.list(),a=DayPilot.list(),o=e&&e.members?e.members.obsolete:[],r=e&&e.members?e.members.noCssOnly:[],s=e&&e.members?e.members.ignore:[],l=e&&e.members&&e.members.ignoreFilter?e.members.ignoreFilter:function(){return!1};for(var c in e)if(0!==c.indexOf("$")&&0!==c.indexOf("_")&&0!==c.indexOf("number")&&0!==c.indexOf("is")&&"v"!==c&&!DayPilot.contains(s,c)&&!l(c))if(0!==c.indexOf("on"))if("function"!=typeof e[c])if("object"!=typeof e[c])a.push(c);else{var d=e[c];if(0===t){a.push(c);continue}if(d&&d.nodeType>0){a.push(c);continue}if(d instanceof DayPilot.Bubble){a.push(c);continue}if(d instanceof DayPilot.Date){a.push(c);continue}if(d instanceof DayPilot.Menu){a.push(c);continue}if(d instanceof DayPilot.Scheduler){a.push(c);continue}if(DayPilot.isArray(d)){a.push(c);continue}null===d&&a.push(c);var h=null;"number"==typeof t&&(h=t-1);for(var u=DayPilot.Util.members(d,h),f=0;f<u.events.length;f++)i.push(c+"."+u.events[f].name);for(f=0;f<u.methods.length;f++)n.push(c+"."+u.methods[f].name);for(f=0;f<u.properties.length;f++)a.push(c+"."+u.properties[f].name)}else n.push(c);else i.push(c);i.sort(),n.sort(),a.sort();var p=function(e){for(var t=0;t<e.length;t++){var i=e[t],n={};n.name=i,e[t]=n,DayPilot.contains(o,i)&&(n.obsolete=!0),DayPilot.contains(r,i)&&(n.noCssOnly=!0),-1!==i.indexOf("CallBack")&&(n.aspnet=!0,n.mvc=!0),-1!==i.indexOf("PostBack")&&(n.aspnet=!0),-1!==i.indexOf("Notify")&&(n.aspnet=!0,n.mvc=!0)}};return p(i),p(n),p(a),{events:i,methods:n,properties:a}},DayPilot.Util.replaceCharAt=function(e,t,i){return e.substr(0,t)+i+e.substr(t+i.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null==e)return null;if(-1!==DayPilot.indexOf(t,typeof e))return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return eval(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return eval("("+e+")")},DayPilot.Util.isNullOrUndefined=function(e){return null==e},DayPilot.Util.log=function(e){window.console&&window.console.log&&window.console.log(e)},DayPilot.Util.workerFrom=function(e){var t=e.toString(),i=t.slice(t.indexOf("{")+1,t.lastIndexOf("}")),n=new Blob([i]),a=window.URL.createObjectURL(n);return new Worker(a)},DayPilot.Util.dataUriToBlob=function(e){if("string"!=typeof e)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var t=e.split(","),i=t[0],n=t[1],a=-1!==i.indexOf("base64")?atob:decodeURI,o=i.split(":")[1].split(";")[0],r=a(n),s=new window.Uint8Array(r.length),l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return new Blob([s],{type:o})},DayPilot.Util.downloadDataUri=function(e,t){var i=DayPilot.Util.dataUriToBlob(e);DayPilot.Util.downloadBlob(i,t)},DayPilot.Util.downloadBlob=function(e,t){if(t=t||"download",window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var i=window.URL.createObjectURL(e),n=document.createElement("a");n.download=t,n.href=i,n.style.display="none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)})}},DayPilot.Util.monitor=function(e,t,i){var n=e[t];e[t]=function(){i.apply(e,arguments),n.apply(e,arguments)}},DayPilot.Util.isTransparentColor=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},DayPilot.Util.stripTags=function(e){if(DayPilot.Util.isNullOrUndefined(e))return e;if("string"==typeof e)return e.replace(/<(?:.|\n)*?>/gm,"");throw new DayPilot.Exception("Unable to strip tags from a non-string")},DayPilot.Util.escapeHtml=function(e){var t=document.createElement("div");return t.innerText=e,t.innerHTML},DayPilot.Util.escapeTextHtml=function(e,t){return DayPilot.Util.isNullOrUndefined(t)?DayPilot.Util.isNullOrUndefined(e)?"":DayPilot.Util.escapeHtml(e):t},DayPilot.Util.isSameEvent=function(e,t){return!(!e||!t||(e=e instanceof DayPilot.Event?e.data:e)!==(t=t instanceof DayPilot.Event?t.data:t)&&(DayPilot.Util.isNullOrUndefined(e.id)||e.id!==t.id)&&(!DayPilot.Util.isNullOrUndefined(e.id)||DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)||e.recurrentMasterId!==t.recurrentMasterId||new DayPilot.Date(e.start)!==new DayPilot.Date(t.start)))},DayPilot.Util.isReactComponent=function(e){return e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)},DayPilot.Util.fontString=function(e){return(e.style+" "+e.size+" "+e.family).trim()},DayPilot.Util.fontHeight=function(e){var t=DayPilot.Util.fontString(e);if("number"!=typeof DayPilot.Util.fontHeight.cache[t]){var i=document.createElement("div");i.style.position="fixed",i.style.left="-2000px;",i.style.top="-2000px",i.style.padding="0px",i.style.font=t,i.innerText="X",document.body.appendChild(i),DayPilot.Util.fontHeight.cache[t]=new DayPilot.StyleReader(i).getPx("height"),document.body.removeChild(i)}return DayPilot.Util.fontHeight.cache[t]},DayPilot.Util.fontHeight.cache={},DayPilot.Areas={},DayPilot.Areas.attach=function(e,t,n){var a=(n=n||{}).areas,o=n.allowed||function(){return!0},r=n.offsetX||0;(a=i(t,a))&&DayPilot.isArray(a)&&0!==a.length&&(DayPilot.re(e,"mousemove",function(i){e.active||e.areasDisabled||!o()||DayPilot.Areas.showAreas(e,t,i,a,{offsetX:r,eventDiv:n.eventDiv})}),DayPilot.re(e,"mouseleave",function(t){DayPilot.Areas.hideAreas(e,t)}),DayPilot.list(a).forEach(function(i){if(DayPilot.Areas.isVisible(i)){var a=DayPilot.Areas.createArea(e,t,i,{offsetX:r,eventDiv:n.eventDiv});e.appendChild(a)}}))},DayPilot.Areas.disable=function(e){e.areasDisabled=!0,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).forEach(function(e){e.style.display="none"})},DayPilot.Areas.enable=function(e){e.areasDisabled=!1,DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea&&!e.area.start}).forEach(function(e){e.style.display=""})},DayPilot.Areas.remove=function(e){var t=DayPilot.list(e.childNodes).filter(function(e){return e.isActiveArea});DayPilot.de(t)},DayPilot.Areas.isVisible=function(e){var t=e.visibility||e.v||"Visible";return"Visible"===t||"TouchVisible"===t&&!DayPilot.browser.hover},DayPilot.Areas.copy=function(e){return DayPilot.isArray(e)?e.map(function(e){return DayPilot.Util.copyProps(e,{})}):[]},DayPilot.Areas.resolvePosition=function(e,t,i,n){var a=DayPilot.Areas.copy(e),o=t;return a.forEach(function(e){e.start&&(e.left=o.getPixels(new DayPilot.Date(e.start)).left-i),"number"==typeof e.offsetX&&(e.left+=e.offsetX),e.end&&(e.right=i+n-o.getPixels(new DayPilot.Date(e.end)).left)}),a};var i=function(e,t){return DayPilot.isArray(t)||(t=e.areas)||(e.cache?t=e.cache.areas:e.data&&(t=e.data.areas)),t};DayPilot.Areas.showAreas=function(e,t,i,n,a){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilot.Global.selecting&&!e.active&&DayPilot.browser.hover){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var o=0;o<DayPilot.Areas.all.length;o++){var r=DayPilot.Areas.all[o];r!==e&&DayPilot.Areas.hideAreas(r,i)}if(e.active={},DayPilot.isArray(n)||(n=t.areas)||(t.cache?n=t.cache.areas:t.data&&(n=t.data.areas)),n&&0!==n.length&&!(e.areas&&e.areas.length>0)){for(e.areas=[],o=0;o<n.length;o++){var s=n[o];if(!DayPilot.Areas.isVisible(s)){var l=DayPilot.Areas.createArea(e,t,s,a);e.areas.push(l),e.appendChild(l),DayPilot.Areas.all.push(e)}}e.active.children=DayPilot.ac(e)}}},DayPilot.Areas.createArea=function(e,t,i,n){function a(e,t,i){var n={};return n.area=e,n.source=t,n.originalEvent=i,n.preventDefault=function(){n.preventDefault.value=!0},"function"==typeof e.onClick&&e.onClick(n),n}function o(e,t,i,n){DayPilot.Menu&&DayPilot.Menu.touchPosition(n);var a=i.contextMenu||i.menu;a instanceof DayPilot.Menu||("string"==typeof a?a=DayPilot.Util.evalVariable(a):t.isEvent&&t.client.contextMenu()?a=t.client.contextMenu():t.isEvent&&t.calendar.contextMenu?a=DayPilot.Util.evalVariable(t.calendar.contextMenu):t.isRow&&t.calendar.contextMenuResource&&(a=DayPilot.Util.evalVariable(t.calendar.contextMenuResource))),a&&a.show&&a.show(t,{initiator:{type:"area",div:e,e:t,area:i,a:l}})}var r=(n=n||{}).offsetX||0,s=n.eventDiv||e,l=document.createElement("div");l.isActiveArea=!0,l.area=i,l.setAttribute("unselectable","on");var c=i.w||i.width,d=i.h||i.height,h=i.cssClass||i.css||i.className;if(void 0!==i.style&&l.setAttribute("style",i.style),l.style.position="absolute",void 0!==c&&(l.style.width=c+"px"),void 0!==d&&(l.style.height=d+"px"),void 0!==i.right&&(l.style.right=i.right+"px"),void 0!==i.top&&(l.style.top=i.top+"px"),void 0!==i.left&&(l.style.left=i.left+r+"px"),void 0!==i.bottom&&(l.style.bottom=i.bottom+"px"),void 0!==i.html||void 0!==i.text)l.innerHTML=DayPilot.Util.escapeTextHtml(i.text,i.html);else if(i.icon){var u=document.createElement("i");u.className=i.icon,l.appendChild(u)}else if(i.image){var f=document.createElement("img");f.src=i.image,l.appendChild(f)}else if(i.symbol){var p="http://www.w3.org/2000/svg",v=document.createElementNS(p,"svg");v.setAttribute("width","100%"),v.setAttribute("height","100%");var m=document.createElementNS(p,"use");m.setAttribute("href",i.symbol),v.appendChild(m),l.appendChild(v)}if(h&&(l.className=h),i.toolTip&&l.setAttribute("title",i.toolTip),i.backColor&&(l.style.background=i.backColor),i.background&&(l.style.background=i.background),i.fontColor&&(l.style.color=i.fontColor),i.padding&&(l.style.padding=i.padding+"px",l.style.boxSizing="border-box"),i.verticalAlignment)switch(l.style.display="flex",i.verticalAlignment){case"center":l.style.alignItems="center";break;case"top":l.style.alignItems="flex-start";break;case"bottom":l.style.alignItems="flex-end"}if(i.horizontalAlignment)switch(l.style.display="flex",i.horizontalAlignment){case"right":l.style.justifyContent="flex-end";break;case"left":l.style.justifyContent="flex-start";break;case"center":l.style.justifyContent="center"}if("ResizeEnd"===i.action||"ResizeStart"===i.action||"Move"===i.action){if(t.calendar.isCalendar)switch(i.action){case"ResizeEnd":i.cursor="s-resize",i.dpBorder="bottom";break;case"ResizeStart":i.cursor="n-resize",i.dpBorder="top";break;case"Move":i.cursor="move"}if(t.calendar.isScheduler||t.calendar.isMonth)switch(i.action){case"ResizeEnd":i.cursor="e-resize",i.dpBorder="right";break;case"ResizeStart":i.cursor="w-resize",i.dpBorder="left";break;case"Move":i.cursor="move"}l.onmousemove=function(e,t,i){return function(n){t.calendar.internal&&t.calendar.internal.dragInProgress&&t.calendar.internal.dragInProgress()||(n.cancelBubble=!0,e.style.cursor=i.cursor,i.dpBorder&&(e.dpBorder=i.dpBorder))}}(s,t,i),l.onmouseout=function(e,t,i){return function(t){e.style.cursor=""}}(s)}if(("ResizeEnd"===i.action||"ResizeStart"===i.action)&&t.isEvent&&t.calendar.internal.touch){var g=function(e,t,i){return function(n){n.cancelBubble=!0;var a=t.calendar.internal.touch,o=n.touches?n.touches[0]:n,r={x:o.pageX,y:o.pageY};t.calendar.coords=a.relativeCoords(n),a.preventEventTap=!0,t.calendar.isScheduler?a.startResizing(e,"ResizeEnd"===i.action?"right":"left"):t.calendar.isCalendar&&a.startResizing(e,"ResizeEnd"===i.action?"bottom":"top",r)}}(s,t,i);DayPilot.re(l,DayPilot.touch.start,g)}if("ContextMenu"===i.action&&t.isEvent&&t.calendar.internal.touch){g=function(e,t,i){return function(n){n.cancelBubble=!0,n.preventDefault(),o(e,t,i,n),t.calendar.internal.touch.preventEventTap=!0}}(s,t,i);var b=function(e){e.cancelBubble=!0,e.preventDefault()};DayPilot.re(l,DayPilot.touch.start,g),DayPilot.re(l,DayPilot.touch.end,b)}return"Bubble"===i.action&&t.isEvent&&t.calendar.internal.touch&&(g=function(e,t,i){return function(e){e.cancelBubble=!0,e.preventDefault();var n=a(i,t,e);n.preventDefault.value||(function(e,t,i){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(i),e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}(t,0,e),t.calendar.internal.touch.preventEventTap=!0,"function"==typeof i.onClicked&&i.onClicked(n))}}(0,t,i),b=function(e){e.cancelBubble=!0,e.preventDefault()},DayPilot.re(l,DayPilot.touch.start,g),DayPilot.re(l,DayPilot.touch.end,b)),"Move"===i.action&&t.isEvent&&t.calendar.internal.touch&&(g=function(e,t,i){return function(i){i.cancelBubble=!0;var n=t.calendar.internal.touch,a=i.touches?i.touches[0]:i,o={x:a.pageX,y:a.pageY};t.calendar.coords=n.relativeCoords(i),DayPilot.Global&&DayPilot.Global.touch&&(DayPilot.Global.touch.active=!0),n.preventEventTap=!0,n.startMoving(e,o)}}(s,t),DayPilot.re(l,DayPilot.touch.start,g)),"Bubble"===i.action&&t.isEvent&&(l.onmousemove=function(e,t,i){return function(e){i.bubble?i.bubble.showEvent(t,!0):t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}}(0,t,i),l.onmouseout=function(e,t,i){return function(e){void 0!==DayPilot.Bubble&&(i.bubble?i.bubble.hideOnMouseOut():t.calendar.bubble&&t.calendar.bubble.hideOnMouseOut())}}(0,t,i)),"Bubble"===i.action&&t.isRow&&(l.onmousemove=function(e,t,i){return function(e){i.bubble?i.bubble.showResource(t,!0):t.calendar.resourceBubble&&t.calendar.resourceBubble.showResource(t,!0)}}(0,t,i),l.onmouseout=function(e,t,i){return function(e){void 0!==DayPilot.Bubble&&(i.bubble?i.bubble.hideOnMouseOut():t.calendar.resourceBubble&&t.calendar.resourceBubble.hideOnMouseOut())}}(0,t,i)),"HoverMenu"===i.action&&(l.onmousemove=function(e,t,i){return function(e){var n=i.menu;"string"==typeof n&&(n=DayPilot.Util.evalVariable(n)),n&&n.show&&(n.visible?n.source&&void 0!==n.source.id&&n.source.id!==t.id&&n.show(t):n.show(t),n.cancelHideTimeout())}}(0,t,i),l.onmouseout=function(e,t,i){return function(e){var t=i.menu;"string"==typeof t&&(t=DayPilot.Util.evalVariable(t)),t&&t.hideOnMouseOver&&t.delayedHide()}}(0,0,i)),"JavaScript"===i.action&&(g=function(e,t,i){return function(e){DayPilot.Util.isMouseEvent(e)||(e.cancelBubble=!0,e.preventDefault(),t.calendar.internal.touch.start=!0)}}(0,t),b=function(e,t,i){return function(e){if(!DayPilot.Util.isMouseEvent(e)){e.cancelBubble=!0,e.preventDefault(),t.calendar.internal.touch.start=!1;var n=i.js;"string"==typeof n&&(n=DayPilot.Util.evalFunction(i.js)),"function"==typeof n&&n.call(this,i.target||t)}}}(0,t,i),DayPilot.re(l,DayPilot.touch.start,g),DayPilot.re(l,DayPilot.touch.end,b)),"None"===i.action&&(g=function(e,t,i){return function(e){var n=a(i,t,e);"function"==typeof i.onClicked&&i.onClicked(n),e.preventDefault(),e.stopPropagation()}}(0,t,i),DayPilot.re(l,DayPilot.touch.start,g)),l.onmousedown=function(e,t,i){return function(n){if("function"==typeof i.onmousedown&&i.onmousedown(n),"function"==typeof i.mousedown){var a={};a.area=i,a.div=e,a.originalEvent=n,a.source=t,i.mousedown(a)}"Move"===i.action&&t.isRow&&(0,t.calendar.internal.rowStartMoving)(t.$.row),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Move"===i.action&&(DayPilot.Global.movingAreaData=i.data),"Move"===i.action&&t.isEvent&&t.calendar.internal&&t.calendar.internal.startMoving&&t.calendar.internal.startMoving(e,n),"Move"!==i.action&&"ResizeEnd"!==i.action&&"ResizeStart"!==i.action&&i.action&&"Default"!==i.action&&(n.preventDefault(),n.cancelBubble=!0)}}(e,t,i),l.onclick=function(e,t,i){return function(n){var r=a(i,t,n);if(!r.preventDefault.value){switch(i.action){case"JavaScript":var s=i.js;"string"==typeof s&&(s=DayPilot.Util.evalFunction(i.js)),"function"==typeof s&&s.call(this,i.target||t),n.cancelBubble=!0;break;case"ContextMenu":o(e,t,i,n),n.cancelBubble=!0;break;case"CallBack":alert("callback not implemented yet, id: "+i.id),n.cancelBubble=!0;break;case"None":n.cancelBubble=!0}"function"==typeof i.onClicked&&i.onClicked(r)}}}(e,t,i),"function"==typeof i.onMouseEnter&&l.addEventListener("mouseenter",function(e,t,i){return function(e){var n={};n.area=i,n.source=t,n.originalEvent=e,i.onMouseEnter(n)}}(0,t,i)),"function"==typeof i.onMouseLeave&&l.addEventListener("mouseleave",function(e,t,i){return function(e){var n={};n.area=i,n.source=t,n.originalEvent=e,i.onMouseLeave(n)}}(0,t,i)),l},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(e,t){if(e&&e&&e.active){var i=e.active,n=e.areas;if(i&&i.children&&t&&~DayPilot.indexOf(i.children,t.toElement||t.relatedTarget))return;if(!n||0===n.length)return void(e.active=null);DayPilot.de(n),e.active=null,e.areas=[],DayPilot.rfa(DayPilot.Areas.all,e),i.children=null}},DayPilot.Areas.hideAll=function(e){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var t=0;t<DayPilot.Areas.all.length;t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t],e)},DayPilot.Action=function(e,t,i,n){var a=this;this.calendar=e,this.isAction=!0,this.action=t,this.params=i,this.data=n,this.notify=function(){a.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){a.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){a.calendar.queue.add(this)},this.toJSON=function(){var e={};return e.name=this.action,e.params=this.params,e.data=this.data,e}},DayPilot.Selection=function(e,t,i,n){this.menuType="selection",this.start=new DayPilot.Date(e),this.end=new DayPilot.Date(t),this.resource=i,this.root=n,this.calendar=n,this.toJSON=function(e){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t}},DayPilot.Link=function(e,t){this.isLink=!0,this.data=e,this.calendar=t,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var e={};return e.from=this.data.from,e.to=this.data.to,e.id=this.data.id,e.type=this.data.type,e}},DayPilot.Event=function(e,t,i){var n=this;this.calendar=t,this.data=e||{},this.part=i||{},void 0===this.data.id&&(this.data.id=this.data.value);var a={},o=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(a.dirty)return a;for(var e=0;e<o.length;e++)a[o[e]]=n.data[o[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(n.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<o.length;e++)n.data[o[e]]=a[o[e]];"function"==typeof n.data.commitCallback&&n.data.commitCallback(),a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return void 0===e?n.data.id:void(this.temp().id=e)},this.value=function(e){return void 0===e?n.id():void n.id(e)},this.text=function(e){if(void 0===e)return n.data.text;this.temp().text=e;var t=DayPilot.Util.escapeHtml(e);this.client.innerHTML(t)},this.start=function(e){return void 0===e?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(e))},this.end=function(e){return void 0===e?t&&t.internal.adjustEndNormalize?t.internal.adjustEndNormalize(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(e){if(void 0===e)return t&&t.internal.adjustEndIn?t.internal.adjustEndIn(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end);throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly")},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof val?n.data.allday:void(this.temp().allday=val)},this.isAllDay=this.allday,this.resource=function(e){return void 0===e?n.data.resource:void(this.temp().resource=e)},this.recurrent=function(){return n.data.recurrent},this.recurrentMasterId=function(){return n.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return n.cache&&n.cache.bubbleHtml||n.data.bubbleHtml},this.tag=function(e){if(n.data.tags)return n.data.tags[e];var t=n.data.tag;if(!t)return null;if(void 0===e)return n.data.tag;for(var i=n.calendar.tagFields,a=-1,o=0;o<i.length;o++)e===i[o]&&(a=o);if(-1===a)throw"Field name not found.";return t[a]},this.client={},this.client.innerHTML=function(e){if(void 0===e){var t=n.cache||n.data,i=n.calendar&&n.calendar.internal&&n.calendar.internal.xssTextHtml;return i?i(t.text,t.html):DayPilot.Util.escapeTextHtml(t.text,t.html)}n.data.html=e,n.cache&&(n.cache.html=e)},this.client.html=this.client.innerHTML,this.client.header=function(e){return void 0===e?n.data.header:void(n.data.header=e)},this.client.cssClass=function(e){return void 0===e?n.data.cssClass:void(n.data.cssClass=e)},this.client.toolTip=function(e){if(void 0===e)return DayPilot.Util.escapeHtml(n.cache&&void 0!==n.cache.toolTip?n.cache.toolTip:void 0!==n.data.toolTip?n.data.toolTip:n.data.text);n.data.toolTip=e},this.client.backColor=function(e){return void 0===e?n.cache&&void 0!==n.cache.backColor?n.cache.backColor:void 0!==n.data.backColor?n.data.backColor:n.calendar.eventBackColor:void(n.data.backColor=e)},this.client.borderColor=function(e){return void 0===e?n.cache&&void 0!==n.cache.borderColor?n.cache.borderColor:void 0!==n.data.borderColor?n.data.borderColor:n.calendar.eventBorderColor:void(n.data.borderColor=e)},this.client.barColor=function(e){return void 0===e?n.cache&&void 0!==n.cache.barColor?n.cache.barColor:void 0!==n.data.barColor?n.data.barColor:n.calendar.durationBarColor:void(n.data.barColor=e)},this.client.barVisible=function(e){return void 0===e?n.cache&&void 0!==n.cache.barHidden?!n.cache.barHidden:n.calendar.durationBarVisible&&!n.data.barHidden:void(n.data.barHidden=!e)},this.client.contextMenu=function(e){if(void 0===e){if(n.oContextMenu)return n.oContextMenu;var t=n.cache?n.cache.contextMenu:n.data.contextMenu;return t?DayPilot.Util.evalVariable(t):null}n.oContextMenu=e},this.client.moveEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.moveDisabled?!n.cache.moveDisabled:"Disabled"!==n.calendar.eventMoveHandling&&!n.data.moveDisabled:void(n.data.moveDisabled=!e)},this.client.resizeEnabled=function(e){return void 0===e?"Milestone"!==n.data.type&&(n.cache&&void 0!==n.cache.resizeDisabled?!n.cache.resizeDisabled:"Disabled"!==n.calendar.eventResizeHandling&&!n.data.resizeDisabled):void(n.data.resizeDisabled=!e)},this.client.rightClickEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.rightClickDisabled?!n.cache.rightClickDisabled:"Disabled"!==n.calendar.eventRightClickHandling&&!n.data.rightClickDisabled:void(n.data.rightClickDisabled=!e)},this.client.clickEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.clickDisabled?!n.cache.clickDisabled:"Disabled"!==n.calendar.eventClickHandling&&!n.data.clickDisabled:void(n.data.clickDisabled=!e)},this.client.deleteEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!e)},this.client.doubleClickEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.doubleClickDisabled?!n.cache.doubleClickDisabled:"Disabled"!==n.calendar.eventDoubleClickHandling&&!n.data.doubleClickDisabled:void(n.data.doubleClickDisabled=!e)},this.client.deleteClickEnabled=function(e){return void 0===e?n.cache&&void 0!==n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!e)},this.toJSON=function(e){var t={};if(t.value=this.id(),t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.resource=this.resource(),t.isAllDay=!1,t.recurrentMasterId=this.recurrentMasterId(),t.join=this.data.join,t.tag={},n.data.tags)for(var i in n.data.tags)n.data.tags.hasOwnProperty(i)&&(t.tag[i]=""+n.data.tags[i]);else if(n.calendar&&n.calendar.tagFields)for(var a=n.calendar.tagFields,o=0;o<a.length;o++)t.tag[a[o]]=this.tag(a[o]);return t}},DayPilot.Task=function(e,t){if(!e)throw"Trying to initialize DayPilot.Task with null data parameter";var i=this,n=null;if(e instanceof DayPilot.Event)n=e,this.data=e.data.task;else{if(e instanceof DayPilot.Task)return e;this.data=e.isTaskWrapper?e.data:e}var a={},o=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=t,this.temp=function(){if(a.dirty)return a;for(var e=0;e<o.length;e++)a[o[e]]=i.data[o[e]];return a.dirty=!0,a},this.copy=function(){var e={};return DayPilot.Util.copyProps(i.data,e),e},this.commit=function(){if(a.dirty){for(var e=0;e<o.length;e++)i.data[o[e]]=a[o[e]];a.dirty=!1}},this.dirty=function(){return a.dirty},this.id=function(e){return void 0===e?i.data.id:void(this.temp().id=e)},this.text=function(e){if(void 0===e)return i.data.text;this.temp().text=e;var t=DayPilot.Util.escapeHtml(e);this.client.innerHTML(t)},this.start=function(e){return void 0===e?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(e))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(e){return void 0===e?t&&"Date"===t.eventEndSpec?new DayPilot.Date(i.data.end).getDatePart().addDays(1):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(e))},this.type=function(e){return void 0===e?n?n.data.type||"Task":i.data.type:void(this.temp().type=e)},this.complete=function(e){return void 0===e?i.data.complete?i.data.complete:0:void(this.temp().complete=e)},this.children=function(){var e=[];e.add=function(e){var t=new DayPilot.Task(e);this.data.children||(this.data.children=[]),this.children.push(t.data)};for(var i=0;this.data.children&&i<this.data.children.length;i++)e.push(new DayPilot.Task(this.data.children[i],t));return e},this.toJSON=function(e){var t={};return t.id=this.id(),t.text=this.text(),t.start=this.start().toJSON(),t.end=this.end().toJSON(),t.type=this.type(),t.tags={},DayPilot.Util.copyProps(this.data.tags,t.tags),t},this.row={};var r=this.row;r.expanded=function(e){return void 0===e?!i.data.row||!i.data.row.collapsed:(i.data.row||(i.data.row={}),!!i.data.row.collapsed!=!e&&t.internal.rowObjectForTaskData(i.data).toggle(),void(i.data.row.collapsed=!e))},r.expand=function(){r.expanded(!0)},r.collapse=function(){r.expanded(!1)},r.toggle=function(){r.expanded(!r.expanded())}},DayPilot.request=function(e,t,i,n){var a=DayPilot.createXmlHttp();a&&(a.open("POST",e,!0),a.setRequestHeader("Content-type","text/plain"),a.onreadystatechange=function(){if(4===a.readyState)return 200!==a.status&&304!==a.status?void(n?n(a):window.console&&console.log("HTTP error "+a.status)):void t(a)},4!==a.readyState&&("object"==typeof i&&(i=JSON.stringify(i)),a.send(i)))},DayPilot.ajax=function(e){if(!e)throw new DayPilot.Exception("Parameter object required.");if("string"!=typeof e.url)throw new DayPilot.Exception("The parameter object must have 'url' property.");var t=DayPilot.createXmlHttp();if(!t)throw new DayPilot.Exception("Unable to create XMLHttpRequest object");var i="object"==typeof e.data,n=e.data,a=e.success||function(){},o=e.error||function(){},r=e.contentType||(i?"application/json":"text/plain"),s=e.headers||{};t.open(e.method||(e.data?"POST":"GET"),e.url,!0),t.setRequestHeader("Content-type",r),DayPilot.Util.ownPropsAsArray(s).forEach(function(e){t.setRequestHeader(e.key,e.val)}),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||201===t.status||204===t.status||304===t.status)(e={}).request=t,t.responseText&&(e.data=JSON.parse(t.responseText)),a(e);else if(o){var e;(e={}).request=t,o(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&(i&&(n=JSON.stringify(n)),t.send(n))},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Http={},DayPilot.Http.ajax=function(e){DayPilot.ajax(e)},DayPilot.Duration=function(e){var t=this,i=864e5,n=36e5,a=6e4,o=1e3;if(2===arguments.length){var r=arguments[0],s=arguments[1];if(!(r instanceof DayPilot.Date)&&"string"!=typeof r)throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(s instanceof DayPilot.Date)&&"string"!=typeof s)throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";"string"==typeof r&&(r=new DayPilot.Date(r)),"string"==typeof s&&(s=new DayPilot.Date(s)),e=s.getTime()-r.getTime()}return this.ticks=e||0,DayPilot.Date.Cache.DurationCtor[""+e]?DayPilot.Date.Cache.DurationCtor[""+e]:(DayPilot.Date.Cache.DurationCtor[""+e]=this,this.toString=function(e){if(!e)return t.days()+"."+t.hours()+":"+t.minutes()+":"+t.seconds()+"."+t.milliseconds();var i=t.minutes();return e.replace("mm",i=(i<10?"0":"")+i).replace("m",t.minutes()).replace("H",t.hours()).replace("h",t.hours()).replace("d",t.days()).replace("s",t.seconds())},this.totalHours=function(){return t.ticks/n},this.totalDays=function(){return t.ticks/i},this.totalMinutes=function(){return t.ticks/a},this.totalSeconds=function(){return t.ticks/o},this.totalMilliseconds=function(){return t.ticks},this.days=function(){return Math.floor(t.totalDays())},this.hours=function(){var e=t.ticks-t.days()*i;return Math.floor(e/n)},this.minutes=function(){var e=t.ticks-Math.floor(t.totalHours())*n;return Math.floor(e/a)},this.seconds=function(){var e=t.ticks-Math.floor(t.totalMinutes())*a;return Math.floor(e/o)},this.milliseconds=function(){return t.ticks%o},void(this.add=function(e){return new DayPilot.Duration(t.ticks+e.ticks)}))},DayPilot.Duration.ofWeeks=function(e){return new DayPilot.Duration(1e3*e*60*60*24*7)},DayPilot.Duration.ofDays=function(e){return new DayPilot.Duration(1e3*e*60*60*24)},DayPilot.Duration.ofHours=function(e){return new DayPilot.Duration(1e3*e*60*60)},DayPilot.Duration.ofMinutes=function(e){return new DayPilot.Duration(1e3*e*60)},DayPilot.Duration.ofSeconds=function(e){return new DayPilot.Duration(1e3*e)},DayPilot.Duration.weeks=function(e){return DayPilot.Duration.ofWeeks(e)},DayPilot.Duration.days=function(e){return DayPilot.Duration.ofDays(e)},DayPilot.Duration.hours=function(e){return DayPilot.Duration.ofHours(e)},DayPilot.Duration.minutes=function(e){return DayPilot.Duration.ofMinutes(e)},DayPilot.Duration.seconds=function(e){return DayPilot.Duration.ofSeconds(e)},DayPilot.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(t,i){if(t instanceof DayPilot.Date)return t;var n;DayPilot.Util.isNullOrUndefined(t)&&(t=n=DayPilot.DateUtil.fromLocal().getTime());var a=DayPilot.Date.Cache.Ctor;if(a[t])return DayPilot.Stats.cacheHitsCtor+=1,a[t];var o=!1;if("string"==typeof t){try{n=DayPilot.DateUtil.fromStringSortable(t,i).getTime()}catch(e){throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: "+t)}o=!0}else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";n=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";n=i?DayPilot.DateUtil.fromLocal(t).getTime():t.getTime()}var r=e(n);return a[r]?a[r]:(a[r]=this,a[n]=this,o&&r!==t&&DayPilot.DateUtil.hasTzSpec(t)&&(a[t]=this),Object.defineProperty?(Object.defineProperty(this,"ticks",{get:function(){return n}}),Object.defineProperty(this,"value",{value:r,writable:!1,enumerable:!0})):(this.ticks=n,this.value=r),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(n)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(e){return e?new DayPilot.Date(this.ticks+24*e*60*60*1e3):this},DayPilot.Date.prototype.addHours=function(e){return e?this.addTime(60*e*60*1e3):this},DayPilot.Date.prototype.addMilliseconds=function(e){return e?this.addTime(e):this},DayPilot.Date.prototype.addMinutes=function(e){return e?this.addTime(60*e*1e3):this},DayPilot.Date.prototype.addMonths=function(e){if(!e)return this;var t=new Date(this.ticks),i=t.getUTCFullYear(),n=t.getUTCMonth()+1;if(e>0){for(;e>=12;)e-=12,i++;e>12-n?(i++,n=e-(12-n)):n+=e}else{for(;e<=-12;)e+=12,i--;n+e<=0?(i--,n=12+n+e):n+=e}var a=new Date(t.getTime());a.setUTCDate(1),a.setUTCFullYear(i),a.setUTCMonth(n-1);var o=new DayPilot.Date(a).daysInMonth();return a.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(a)},DayPilot.Date.prototype.addSeconds=function(e){return e?this.addTime(1e3*e):this},DayPilot.Date.prototype.addTime=function(e){return e?(e instanceof DayPilot.Duration&&(e=e.ticks),new DayPilot.Date(this.ticks+e)):this},DayPilot.Date.prototype.addYears=function(e){var t=new Date(this.ticks),i=new Date(this.ticks),n=this.getYear()+e,a=this.getMonth();i.setUTCDate(1),i.setUTCFullYear(n),i.setUTCMonth(a);var o=new DayPilot.Date(i).daysInMonth();return i.setUTCDate(Math.min(o,t.getUTCDate())),new DayPilot.Date(i)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.dayOfWeekISO=function(){return new Date(this.ticks).getUTCDay()||7},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfYear=function(){var e=this.firstDayOfYear();return DayPilot.DateUtil.daysDiff(e,this)+1},DayPilot.Date.prototype.daysInMonth=function(){var e=new Date(this.ticks),t=e.getUTCMonth()+1,i=e.getUTCFullYear(),n=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==t?n[t-1]:i%4!=0||i%100==0&&i%400!=0?n[1]:n[1]+1},DayPilot.Date.prototype.daysInYear=function(){var e=this.getYear();return e%4!=0||e%100==0&&e%400!=0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(e){if(null===e)return!1;if(e instanceof DayPilot.Date)return this===e;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var e=new Date;return e.setUTCFullYear(this.getYear(),this.getMonth(),1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfYear=function(){var e=this.getYear(),t=new Date;return t.setUTCFullYear(e,0,1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfWeek=function(e){var t=this;e=e instanceof DayPilot.Locale?e.weekStarts:"string"==typeof e&&DayPilot.Locale.find(e)?DayPilot.Locale.find(e).weekStarts:e||0;for(var i=t.dayOfWeek();i!==e;)i=(t=t.addDays(-1)).dayOfWeek();return new DayPilot.Date(t)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var e=new Date(this.ticks);return e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var e=this.getDatePart();return DayPilot.DateUtil.diff(this,e)},DayPilot.Date.prototype.lastDayOfMonth=function(){var e=new Date(this.firstDayOfMonth().getTime()),t=this.daysInMonth();return e.setUTCDate(t),new DayPilot.Date(e)},DayPilot.Date.prototype.weekNumber=function(){var e=this.firstDayOfYear(),t=(this.getTime()-e.getTime())/864e5;return Math.ceil((t+e.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var e=!1,t=this.dayOfYear(),i=this.firstDayOfYear().dayOfWeek(),n=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===i&&(i=7),0===n&&(n=7);var a=8-i;4!==i&&4!==n||(e=!0);var o=Math.ceil((t-a)/7);return a>=4&&(o+=1),o>52&&!e&&(o=1),0===o&&(o=this.firstDayOfYear().addDays(-1).weekNumberISO()),o},DayPilot.Date.prototype.toDateLocal=function(){var e=new Date(this.ticks),t=new Date;return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours()),t.setMinutes(e.getUTCMinutes()),t.setSeconds(e.getUTCSeconds()),t.setMilliseconds(e.getUTCMilliseconds()),t},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(e,t){return e?new r(e,t).print(this):this.toStringSortable()},DayPilot.Date.prototype.toStringSortable=function(){return e(this.ticks)},DayPilot.Date.parse=function(e,t,i){return new r(t,i).parse(e)};var a=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday(),!0)},DayPilot.Date.now=function(){return new DayPilot.Date},DayPilot.Date.fromYearMonthDay=function(e,t,i){t=t||1,i=i||1;var n=new Date(0);return n.setUTCFullYear(e),n.setUTCMonth(t-1),n.setUTCDate(i),new DayPilot.Date(n)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(e,t){var i=new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): "+e);if(!e)throw"Can't create DayPilot.Date from an empty string";var n=e.length,a=10===n,o=19===n;if(!(a||o||n>19))throw i;if(DayPilot.Date.Cache.Parsing[e]&&!t)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[e];var r=e.substring(0,4);if(isNaN(r))throw i;var s=e.substring(5,7);if(isNaN(s))throw i;var l=e.substring(8,10);if(isNaN(l))throw i;var c=new Date(0);if(c.setUTCFullYear(r,s-1,l),a)return DayPilot.Date.Cache.Parsing[e]=c,c;var d=e.substring(11,13);if(isNaN(d))throw i;var h=e.substring(14,16);if(isNaN(h))throw i;var u=e.substring(17,19);if(isNaN(u))throw i;if(c.setUTCHours(d),c.setUTCMinutes(h),c.setUTCSeconds(u),o)return DayPilot.Date.Cache.Parsing[e]=c,c;var f=0;if("."===e[19]){var p=parseInt(e.substring(20,23));if(isNaN(p))throw i;c.setUTCMilliseconds(p),f=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23))}else f=DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));var v=new DayPilot.Date(c);return t||(v=v.addMinutes(-f)),c=v.toDate(),DayPilot.Date.Cache.Parsing[e]=c,c},DayPilot.DateUtil.getTzOffsetMinutes=function(e){if(DayPilot.Util.isNullOrUndefined(e)||""===e)return 0;if("Z"===e)return 0;var t=e[0],i=60*parseInt(e.substring(1,3))+parseInt(e.substring(4));if("-"===t)return-i;if("+"===t)return i;throw"Invalid timezone spec: "+e},DayPilot.DateUtil.hasTzSpec=function(e){return!!e.indexOf("+")||!!e.indexOf("-")},DayPilot.DateUtil.daysDiff=function(e,t){if(e&&t||function(){throw"two parameters required"}(),e=new DayPilot.Date(e),t=new DayPilot.Date(t),e.getTime()>t.getTime())return null;for(var i=0,n=e.getDatePart(),a=t.getDatePart();n<a;)n=n.addDays(1),i++;return i},DayPilot.DateUtil.daysSpan=function(e,t){if(e&&t||function(){throw"two parameters required"}(),(e=new DayPilot.Date(e))===(t=new DayPilot.Date(t)))return 0;var i=DayPilot.DateUtil.daysDiff(e,t);return t==t.getDatePart()&&i--,i},DayPilot.DateUtil.diff=function(e,t){if(!(e&&t&&e.getTime&&t.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return e.getTime()-t.getTime()},DayPilot.DateUtil.fromLocal=function(e){e||(e=new Date);var t=new Date;return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(e.getHours()),t.setUTCMinutes(e.getMinutes()),t.setUTCSeconds(e.getSeconds()),t.setUTCMilliseconds(e.getMilliseconds()),t},DayPilot.DateUtil.localToday=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},DayPilot.DateUtil.hours=function(e,t){var i=e.getUTCMinutes();i<10&&(i="0"+i);var n=e.getUTCHours();if(t){var a=n<12;return 0==(n%=12)&&(n=12),n+":"+i+" "+(a?"AM":"PM")}return n+":"+i},DayPilot.DateUtil.max=function(e,t){return e.getTime()>t.getTime()?e:t},DayPilot.DateUtil.min=function(e,t){return e.getTime()<t.getTime()?e:t};var r=function(e,i){"string"==typeof i&&(i=DayPilot.Locale.find(i)),i=i||DayPilot.Locale.US;var n=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(e){return e.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(e){return e.getYear()%100},transform:function(e){return parseInt(e)+2e3}},{seq:"mm",expr:"[0-9]{2,2}",str:function(e){var t=e.getMinutes();return t<10?"0"+t:t}},{seq:"m",expr:"[0-9]{1,2}",str:function(e){return e.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(e){var t=e.getHours();return t<10?"0"+t:t}},{seq:"H",expr:"[0-9]{1,2}",str:function(e){return e.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(e){var t;return 0==(t=(t=e.getHours())%12)&&(t=12),t<10?"0"+t:t}},{seq:"h",expr:"[0-9]{1,2}",str:function(e){var t;return 0==(t=(t=e.getHours())%12)&&(t=12),t}},{seq:"ss",expr:"[0-9]{2,2}",str:function(e){var t=e.getSeconds();return t<10?"0"+t:t}},{seq:"s",expr:"[0-9]{1,2}",str:function(e){return e.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(e){return i.monthNames[e.getMonth()]},transform:function(e){var n=DayPilot.indexOf(i.monthNames,e,t);return n<0?null:n+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(e){return i.monthNamesShort[e.getMonth()]},transform:function(e){var n=DayPilot.indexOf(i.monthNamesShort,e,t);return n<0?null:n+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(e){var t=e.getMonth()+1;return t<10?"0"+t:t}},{seq:"M",expr:"[0-9]{1,2}",str:function(e){return e.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(e){return i.dayNames[e.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(e){return i.dayNamesShort[e.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(e){var t=e.getDay();return t<10?"0"+t:t}},{seq:"%d",expr:"[0-9]{1,2}",str:function(e){return e.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(e){return e.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(e){return e.getHours()<12?"AM":"PM"},transform:function(e){return e.toUpperCase()}}];this.init=function(){this.year=this.findSequence("yyyy")||this.findSequence("yy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(t){function i(e){return parseInt(e)}return-1===e.indexOf(t)?null:{findValue:function(a){for(var o=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e),r=null,s=0;s<n.length;s++){var l=n[s].expr;t===n[s].seq&&(l="("+l+")",r=n[s].transform),o=o.replace(n[s].seq,l)}o="^"+o+"$";try{var c=new RegExp(o).exec(a);return c?(r=r||i)(c[1]):null}catch(e){throw"unable to create regex from: "+o}}}},this.print=function(t){for(var i=function(e){for(var t=0;t<n.length;t++)if(n[t]&&n[t].seq===e)return n[t];return null},a=e.length<=0,o=0,r=[];!a;){var s=e.substring(o),l=/%?(.)\1*/.exec(s);if(l&&l.length>0){var c=l[0],d=i(c);r.push(d||c),a=e.length<=(o+=c.length)}else a=!0}for(var h=0;h<r.length;h++){var u=r[h];"string"!=typeof u&&(r[h]=u.str(t))}return r.join("")},this.parse=function(e){var t=this.year.findValue(e);if(!t)return null;var i=this.month.findValue(e);if(DayPilot.Util.isNullOrUndefined(i))return null;if(i>12||i<1)return null;var n=this.day.findValue(e),a=DayPilot.Date.fromYearMonthDay(t,i).daysInMonth();if(n<1||n>a)return null;var o=this.hours?this.hours.findValue(e):0,r=this.minutes?this.minutes.findValue(e):0,s=this.seconds?this.seconds.findValue(e):0,l=this.ampm?this.ampm.findValue(e):null;if(this.ampm&&this.hours12){var c=this.hours12.findValue(e);if(c<1||c>12)return null;o="PM"===l?12===c?12:c+12:12===c?0:c}if(o<0||o>23)return null;if(r<0||r>59)return null;if(s<0||s>59)return null;var d=new Date;return d.setUTCFullYear(t,i-1,n),d.setUTCHours(o),d.setUTCMinutes(r),d.setUTCSeconds(s),d.setUTCMilliseconds(0),new DayPilot.Date(d)},this.init()};DayPilot.ColorUtil={},DayPilot.ColorUtil.hexToRgb=function(e){if(!/^#[0-9a-f]{6}$/i.test(e))throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");return e=e.replace("#",""),{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},DayPilot.ColorUtil.rgbToHex=function(e){return"#"+n(e.r)+n(e.g)+n(e.b)},DayPilot.ColorUtil.adjustLuminance=function(e,t){return{r:e.r+t,g:e.g+t,b:e.b+t}},DayPilot.ColorUtil.darker=function(e,t){var i=DayPilot.ColorUtil.hexToRgb(e),n=DayPilot.ColorUtil.adjustLuminance(i,-17*(t=t||1));return DayPilot.ColorUtil.rgbToHex(n)},DayPilot.Canvas=function(e,t,i,n,a){n=n||1;var r=document.createElement("canvas");r.width=e*n,r.height=t*n;var s=r.getContext("2d");s.scale(n,n),this.defaultFileName="image.png","image/jpeg"===i&&(this.defaultFileName="image.jpg",a=a||.92),this.groupStart=function(e){},this.groupEnd=function(){},this.fillRect=function(e,t){s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=t,s.fillRect(e.x,e.y,e.w,e.h),s.restore()},this.rect=function(e,t){s.save(),s.strokeStyle=t,s.beginPath(),s.rect(e.x+.5,e.y+.5,e.w-1,e.h-1),s.stroke(),s.restore()},this.diamond=function(e,t){s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=t,s.beginPath(),s.moveTo(e.x+e.w/2,e.y+.5),s.lineTo(e.x+e.w-.5,e.y+e.h/2),s.lineTo(e.x+e.w/2,e.y+e.h-.5),s.lineTo(e.x+.5,e.y+e.h/2),s.closePath(),s.fill(),s.restore()},this.triangle=function(e,t,i){for(i=i||0;i<0;)i+=360;for(;i>=360;)i-=360;switch(s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=t,s.beginPath(),i){case 0:s.moveTo(e.x+e.w/3,e.y+.5),s.lineTo(e.x+e.w+.5,e.y+e.h/2),s.lineTo(e.x+e.w/3,e.y+e.h-.5);break;case 90:s.moveTo(e.x-.5,e.y+e.h/3),s.lineTo(e.x+e.w+.5,e.y+e.h/3),s.lineTo(e.x+e.w/2,e.y+e.h+.5);break;case 180:s.moveTo(e.x+2*e.w/3,e.y+.5),s.lineTo(e.x+2*e.w/3,e.y+e.h),s.lineTo(e.x,e.y+e.h/2);break;case 270:s.moveTo(e.x+e.w/2,e.y+e.w/2+.5),s.lineTo(e.x+e.w-.5,e.y+2*e.h/3),s.lineTo(e.x,e.y+2*e.h/3);break;default:throw new DayPilot.Exception("Unsupported rotation angle")}s.closePath(),s.fill(),s.restore()},this.upperLeftCorner=function(e,t){s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=t,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(e.x+e.w,e.y),s.lineTo(e.x,e.y+e.h),s.closePath(),s.fill(),s.restore()},this.upperRightCorner=function(e,t){s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=t,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(e.x+e.w,e.y),s.lineTo(e.x+e.w,e.y+e.h),s.closePath(),s.fill(),s.restore()},this.textWidth=function(e,t){s.save(),s.font=t.style+" "+t.size+" "+t.family;var i=s.measureText(e).width+1;return s.restore(),i},this.text=function(e,t,i,n,a,o,r){if(t){if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw"String expected, supplied: "+typeof t;a=a||"left",o=o||0,n=n||"#000",r=r||"top",s.save();var l=DayPilot.Util.fontHeight(i),c=DayPilot.browser.ff?3:0;c+=.2*l,c+=DayPilot.browser.chrome?1:0,c+=DayPilot.browser.ie?1:0,s.beginPath(),s.rect(e.x+.5+o,e.y+.5+o,e.w-1-o,e.h-1-o),s.clip(),s.fillStyle=n,s.font=i.style+" "+i.size+" "+i.family,s.textBaseline="top",s.textAlign=a;var d=e.x;switch(a){case"left":d+=o;break;case"center":d+=e.w/2;break;case"right":d+=e.w-o}var h=1.2*l,u=t.split("\n"),f=[];DayPilot.list(u).forEach(function(t){var i=function(e,t,i){for(var n=t.split(" "),a=[],o=n[0],r=1;r<n.length;r++){var s=n[r];e.measureText(o+" "+s).width<i?o+=" "+s:(a.push(o),o=s)}return a.push(o),a}(s,t,e.w);DayPilot.list(i).forEach(function(e){f.push(e)})});var p=h*f.length-(h-l),v=e.h-2*o,m=e.y+o;switch(r){case"top":m+=c;break;case"center":m+=(v-p)/2+.1*l;break;case"bottom":m+=v-p}for(var g=0;g<f.length;g++)s.fillText(f[g],d,m),m+=h;s.restore()}},this.line=function(e,t,i,n,a){s.save(),s.lineWidth=1,s.strokeStyle=a,s.beginPath(),s.moveTo(e+.5,t+.5),s.lineTo(i+.5,n+.5),s.stroke(),s.restore()},this.image=function(e,t){if(t){if("string"==typeof t){var i=t;return t=document.createElement("img"),i.indexOf("data:"),t.onload=function(){s.save(),s.drawImage(t,e.x,e.y),s.restore()},void(t.src=i)}s.save(),s.drawImage(t,e.x,e.y),s.restore()}},this.symbol=function(e,t,i){var n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),r=this,s=(i=i||{}).color;new o(t).j().then(function(t){if(s){var i=document.createElementNS(n,"style");i.innerHTML="svg { color: "+s+"; }",a.appendChild(i)}a.setAttribute("viewBox",t.getAttribute("viewBox")),a.setAttribute("width",e.w),a.setAttribute("height",e.h);var o=document.createElementNS(n,"g");o.innerHTML=t.innerHTML,a.appendChild(o);var l=(new XMLSerializer).serializeToString(a),c="data:image/svg+xml;base64,"+btoa(l);r.image(e,c)})},this.getWidth=function(){return r.width},this.getHeight=function(){return r.height},this.getElement=function(){return r},this.getSource=function(){return"<img src='"+r.toDataURL(i,a)+"' />"},this.getDataUri=function(){return r.toDataURL(i,a)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return r.msToBlob?r.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(e,t){var i="http://www.w3.org/2000/svg",n=document.createElementNS(i,"svg"),a=this;this.k=n,this.groups=[],n.outerHTML&&n.setAttribute("xmlns",i),n.setAttribute("viewBox","0 0 "+e+" "+t);var r=document.createElementNS(i,"defs");n.appendChild(r),a.defs=r,function(e,t){var o=document.createElementNS(i,"clipPath");o.id="clip"+DayPilot.guid();var r=document.createElementNS(i,"rect");r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",e),r.setAttribute("height",t),o.appendChild(r),a.defs.appendChild(o);var s=document.createElementNS(i,"g");s.setAttribute("clip-path","url(#"+o.id+")"),n.appendChild(s),n=s}(e,t),this.defaultFileName="image.svg",this.groupStart=function(e){var t=document.createElementNS(i,"g");for(var a in e)t.setAttribute("data-"+a,e[a]);n=t,this.group&&this.groups.push(this.group),this.group=t},this.groupEnd=function(){if(!this.group)throw new DayPilot.Error("SVG export = group not open");var e=this.group;this.group=this.groups.pop(),(n=this.group)||(n=this.k),n.appendChild(e)},this.fillRect=function(e,t){var a=document.createElementNS(i,"rect");a.setAttribute("x",e.x),a.setAttribute("y",e.y),a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("fill",t),n.appendChild(a)},this.diamond=function(e,t){var a=document.createElementNS(i,"path"),o="";o+="M "+(e.x+e.w/2)+" "+e.y,o+=" ",o+="L "+(e.x+e.w)+" "+(e.y+e.h/2),o+=" ",o+="L "+(e.x+e.w/2)+" "+(e.y+e.h),o+=" ",o+="L "+e.x+" "+(e.y+e.h/2),a.setAttribute("d",o+=" Z"),a.setAttribute("fill",t),n.appendChild(a)},this.triangle=function(e,t,a){var o=document.createElementNS(i,"path"),r="";r+="M "+(e.x+e.w/3)+" "+e.y,r+=" ",r+="L "+(e.x+e.w)+" "+(e.y+e.h/2),r+=" ",r+="L "+(e.x+e.w/3)+" "+(e.y+e.h),o.setAttribute("d",r+=" Z"),o.setAttribute("fill",t),"number"==typeof a&&o.setAttribute("transform","rotate("+a+","+(e.x+e.w/2)+","+(e.y+e.h/2)+")"),n.appendChild(o)},this.upperLeftCorner=function(e,t){var a=document.createElementNS(i,"path"),o="";o+="M "+e.x+" "+e.y,o+=" ",o+="L "+(e.x+e.w)+" "+e.y,o+=" ",o+="L "+e.x+" "+(e.y+e.h),a.setAttribute("d",o+=" Z"),a.setAttribute("fill",t),n.appendChild(a)},this.upperRightCorner=function(e,t){var a=document.createElementNS(i,"path"),o="";o+="M "+e.x+" "+e.y,o+=" ",o+="L "+(e.x+e.w)+" "+e.y,o+=" ",o+="L "+(e.x+e.w)+" "+(e.y+e.h),a.setAttribute("d",o+=" Z"),a.setAttribute("fill",t),n.appendChild(a)},this.rect=function(e,t){var a=document.createElementNS(i,"rect");a.setAttribute("x",e.x+.5),a.setAttribute("y",e.y+.5),a.setAttribute("width",e.w-1),a.setAttribute("height",e.h-1),a.setAttribute("stroke",t),a.setAttribute("stroke-width","1"),a.setAttribute("fill","transparent"),n.appendChild(a)},this.text=function(e,t,o,r,s,l,c){function d(e,t,a){var s=document.createElementNS(i,"text");s.setAttribute("fill",r),s.setAttribute("font-family",o.family),s.setAttribute("font-size",o.size),s.setAttribute("font-style",h),s.setAttribute("font-weight",u),s.setAttribute("x",t),s.setAttribute("y",a),s.setAttribute("dy","0.8em"),s.setAttribute("text-anchor",v),s.setAttribute("clip-path","url(#"+m.id+")");var l=document.createTextNode(e);s.appendChild(l),n.appendChild(s)}if(t){if("number"==typeof t&&(t=""+t),"string"!=typeof t)throw"String expected, supplied: "+typeof t;s=s||"left",l=l||0,c=c||"top";var h=o.style;-1!==h.indexOf("italic")&&(h="bold");var u=o.style;if(o.style)var f=3;var p=e.x,v="start";switch(s){case"center":p+=e.w/2,v="middle";break;case"right":p+=e.w,v="end"}var m=document.createElementNS(i,"clipPath");m.id="clip"+DayPilot.guid();var g=document.createElementNS(i,"rect");g.setAttribute("x",e.x),g.setAttribute("y",e.y),g.setAttribute("width",e.w),g.setAttribute("height",e.h),m.appendChild(g),a.defs.appendChild(m);var b=DayPilot.Util.fontHeight(o),y=1.2*b,w=t.split("\n"),x=y*w.length-(y-b),k=e.h-2*l,C=e.y+l;switch(c){case"top":C+=f;break;case"center":C+=(k-x)/2+.1*b;break;case"bottom":C+=k-x}for(var _=0;_<w.length;_++)d(w[_],p+l,C),C+=y}},this.line=function(e,t,a,o,r){var s=document.createElementNS(i,"line");s.setAttribute("x1",e+.5),s.setAttribute("y1",t+.5),s.setAttribute("x2",a+.5),s.setAttribute("y2",o+.5),s.setAttribute("stroke",r),n.appendChild(s)},this.image=function(e,t){var a=document.createElementNS(i,"g");n.appendChild(a),function(e,t){var i=null;if(e){if("string"==typeof e){if(0===e.indexOf("data:")){var n={};n.dataUri=e,t(n)}i=e}else i=e.src;(e=document.createElement("img")).onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);var i={};i.dataUri=e.toDataURL("image/png"),t(i)},e.src=i}}(t,function(t){var n=document.createElementNS(i,"image");n.setAttribute("href",t.dataUri),n.setAttribute("x",e.x),n.setAttribute("y",e.y),n.setAttribute("width",e.w),n.setAttribute("height",e.h),a.appendChild(n)})},this.symbol=function(e,t,i){var a="http://www.w3.org/2000/svg",r=document.createElementNS(a,"symbol"),s=this,l=(i=i||{}).color;new o(t).j().then(function(t){if(l){var i=document.createElementNS(a,"style");i.innerHTML="svg { color: "+l+"; }",r.appendChild(i)}var o=DayPilot.guid();r.setAttribute("viewBox",t.getAttribute("viewBox")),r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("id",o);var c=document.createElementNS(a,"g");c.innerHTML=t.innerHTML,r.appendChild(c),s.k.appendChild(r);var d=document.createElementNS(a,"use");d.setAttribute("href","#"+o),d.setAttribute("x",e.x),d.setAttribute("y",e.y),n.appendChild(d)})},this.l={},this.textWidth=function(e,t){var i="#"+e+"#"+JSON.stringify(t),n=this.l[i];if("number"==typeof n)return n;var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg");o.style.position="absolute",o.style.left="-10000px",o.style.width="100px",o.outerHTML&&o.setAttribute("xmlns",a),o.setAttribute("viewBox","0 0 100 100");var r=document.createElementNS(a,"text");r.setAttribute("font-family",t.family),r.setAttribute("font-size",t.size),r.setAttribute("font-style",t.style),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("dy","1em");var s=document.createTextNode(e);r.appendChild(s),o.appendChild(r),document.body.appendChild(o);var l=r.getComputedTextLength();return this.l[i]=l,document.body.removeChild(o),l},this.getWidth=function(){return e},this.getHeight=function(){return t},this.getElement=function(){return this.k},this.getSource=function(){if(this.k.outerHTML)return this.k.outerHTML;var e=document.createElement("div"),t=this.k.cloneNode(!0);return e.appendChild(t),e.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(){var e=this,t=null,i=null,n=null,a="urn:schemas-microsoft-com:office:spreadsheet";this.init=function(){(t=document.implementation.createDocument("urn:schemas-microsoft-com:office:spreadsheet","Workbook",null)).documentElement.setAttribute("xmlns:o","urn:schemas-microsoft-com:office:office"),t.documentElement.setAttribute("xmlns:x","urn:schemas-microsoft-com:office:excel"),t.documentElement.setAttribute("xmlns:ss",a),t.documentElement.setAttribute("xmlns:html","http://www.w3.org/TR/REC-html40");var o=t.createElement("x:ExcelWorkbook");t.documentElement.appendChild(o),i=t.createElement("ss:Styles"),t.documentElement.appendChild(i),(n=e.styles.create()).setId("Default"),n.setName("Normal")},this.worksheets=[],this.worksheets.create=function(t){var i=e.el(a,"Worksheet"),n=new o(i);return n.setName(t),this.push(n),n},this.styles=[],this.styles.create=function(e){var n=t.createElement("ss:Style");i.appendChild(n);var a=new r(n);return this.push(a),a},this.styles.getDefault=function(){return n},this.el=function(e,i){var n=t.createElementNS(e,i);return t.documentElement.appendChild(n),n},this.getSource=function(){return'<?xml version="1.0"?>'+(new XMLSerializer).serializeToString(t)},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return t},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new Blob([this.getSource()])};var o=function(e){var i=t.createElement("Table");e.appendChild(i);var n=t.createElement("x:WorksheetOptions");e.appendChild(n),this.rows=[],this.setName=function(t){e.setAttribute("ss:Name",t)},this.cell=function(e,n){for(;n>=this.rows.length;){var o=t.createElement("Row");i.appendChild(o),this.rows.push(new a(o))}return this.rows[n].cell(e)},this.enableGridlines=function(e){var i=DayPilot.list(n.childNodes).find(function(e){return"x:DoNotDisplayGridlines"===e.tagName});if(!i&&!e){var a=t.createElement("x:DoNotDisplayGridlines");n.appendChild(a)}i&&e&&n.removeChild(i)};var a=function(e){this.cells=[],this.getElement=function(){return e},this.cell=function(n){for(;n>=this.cells.length;){var a=t.createElement("Cell");e.appendChild(a),this.cells.push(new i(a))}return this.cells[n]};var i=function(e){this.setText=function(i){var n=t.createElement("Data");n.setAttribute("ss:Type","String");var a=t.createTextNode(i);for(n.appendChild(a);e.firstChild;)e.removeChild(e.firstChild);return e.appendChild(n),this},this.setColspan=function(t){return t>1?e.setAttribute("ss:MergeAcross",t-1):e.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(t){return t>1?e.setAttribute("ss:MergeDown",t-1):e.removeAttribute("ss:MergeDown"),this},this.setStyle=function(t){if(!(t instanceof r))throw"Invalid argument, Style expected";return e.setAttribute("ss:StyleID",t.getId()),this}}}},r=function(e){var i=DayPilot.guid();e.setAttribute("ss:ID",i);var n=t.createElement("ss:Alignment");e.appendChild(n);var a=t.createElement("ss:Interior");e.appendChild(a);var o=t.createElement("ss:Borders");e.appendChild(o),this.setHorizontalAlignment=function(e){n.setAttribute("ss:Horizontal",e)},this.setVerticalAlignment=function(e){n.setAttribute("ss:Vertical",e)},this.setBackColor=function(e){var t=DayPilot.Util.normalizeColor(e);a.setAttribute("ss:Color",t),a.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(e){function i(e,i){var n=t.createElement("ss:Border");return n.setAttribute("ss:Position",e),n.setAttribute("ss:LineStyle","Continuous"),n.setAttribute("ss:Color",DayPilot.Util.normalizeColor(i)),n}this.clearBorders();var n=i("Left",e);o.appendChild(n);var a=i("Right",e);o.appendChild(a);var r=i("Top",e);o.appendChild(r);var s=i("Bottom",e);o.appendChild(s)},this.clearBorders=function(){for(;o.firstChild;)o.removeChild(o.firstChild)},this.getId=function(){return i},this.setId=function(t){e.setAttribute("ss:ID",i=t)},this.setName=function(t){e.setAttribute("ss:Name",t)}};this.init()},DayPilot.Export=function(e){this.toElement=function(){return e.getElement()},this.dimensions=function(){return{width:e.getWidth(),height:e.getHeight()}},this.toHtml=function(){return e.getSource()},this.toDataUri=function(){return e.getDataUri()},this.toBlob=function(){return e.getBlob()},this.print=function(t){(t=t||{}).orientation=t.orientation||"portrait";var i=document.createElement("iframe");i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("frameborder",0),i.setAttribute("src","about:blank"),i.onload=function(){var n=i.contentWindow.document;if(n.body.appendChild(e.getElement()),"landscape"===t.orientation){var a=DayPilot.sheet(n);a.add("@page","size: landscape;"),a.commit()}i.contentWindow.document.execCommand("print",!1,null)||(i.contentWindow.focus(),i.contentWindow.print()),setTimeout(function(){document.body.removeChild(i)},10)},document.body.appendChild(i)},this.download=function(t){t=t||e.getDefaultFileName();var i=e.getBlob();DayPilot.Util.downloadBlob(i,t)}},DayPilot.Exception=function(e){return new Error(e)},DayPilot.Locale=function(e,t){if(this.id=e,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,t)for(var i in t)this[i]=t[i]},DayPilot.Locale.all={},DayPilot.Locale.find=function(e){if(!e)return null;var t=e.toLowerCase();return t.length>2&&(t=DayPilot.Util.replaceCharAt(t,2,"-")),DayPilot.Locale.all[t]},DayPilot.Locale.register=function(e){DayPilot.Locale.all[e.id]=e},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],dayNamesShort:["ne","po","\xfat","st","\u010dt","p\xe1","so"],monthNames:["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],dayNamesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["J\xe4nner","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["J\xe4n","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s\xe1."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre",""],monthNamesShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","m\xe9rcores","xoves","venres","s\xe1bado"],dayNamesShort:["do","lu","ma","m\xe9","xo","ve","s\xe1"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xu\xf1o","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xu\xf1o","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],dayNamesShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],monthNames:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ko-kr",{dayNames:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],dayNamesShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],monthNames:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"tt h:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd tt h:mm",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],dayNamesShort:["s\xf8","ma","ti","on","to","fr","l\xf8"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["s\xf8ndag","m\xe5ndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["s\xf8","m\xe5","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],dayNamesShort:["N","Pn","Wt","\u015ar","Cz","Pt","So"],monthNames:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminic\u0103","luni","mar\u021bi","miercuri","joi","vineri","s\xe2mb\u0103t\u0103"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c",""],monthNamesShort:["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","\u0161t","pi","so"],monthNames:["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],dayNamesShort:["s\xf6","m\xe5","ti","on","to","fr","l\xf6"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","\xc7a","Pe","Cu","Ct"],monthNames:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k",""],monthNamesShort:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayNamesShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],monthNames:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708",""],monthNamesShort:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(e){function t(e,t,n){var a={};a.start=e,a.end=t,a.day=n,a.target=i.active.control,a.preventDefault=function(){this.preventDefault.value=!0};var o=i.s;o&&o.start===a.start&&o.end===a.end&&o.day===a.day&&o.target===a.target||(i.s=a,"function"==typeof i.onChange&&(i.onChange(a),a.preventDefault.value)||"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(a),a.preventDefault.value)||(i.active.sendNavigate(i.day),"function"==typeof i.onChanged&&i.onChanged(a),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(a)))}var i=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(e){var t=i.navigator.control;t&&(t.selectMode=e,t.select(i.day))},this.addView=function(e,t){var n;if("string"==typeof e){if(!(n=document.getElementById(e)))throw"Element not found: "+e}else n=e;var a=n,o={isView:!0};return o.id=a.id,o.control=a,o.options=t||{},o.hide=function(){a.hide?a.hide():a.nav&&a.nav.top?a.nav.top.style.display="none":a.style.display="none"},o.sendNavigate=function(e){a.backendUrl||"function"==typeof WebForm_DoCallback&&a.uniqueID?a.commandCallBack&&a.commandCallBack("navigate",{day:e}):(a.startDate=e,a.update())},o.show=function(){i.m(),a.show?a.show():a.nav&&a.nav.top?a.nav.top.style.display="":a.style.display=""},o.selectMode=function(){if(o.options.navigatorSelectMode)return o.options.navigatorSelectMode;if(a.isCalendar)switch(a.viewType){case"Day":return"day";case"Week":case"WorkWeek":return"week";default:return"day"}else if(a.isMonth)switch(a.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(o),o},this.addTrigger=function(e,t){var n;if("string"==typeof e){if(!(n=document.getElementById(e)))throw"Element not found: "+e}else n=e;var a=this.n(t);a||(a=this.addView(t));var o={isTrigger:!0};return o.element=n,o.id=n.id,o.view=a,o.onClick=function(e){i.show(o),i.p(o),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},DayPilot.re(n,"click",o.onClick),this.triggers.push(o),o},this.addButton=this.addTrigger,this.select=function(e){var t=this.q(e);t?t.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.q=function(e){for(var t=0;t<this.triggers.length;t++){var i=this.triggers[t];if(i.id===e)return i}return null},this.p=function(e){if(this.selectedClass){for(var t=0;t<this.triggers.length;t++)DayPilot.Util.removeClass(this.triggers[t].element,this.selectedClass);DayPilot.Util.addClass(e.element,this.selectedClass)}},this.addNavigator=function(e){i.navigator.control=e,e.timeRangeSelectedHandling="JavaScript",e.onTimeRangeSelected=function(){var n,a,o;if(1===e.api)n=arguments[0],a=arguments[1],o=arguments[2];else{var r=arguments[0];n=r.start,a=r.end,o=r.day}i.day=o,t(n,a,o)}},this.show=function(e){var n,a;if(e.isTrigger)n=(a=e).view;else if(n=e.isView?e:this.n(e),this.active===n)return;if(i.onSelect){var o={};o.source=a?a.element:null,o.target=n.control,i.onSelect(o)}this.active=n,n.show();var r=n.selectMode();i.navigator.updateMode(r),t(i.navigator.control.selectionStart,i.navigator.control.selectionEnd.addDays(1),i.navigator.control.selectionDay)},this.n=function(e){for(var t=0;t<this.views.length;t++)if(this.views[t].control===e)return this.views[t];return null},this.m=function(){for(var e=0;e<this.views.length;e++)this.views[e].hide()},this.events={},this.events.load=function(e,t,n){if(!i.active||!i.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";i.active.control.events.load(e,t,n)},this.s=null,this.t=function(){if(e)for(var t in e)"triggers"===t?DayPilot.list(e.triggers).forEach(function(e){i.addTrigger(e.id,e.view)}):"navigator"===t?i.addNavigator(e.navigator):i[t]=e[t]},this.t()},function(){if(!DayPilot.Global.defaultCss){var e=DayPilot.sheet();e.add(".bubble_default_main","cursor: default;"),e.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),e.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),e.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner","border-right: 1px solid #c0c0c0;"),e.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"),e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner","border-right: none;"),e.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_direction_rtl .calendar_default_corner_inner","border-right: none;"),e.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),e.add(".calendar_default_colheader_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"),e.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),e.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),e.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),e.add(".calendar_default_message","opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),e.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),e.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),e.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 2px;margin-right: 1px;font-size: 12px;"),e.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),e.add(".calendar_default_event","cursor: default;"),e.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),e.add(".calendar_default_shadow_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;"),e.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),e.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),e.add(".calendar_default_now","background-color: red;"),e.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","background-color: red;"),e.add(".calendar_default_shadow_top",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_shadow_bottom",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".calendar_default_scroll","background-color: #f3f3f3;"),e.add(".calendar_default_event_moving_source","opacity: 0.5;"),e.add(".menu_default_main","user-select:none; font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),e.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),e.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),e.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),e.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),e.add(".menu_default_main a:hover","background-color: #f3f3f3;"),e.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),e.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),e.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),e.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),e.add(".menu_default_item a i","height: 20px;line-height: 20px;"),e.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px; user-select:none;"),e.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),e.add(".menubar_default_item:hover","background-color: #f2f2f2;"),e.add(".menubar_default_item_active","background-color: #f2f2f2;"),e.add(".month_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"),e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),e.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),e.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),e.add(".month_default_cell_header","text-align: right; padding: 4px; box-sizing: border-box;"),e.add(".month_default_header_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"),e.add(".month_default_message","padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"),e.add(".month_default_event_inner","position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"),e.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),e.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),e.add(".month_default_selected .month_default_event_inner","background: #ddd;"),e.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;height: 100%;"),e.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),e.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),e.add(".month_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),e.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),e.add(".navigator_default_day","color: black;"),e.add(".navigator_default_weekend","background-color: #f0f0f0;"),e.add(".navigator_default_dayheader","color: black;"),e.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),e.add(".navigator_default_dayother","color: gray;"),e.add(".navigator_default_todaybox","border: 1px solid red;"),e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),e.add(".navigator_default_busy","font-weight: bold;"),e.add(".navigator_default_cell","text-align: center;"),e.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),e.add(".navigator_default_title","text-align: center;"),e.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),e.add(".navigator_default_dayheader","text-align: center;"),e.add(".navigator_default_weeknumber","text-align: center;"),e.add(".navigator_default_cell_text","cursor: pointer;"),e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),e.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),e.add(".scheduler_default_timeheader_scroll","background: #f3f3f3;"),e.add(".scheduler_default_message","opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"),e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),e.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),e.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),e.add(".scheduler_default_timeheader_float","display: flex; align-items: center; justify-content: center;"),e.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #c0c0c0;"),e.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),e.add(".scheduler_default_matrix_vertical_break","background-color: #999;"),e.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),e.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),e.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;height: 100%;"),e.add(".scheduler_default_event","font-size:12px;color:#333;"),e.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),e.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".scheduler_default_event_float","display: flex; align-items: center;"),e.add(".scheduler_default_event_float_inner","padding:2px 2px 2px 8px; position: relative;"),e.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:4px;left:-4px;'),e.add(".scheduler_default_event_focus","outline: red 2px solid; z-index: 100; opacity: 0.5;"),e.add(".scheduler_default_columnheader_inner","font-weight: bold;"),e.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid #c0c0c0;"),e.add(".scheduler_default_columnheader_splitter:hover","background-color: #c0c0c0;"),e.add(".scheduler_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),e.add(".scheduler_default_cell","background-color: #f9f9f9;"),e.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),e.add(".scheduler_default_tree_image_no_children",""),e.add(".scheduler_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),e.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),e.add(".scheduler_default_event_delete","background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),e.add(".scheduler_default_event_delete:hover","opacity: 1;"),e.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: #cc0000"),e.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: #cc0000"),e.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_block","background-color: #808080; opacity: 0.5;"),e.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),e.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),e.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),e.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),e.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),e.add(".scheduler_default_rowheader textarea","padding: 3px;"),e.add(".scheduler_default_rowheader_scroll","cursor: default; background: #f3f3f3;"),e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner","background-color: red;"),e.add(".scheduler_default_event_moving_source","opacity: 0.5;"),e.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.add(".scheduler_default_link_dot","border-radius: 10px; background-color: #cc0000"),e.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),e.add(".scheduler_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".scheduler_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),e.add(".scheduler_default_main:focus","outline: none;"),e.add(".scheduler_default_cell_focus","outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top","border-top: 4px solid red;"),e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom","border-bottom: 4px solid red;"),e.add(".scheduler_default_selectionrectangle","background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"),e.add(".scheduler_default_link_shadow","border:1px solid black;"),e.add(".scheduler_default_link_shadow_circle","background-color:black;"),e.add(".scheduler_default_event_move_left","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".scheduler_default_event_move_right","box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),e.add(".scheduler_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".scheduler_default_sorticon","opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc","background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active","opacity: 1;"),e.add(".scheduler_default_loading","background-color: orange; color: white; padding: 2px;"),e.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),e.add(".gantt_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),e.add(".gantt_default_timeheader","cursor: default;color: #666;"),e.add(".gantt_default_message","opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #333;background: #f3f3f3;"),e.add(".gantt_default_rowheader,.gantt_default_corner","color: #333;background: #f3f3f3;"),e.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),e.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),e.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),e.add(".gantt_default_timeheader_float","display: flex; align-items: center; justify-content: center;"),e.add(".gantt_default_divider, .gantt_default_splitter","background-color: #c0c0c0;"),e.add(".gantt_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),e.add(".gantt_default_matrix_vertical_break","background-color: #000;"),e.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),e.add(".gantt_default_resourcedivider","background-color: #c0c0c0;"),e.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;height: 100%;"),e.add(".gantt_default_event","font-size:12px;color:#666;"),e.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),e.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),e.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),e.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),e.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),e.add(".gantt_default_columnheader_inner","font-weight: bold;"),e.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;"),e.add(".gantt_default_columnheader_cell_inner","position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),e.add(".gantt_default_cell","background-color: #f9f9f9;"),e.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_tree_image_no_children",""),e.add(".gantt_default_tree_image_expand","background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),e.add(".gantt_default_tree_image_collapse","background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),e.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),e.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"),e.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),e.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),e.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),e.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"),e.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"),e.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: #cc0000;"),e.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: #cc0000;"),e.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_block","background-color: gray; opacity: 0.5;"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".gantt_default_header_icon:hover","background-color: #ccc;"),e.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),e.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),e.add(".gantt_default_rowheader textarea","padding: 5px;"),e.add(".gantt_default_rowheader_scroll","cursor: default;"),e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),e.add(".gantt_default_event_moving_source","opacity: 0.5;"),e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),e.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2; "),e.add(".gantt_default_selectionrectangle","background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"),e.add(".gantt_default_link_shadow","border:1px solid black;"),e.add(".gantt_default_link_shadow_circle","background-color:black;"),e.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),e.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),e.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),e.add(".kanban_default_timeheader","cursor: default;color: #333;"),e.add(".kanban_default_message","opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),e.add(".kanban_default_colheadercell","color: #333;background: #f3f3f3;"),e.add(".kanban_default_rowheader,.kanban_default_corner","color: #333;background: #f3f3f3;"),e.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),e.add(".kanban_default_colheadercell","text-align: center;"),e.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),e.add(".kanban_default_divider, .kanban_default_splitter","background-color: #c0c0c0;"),e.add(".kanban_default_divider_horizontal","background-color: #c0c0c0;"),e.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),e.add(".kanban_default_matrix_vertical_break","background-color: #000;"),e.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),e.add(".kanban_default_rowheaderdivider","background-color: #c0c0c0;"),e.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;height: 100%;"),e.add(".kanban_default_card","font-size:12px;color:#333;"),e.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),e.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),e.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),e.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),e.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),e.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),e.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),e.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),e.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),e.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),e.add(".kanban_default_block","background-color: gray; opacity: 0.5;"),e.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),e.add(".kanban_default_header_icon:hover","background-color: #ccc;"),e.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),e.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),e.add(".kanban_default_rowheader textarea","padding: 3px;"),e.add(".kanban_default_rowheader_scroll","cursor: default;"),e.add(".kanban_default_card_moving_source","opacity: 0.5;"),e.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),e.add(".kanban_default_cell","background-color: #fff;"),e.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),e.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),e.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),e.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_collapse:before","content: '^';"),e.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),e.add(".kanban_default_swimlane_expand:before","content: '>';"),e.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),e.add(".kanban_default_columnmove_position","background-color: #333;"),e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2;"),e.commit(),DayPilot.Global.defaultCss=!0}}();var o=function(e){var t=this;this.j=function(){return function(){var t=new URL(e,location.href);return t.origin+t.pathname!==location.origin+location.pathname}()?fetch(e).then(function(e){return e.text()}).then(function(e){var i=document.createElement("div");return i.innerHTML=e,new Promise(function(e,n){e(i.querySelector(t.u()))})}):new Promise(function(e,i){e(document.querySelector(t.u()))})},this.u=function(){return new URL(e,location.href).hash}},s=function(e){var t=this;this.id=e,this.widths=[],this.titles=[],this.data=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.enabled=!0,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){};var i=function(){return t.enabled?t.splitterWidth:1};this.init=function(){var n;if(!e)throw"error: id not provided";if("string"==typeof e)n=document.getElementById(e);else{if(!e.appendChild)throw"error: invalid object provided";n=e}this.div=n,this.blocks=[];for(var a=0;a<this.widths.length;a++){var o=document.createElement("div");o.style.display="inline-block",o.style.height=null!==t.height?t.height+"px":"100%",o.style.width=this.widths[a]-i()+"px",o.style.overflow="hidden",o.style.position="relative",o.setAttribute("unselectable","on"),o.className=this.css.title,n.appendChild(o);var r=this.titles[a],s=null,l=[];"object"==typeof r&&(s=r.html,l=r.areas);var c=document.createElement("div");c.innerHTML=s,c.setAttribute("unselectable","on"),c.className=this.css.titleInner,o.appendChild(c),DayPilot.Areas.attach(o,t.data[a],{areas:l});var d=document.createElement("div");d.style.display="inline-block",d.style.height=null!==t.height?t.height+"px":"100%",d.style.width=i()+"px",d.style.position="relative",d.appendChild(document.createElement("div")),t.enabled&&(d.style.cursor="col-resize"),d.setAttribute("unselectable","on"),d.className=this.css.splitter;var h={};h.index=a,h.width=this.widths[a],d.data=h,d.onmousedown=function(e){if(t.enabled){var i=DayPilot.page(e);i&&(t.drag.start=i,t.drag.data=this.data,t.div.style.cursor="col-resize",e.preventDefault?e.preventDefault():e.returnValue=!1)}},n.appendChild(d);var u={};u.section=o,u.handle=d,this.blocks.push(u)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var e=0;e<this.blocks.length;e++)this.blocks[e].handle.data.width=this.widths[e],this.z(e)},this.z=function(e){this.blocks[e].section.style.width=this.widths[e]-i()+"px"},this.totalWidth=function(){for(var e=0,t=0;t<this.widths.length;t++)e+=this.widths[t];return e},this.gMouseMove=function(e){if(t.drag.start){var i=t.drag.data,n=DayPilot.page(e);if(n){var a=i.index;t.widths[a]=Math.max(5,i.width+(n.x-t.drag.start.x)),t.z(a);var o={};o.widths=this.widths,o.index=i.index,t.updating(o)}}},this.gMouseUp=function(e){if(t.drag.start){t.drag.start=null,document.body.style.cursor="",t.div.style.cursor="";var i=t.drag.data;i.width=t.widths[i.index];var n={};n.widths=this.widths,n.index=i.index,t.updated(n)}},this.dispose=function(){DayPilot.list(this.blocks).forEach(function(e){e.handle.onmousedown=null,DayPilot.de(e.section),DayPilot.de(e.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=s}}(DayPilot),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){if(void 0===e.Bubble){var t={mouseMove:function(e){void 0!==t&&(t.mouse=t.mousePosition(e))},touchPosition:function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i.clientX=t.clientX,i.clientY=t.clientY,i},mousePosition:function(t){var i=e.mo3(null,t);return t&&(i.clientY=t.clientY,i.clientX=t.clientX),i}};e.Bubble=function(i){this.v="2021.2.4931";var n=this,a={};if(this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="Above",this.hideOnClick=!0,this.hideOnHover=!1,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.onLoad=null,this.onBeforeDomAdd=null,this.onBeforeDomRemove=null,this.A=function(){},this.callBack=function(e){this.aspnet()?WebForm_DoCallback(this.uniqueID,JSON.stringify(e),this.updateView,this,this.callbackError,!0):e.calendar.internal.bubbleCallBack?e.calendar.internal.bubbleCallBack(e,this):e.calendar.bubbleCallBack(e,this)},this.callbackError=function(e,t){alert(e)},this.updateView=function(i,o){if(n!==o)throw"Callback object mismatch (internal error)";if(i){var r=null,s=null,l=null;if("string"==typeof i?s=i:"object"==typeof i&&(r=i,s=i.html,l=i.element),t.active=n,n){var c=!1;if(a.div){if(l){if(a.div.firstChild.innerHTML="",e.Util.isReactComponent(l)){var d=n.C.calendar&&n.C.calendar.internal.reactRefs().reactDOM;if(!d)throw new e.Exception("Can't reach ReactDOM");d.render(l,a.div.firstChild)}else a.div.firstChild.appendChild(l);c=!0}else s&&(a.div.firstChild.innerHTML=s,c=!0);a.div.domArgs=r}c&&n.D()}}else n.B()},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.showEvent=function(e,i){var n=new t.CallBackArgs(e.calendar||e.root,"Event",e,e.bubbleHtml?e.bubbleHtml():null);i?this.show(n):this.showOnMouseOver(n)},this.showCell=function(e){t.cancelShowing();var i=new t.CallBackArgs(e.calendar||e.root,"Cell",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showLink=function(e){t.cancelShowing();var i=new t.CallBackArgs(e.calendar||e.root,"Cell",e,e.data&&e.data.bubbleHtml);this.showOnMouseOver(i)},this.showTime=function(e){var i=new t.CallBackArgs(e.calendar||e.root,"Time",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showResource=function(e,i){var n={};n.calendar=e.calendar,n.id=e.id,n.name=e.name,n.start=e.start,e.bubbleHtml?n.bubbleHtml=function(){return e.bubbleHtml}:e.data&&e.data.bubbleHtml&&(n.bubbleHtml=function(){return e.data.bubbleHtml}),n.toJSON=function(){var e={};return e.id=this.id,e};var a=new t.CallBackArgs(n.calendar||n.root,"Resource",n,n.bubbleHtml?n.bubbleHtml():null);a.div=e.div,i?this.show(a):this.showOnMouseOver(a)},this.showHtml=function(e,i){var n=new t.CallBackArgs(null,"Html",null,e);n.div=i,this.show(n)},this.hide=function(){t.active===this&&e.Bubble.hide()},this.toJSON=function(){return null},this.show=function(i){if(n.E(i)){var o=this.animated;if(this.A.showPosition=t.mouse,t.showing=null,!t.mouse)return void setTimeout(function(){n.show(i)},100);var r=t.mouse;r.h=0,r.w=0;var s,l=this.getDiv(i);if("Above"===n.F()&&l){var c=e.abs(l,!0);if(!c)return;r.x=c.x,r.y=c.y,r.h=c.h+2,r.w=c.w}this.A.mouse=r;try{s=JSON.stringify(i.object)}catch(t){return}if(!(t.active===this&&this.A.sourceId===s||void 0!==e.Menu&&e.Menu.active)){t.hideActive(),t.active=this,this.A.sourceId=s;var d=document.createElement("div");d.setAttribute("unselectable","on"),d.style.position="absolute",this.showLoadingLabel||(d.style.display="none"),d.className=this.G("_main"),d.style.top="-3000px",d.style.left="-3000px",d.style.zIndex=this.zIndex+1,o&&(d.style.visibility="hidden"),this.hideOnClick&&(d.onclick=function(){t.hideActive()}),d.onmousemove=function(e){n.hideOnHover&&t.hideActive(),t.cancelShowing(),t.cancelHiding(),(e=e||window.event).cancelBubble=!0},d.oncontextmenu=function(){return!1},d.onmouseout=function(){n.delayedHide()};var h=document.createElement("div");d.appendChild(h),h.className=this.G("_main_inner"),h.innerHTML=this.loadingText,document.body.appendChild(d),a.div=d,n.C=function(){},n.C.calendar=i.calendar;var u={};u.source=i.object,u.async=!1,u.html=i.staticHTML,u.loaded=function(){this.async&&n.H(u)},this.showLoadingLabel&&!o&&this.D(),i.staticHTML&&"function"!=typeof this.onLoad?n.H(u):"function"==typeof this.onLoad?(this.onLoad(u),u.async||n.H(u)):"function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd?n.H(u):this.I(i)&&this.callBack(i)}}},this.E=function(e){return!!e.staticHTML||"function"==typeof this.onLoad||"function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd||!!this.I(e)},this.H=function(e){var t={};t.source=e.source,t.html=e.html,t.element=null,"function"==typeof n.onDomAdd&&n.onDomAdd(t),"function"==typeof n.onBeforeDomAdd&&n.onBeforeDomAdd(t),n.updateView(t,n)},this.getDiv=function(e){return e.div?e.div:"Event"===e.type&&e.calendar&&e.calendar.internal.findEventDiv?e.calendar.internal.findEventDiv(e.object):void 0},this.G=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.F=function(){var t=n.position;if(!t)return"Above";if("eventtop"===t.toLowerCase())return"Above";if("above"===t.toLowerCase())return"Above";if("mouse"===t.toLowerCase())return"Mouse";throw new e.Error("Unrecognized DayPilot.Bubble.position value: "+t)},this.D=function(){var i=this.animated,o=n.F();if(a.div&&this.A.mouse){if(!this.A.mouse.x||!this.A.mouse.y)return void t.hideActive();var r=a.div;r.style.display="";var s=r.offsetHeight,l=r.offsetWidth;r.style.display="none";var c=e.wd(),d=c.width,h="bottom",u="left";if("Mouse"===o){var f=0;"number"==typeof(f=this.A.mouse.clientY>c.height-s+10?this.A.mouse.y-s-10:this.A.mouse.y+22)&&(r.style.top=Math.max(f,0)+"px"),r.style.left=this.A.mouse.clientX>d-l+10?this.A.mouse.x-(this.A.mouse.clientX-(d-l)+10)+"px":this.A.mouse.x+"px"}else if("Above"===o){(f=this.A.mouse.y-s-2)<c.scrollTop&&(f=this.A.mouse.y+this.A.mouse.h+2,h="top"),"number"==typeof f&&(r.style.top=Math.max(f,0)+"px");var p=this.A.mouse.x;this.A.mouse.x+l+10>d&&(p=d-l-10,u="right"),r.style.left=p+"px"}if(r.style.display="",i){r.style.display="";var v={};v.color=r.firstChild.style.color,v.overflow=r.style.overflow,r.firstChild.style.color="transparent",r.style.overflow="hidden",e.pop(r,{finished:function(){r.firstChild.style.color=v.color,r.style.overflow=v.overflow},vertical:h,horizontal:u,animation:n.animation})}}},this.delayedHide=function(){t.showing===this&&t.cancelShowing();var e=t.active;e===this&&(t.cancelHiding(),e.hideAfter>0)&&(t.timeoutHide=window.setTimeout(t.hideActive,e.hideAfter))},this.showOnMouseOver=function(e){t.active===this&&t.cancelHiding(),clearTimeout(t.timeoutShow),t.timeoutShow=window.setTimeout(function(e){return function(){n.show(e)}}(e),this.showAfter),t.showing=this},this.hideOnMouseOut=function(){this.delayedHide()},this.I=function(e){return!!e.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.B=function(){if(a.div){var t=a.div.domArgs;if(a.div.domArgs=null,t&&("function"==typeof n.onDomRemove&&n.onDomRemove(t),"function"==typeof n.onBeforeDomRemove&&n.onBeforeDomRemove(t),"function"==typeof n.onDomAdd||"function"==typeof n.onBeforeDomAdd)){var i=a.div.firstChild;if(i&&e.Util.isReactComponent(t.element)){var o=n.C.calendar&&n.C.calendar.internal.reactRefs().reactDOM;if(!o)throw new e.Exception("Can't reach ReactDOM");o.unmountComponentAtNode(i)}}document.body.removeChild(a.div),a.div=null}},i)for(var o in i)this[o]=i[o];this.init()},e.Bubble.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},t.cancelShowing=function(){t.showing=null,t.timeoutShow&&(window.clearTimeout(t.timeoutShow),t.timeoutShow=null)},t.cancelHiding=function(){t.timeoutHide&&window.clearTimeout(t.timeoutHide)},t.hideActive=function(){t.cancelHiding();var e=t.active;e&&e.B(),t.active=null},t.CallBackArgs=function(e,t,i,n){this.calendar=e,this.type=t,this.object=i,this.staticHTML=n,this.toJSON=function(){var e={};return e.uid=this.calendar.uniqueID,e.type=this.type,e.object=i,e}},e.re(document,"mousemove",t.mouseMove),e.Bubble.hideActive=t.hideActive,e.Bubble.cancelShowing=t.cancelShowing,e.Bubble.hide=function(i){if((i=i||{}).calendar){var n=t.active;n&&n.C.calendar===i.calendar&&e.Bubble.hide()}else t.hideActive()},e.Bubble.getActive=function(){return t.active},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){if(void 0===e.Calendar){e.Calendar=function(i,n){this.v="2021.2.4931";var a=!1;if(this instanceof e.Calendar&&!this.J&&(a=!0,this.J=!0),!a)throw new e.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'");var o=this;this.uniqueID=null,this.clientName=i,this.id=i,this.isCalendar=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowEventOverlap=!0,this.allowMultiSelect=!0,this.api=2,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.bubble="function"==typeof e.Bubble?new e.Bubble:null,this.cellBubble=null,this.columnBubble=null,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellHeight=30,this.cellDuration=30,this.clientState={},this.columnMarginRight=5,this.columnWidth=200,this.columnWidthSpec="Auto",this.columnsLoadMethod="GET",this.contextMenu=null,this.contextMenuSelection=null,this.cornerText="",this.cornerHtml=null,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.doubleClickTimeout=300,this.durationBarVisible=!0,this.dynamicEventRendering="Disabled",this.dynamicEventRenderingMarginX=0,this.dynamicEventRenderingMarginY=0,this.eventArrangement="Cascade",this.eventsLoadMethod="GET",this.headerHeight=30,this.headerHeightAutoFit=!1,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.hideUntilInit=!0,this.headerDateFormat=null,this.hourWidth=60,this.initEventEnabled=!1,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.loadingLabelVisible=!0,this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.rtl=!1,this.scrollDelayCells=0,this.scrollDelayEvents=10,this.scrollLabelsVisible=!1,this.showToolTip=!0,this.showAllDayEvents=!1,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=e.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="Auto",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="Auto",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="Auto",this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeRightClickHandling="ContextMenu",this.onAutoRefresh=null,this.onColumnFilter=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onEventFilter=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventSelect=null,this.onEventSelected=null,this.onEventEdit=null,this.onEventEdited=null,this.onEventDelete=null,this.onEventDeleted=null,this.onHeaderClick=null,this.onHeaderClicked=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventDoubleClick=null,this.onEventDoubleClicked=null,this.onEventClick=null,this.onEventClicked=null,this.onBeforeEventRender=null,this.onBeforeEventExport=null,this.onBeforeEventDomAdd=null,this.onBeforeEventDomRemove=null,this.onAfterEventRender=null,this.onBeforeCellRender=null,this.onBeforeCellExport=null,this.onBeforeCornerDomAdd=null,this.onBeforeCornerDomRemove=null,this.onBeforeCornerRender=null,this.onBeforeHeaderRender=null,this.onBeforeHeaderExport=null,this.onBeforeTimeHeaderRender=null,this.K=!0,this.L=10,this.M=!0,this.N=!0,this.O=!0,this.P={},this.P.pixels={},this.P.events=[],this.P.drawArea=null,this.P.Q=null,this.elements={},this.elements.events=[],this.elements.separators=[],this.elements.selection=[],this.elements.cells={},this.elements.crosshair=[],this.elements.timeHeaders=[],this.events={},this.events.list=[],this.nav={},this.R=0,this.S=!1,this.T=!1,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members","onCallbackError"],this.members.noCssOnly=[],this.U="javasc",this.V={},this.V.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.V.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.clearSelection=function(){return this.selectedCells?(t.topSelectedCell=null,t.bottomSelectedCell=null,e.Global.selecting=null,this.W(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.W=function(){this.selectedCells&&(e.de(o.elements.selection),o.elements.selection=[],o.nav.activeSelection=null)},this.cleanSelection=this.clearSelection,this.X=function(){if(o.P.drawArea)return o.P.drawArea;var e=o.Y();if(!e)return null;var t={pixels:{}};t.pixels.left=e.scrollLeft,t.pixels.right=e.scrollLeft+e.clientWidth,t.pixels.top=e.scrollTop,t.pixels.bottom=e.scrollTop+e.clientHeight,t.pixels.width=e.scrollWidth;var i=o.dynamicEventRenderingMarginX;i&&(t.pixels.left-=i,t.pixels.right+=i,t.pixels.left<0&&(t.pixels.left=0),t.pixels.right>t.pixels.width&&(t.pixels.right=t.pixels.width));var n=o.dynamicEventRenderingMarginY;if(n){t.pixels.top-=n,t.pixels.bottom+=n;var a=o.Z();t.pixels.top<0&&(t.pixels.top=0),t.pixels.bottom>a&&(t.pixels.bottom=a)}for(var r=o._(),s=null,l=null,c=0;c<r.length;c++){var d=r[c],h=d.left+d.width;if(null===s&&h>t.pixels.left&&(s=c),null!==s&&null===l&&(h>=t.pixels.right||c===r.length-1)){l=c;break}}var u=Math.floor(t.pixels.top/o.cellHeight),f=Math.ceil(t.pixels.bottom/o.cellHeight);return t.xStart=s,t.xEnd=l,t.yStart=u,t.yEnd=f,o.P.drawArea=t,t},this.aa=function(e){return o.P.Q||(o.P.Q=o._()),o.P.Q[e]},this.ba=function(){o.P.drawArea=null,o.P.Q=null},this.ca=function(t,i){return o.ea.da()?e.Util.escapeTextHtml(t,i):e.Util.isNullOrUndefined(i)?e.Util.isNullOrUndefined(t)?"":t:i},this.fa=function(e,t,i){var n={};n.action=e,n.parameters=i,n.data=t,n.header=this.ga();var a="JSON"+JSON.stringify(n);__doPostBack(o.uniqueID,a)},this.ha=function(t,i,n,a){if(this.I()){void 0===a&&(a="CallBack"),o.ia();var r={};r.action=t,r.type=a,r.parameters=i,r.data=n,r.header=this.ga();var s="JSON"+JSON.stringify(r);this.backendUrl?e.request(this.backendUrl,this.ja,s,this.ka):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,s,this.la,this.clientName,this.onCallbackError,!0)}else o.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning")},this.I=function(){return"javasc"!==o.U&&-1===o.U.indexOf("DCODE")||o.devsb},this.ma=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.ka=function(e){if("function"==typeof o.onAjaxError){var t={};t.request=e,o.onAjaxError(t)}else"function"==typeof o.ajaxError&&o.ajaxError(e)},this.dispose=function(){var i=o;i.S&&!i.T&&(i.T=!0,i.na&&i.na.disconnect(),i.oa(),i.pa(),i.nav.messageClose&&(i.nav.messageClose.onclick=null),i.nav.hourTable&&(i.nav.hourTable.oncontextmenu=null,i.nav.hourTable.onmousemove=null),i.nav.header&&(i.nav.header.oncontextmenu=null),i.nav.corner&&(i.nav.corner.oncontextmenu=null),i.nav.zoom&&(i.nav.zoom.onmousemove=null,i.nav.zoom.oncontextmenu=null),i.nav.scroll&&(i.nav.scroll.onscroll=null,i.nav.scroll.root=null),e.pu(i.nav.loading),i.qa(),i.ra(),i.sa(),i.ta(),i.nav.select=null,i.nav.cornerRight=null,i.nav.scrollable=null,i.nav.bottomLeft=null,i.nav.bottomRight=null,i.nav.allday=null,i.nav.zoom=null,i.nav.loading=null,i.nav.events=null,i.nav.header=null,i.nav.hourTable=null,i.nav.scrolltop=null,i.nav.scroll=null,i.nav.vsph=null,i.nav.main=null,i.nav.message=null,i.nav.messageClose=null,i.nav.top.removeAttribute("style"),i.nav.top.removeAttribute("class"),i.nav.top.removeEventListener("mouseleave",o.va),!(o.wa.reactDOM&&e.browser.ie)&&(i.nav.top.innerHTML=""),i.nav.top.dp=null,i.nav.top=null,e.ue(window,"resize",i.xa),t.unregister(i),void 0!==e.Bubble&&(e.Bubble.cancelShowing(),e.Bubble.hide({calendar:i})),void 0!==e.Menu&&e.Menu.hide({calendar:i}))},this.ya=function(){this.nav.top.dispose=this.dispose},this.ja=function(e){o.la(e.responseText)},this.ga=function(){var e={};return e.v=this.v,e.control="dpc",e.id=this.id,e.clientState=o.clientState,e.columns=this.za(),e.days=o.days,e.startDate=o.startDate,e.cellDuration=o.cellDuration,e.cssClassPrefix=o.cssClassPrefix,e.heightSpec=o.heightSpec,e.businessBeginsHour=o.businessBeginsHour,e.businessEndsHour=o.businessEndsHour,e.viewType=o.viewType,e.dayBeginsHour=o.dayBeginsHour,e.dayEndsHour=o.dayEndsHour,e.headerLevels=o.headerLevels,e.eventHeaderVisible=o.eventHeaderVisible,e.timeFormat=o.timeFormat,e.timeHeaderCellDuration=o.timeHeaderCellDuration,e.locale=o.locale,e.scrollY=o.scrollPos,e.showAllDayEvents=o.showAllDayEvents,e.tagFields=o.tagFields,e.weekStarts=o.weekStarts,e.selected=o.multiselect.events(),e.hashes=o.hashes,e},this.Aa=function(){o.Ba(),o.Ca=null},this.za=function(){var e=[];if(e.ignoreToJSON=!0,!this.Da)return e;for(var t=0;t<this.Da.length;t++){var i=this.Ea(this.Da[t]);e.push(i)}return e},this.Ea=function(e){var t={};return t.Value=e.id,t.Name=e.name,t.ToolTip=e.toolTip,t.Date=e.start,t.Children=this.Fa(e.children),t},this.Fa=function(e){var t=[];if(t.ignoreToJSON=!0,!e)return t;for(var i=0;i<e.length;i++)t.push(this.Ea(e[i]));return t},this.la=function(t,i){if((t=JSON.parse(t)).BubbleGuid){var n=t.BubbleGuid,a=this.bubbles[n];return delete this.bubbles[n],o.Ga(),void(void 0!==t.Result.BubbleHTML&&a.updateView(t.Result.BubbleHTML,a))}if(t.CallBackRedirect)document.location.href=t.CallBackRedirect;else{if(void 0!==t.ClientState&&(o.clientState=t.ClientState),"None"===t.UpdateType)return o.Ga(),o.Ha(t.CallBackData,!0),void(t.Message&&o.message(t.Message));if(o.ba(),t.VsUpdate){var r=document.createElement("input");r.type="hidden",r.name=o.id+"_vsupdate",r.id=r.name,r.value=t.VsUpdate,o.nav.vsph.innerHTML="",o.nav.vsph.appendChild(r)}if(o.pa(),o.multiselect.clear(!0),o.multiselect.Ia=t.SelectedEvents,void 0!==t.TagFields&&(o.tagFields=t.TagFields),void 0!==t.SortDirections&&(o.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(o.colors=t.Colors,o.palette=t.Palette,o.dirtyColors=t.DirtyColors,o.cellProperties=t.CellProperties,o.cellConfig=t.CellConfig,o.Ja()===o.columns?o.columns=t.Columns:o.columns.list=t.Columns,o.days=t.Days,o.startDate=new e.Date(t.StartDate).getDatePart(),o.cellDuration=t.CellDuration,o.heightSpec=t.HeightSpec?t.HeightSpec:o.heightSpec,o.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:o.businessBeginsHour,o.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:o.businessEndsHour,o.viewType=t.ViewType,o.headerLevels=t.HeaderLevels,o.backColor=t.BackColor?t.BackColor:o.backColor,o.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:o.nonBusinessBackColor,o.eventHeaderVisible=t.EventHeaderVisible?t.EventHeaderVisible:o.eventHeaderVisible,o.timeFormat=t.TimeFormat?t.TimeFormat:o.timeFormat,o.timeHeaderCellDuration=void 0!==t.TimeHeaderCellDuration?t.TimeHeaderCellDuration:o.timeHeaderCellDuration,o.locale=t.Locale?t.Locale:o.locale,o.dayBeginsHour=void 0!==t.DayBeginsHour?t.DayBeginsHour:o.dayBeginsHour,o.dayEndsHour=void 0!==t.DayEndsHour?t.DayEndsHour:o.dayEndsHour,o.cornerHtml=t.CornerHTML,o.hours=t.Hours,o.Ka(),o.La()),t.Hashes)for(var s in t.Hashes)o.hashes[s]=t.Hashes[s];if(o.Ma(t.Events),o.Na(),("Full"===t.UpdateType||o.hideFreeCells)&&(o.Oa(),o.Pa(),o.Qa(),o.Ra(),o.Sa(),o.Ta(),o.Ua(),o.Va(),o.clearSelection(),o.Wa(),o.scrollToY(void 0!==t.ScrollY?t.ScrollY:o.initScrollPos)),o.Xa(),o.Ya(),o.Za(),o.$a(),"Parent100Pct"===o.heightSpec&&o._a(),"HoldForever"!==o.timeRangeSelectedHandling&&o.clearSelection(),o.ab(),o.todo&&o.todo.del){var l=o.todo.del;l.parentNode.removeChild(l),o.todo.del=null}o.Ha(t.CallBackData,!0),o.Ga(),o.bb(),t.Message&&o.message(t.Message)}},this.Ha=function(e,t){window.setTimeout(function(e,t){return function(){if(o.cb()){if("function"==typeof o.onAfterRender){var i={};i.isCallBack=t,i.data=e,o.onAfterRender(i)}}else o.afterRender&&o.afterRender(e,t)}}(e,t),0)},this.db=function(e,t){var i=o.nav.events,n=i.rows[0].cells.length,a=Math.floor(o.coords.x/(i.clientWidth/n));a<0&&(a=0),a>=n&&(a=n-1),o.rtl&&(a=o.eb.length-a-1);var r=i.rows[0].cells[a],s=0,l=0;if(void 0!==e.duration){var c=e.duration;l=Math.floor((o.coords.y-0+o.cellHeight/2)/o.cellHeight)*o.cellHeight+0,s=c*o.cellHeight/(60*o.cellDuration),s=Math.max(s,o.cellHeight)}else{var d=e.event;s=d.part.height,l=d.part.top}var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.width="100%",h.style.height=s+"px",h.style.left="0px",h.style.top=l+"px",h.style.zIndex=o.L,h.exclude=!0;var u=document.createElement("div");return h.appendChild(u),h.className=o.G("_shadow"),u.className=this.G("_shadow_inner"),r.events.appendChild(h),h},this.fb=function(){return this.gb()/36e5},this.hb=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ib=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.gb=function(e){var t=0;if("BusinessHoursNoScroll"===this.heightSpec)t=this.hb();else if(this.hideFreeCells&&!e){var i=Math.ceil((this.jb-1)*this.cellDuration/this.cellHeight/60);t=Math.max(this.dayBeginsHour+i,this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour)-this.kb()}else t=this.ib();return 60*t*60*1e3},this.message=function(t,i){if(null!==t&&o.S){var n,a={};n="object"==typeof arguments[1]?(a=arguments[1]).delay:i;var r="";r=a.rawHtml?t:e.Util.escapeHtml(t),n=n||this.messageHideAfter||2e3;var s,l=this.lb(),c=this.showHours?this.hourWidth:0,d=e.sw(o.mb());if(o.rtl){var h=c;c=d,d=h}if(this.nav.message)s=o.nav.message,this.nav.message.style.top=l+"px";else{(s=document.createElement("div")).style.position="absolute",s.style.left=c+"px",s.style.top=l+"px",s.style.right="0px",s.style.display="none",s.onmousemove=function(){s.messageTimeout&&!s.status&&clearTimeout(s.messageTimeout)},s.onmouseout=function(){"none"!==o.nav.message.style.display&&(s.messageTimeout=setTimeout(o.nb,500))};var u=document.createElement("div");u.onclick=function(){o.nav.message.style.display="none"},u.className=this.G("_message"),s.appendChild(u);var f=document.createElement("div");f.style.position="absolute",f.className=this.G("_message_close"),f.onclick=function(){o.nav.message.style.display="none"},s.appendChild(f),this.nav.top.insertBefore(s,this.nav.loading),this.nav.message=s,this.nav.messageClose=f}this.nav.message.style.right=this.nav.cornerRight?d+"px":"0px";var p=function(){if(o.nav.message){var t=o.nav.message.firstChild;t.className=o.G("_message"),a.cssClass&&e.Util.addClass(t,a.cssClass),t.innerHTML=r,e.fade(o.nav.message,.2,function(){s.messageTimeout=setTimeout(o.nb,n)})}};clearTimeout(s.messageTimeout),"none"!==this.nav.message.style.display?e.fade(o.nav.message,-.2,p):p()}},this.message.show=function(e){o.message(e)},this.message.hide=function(){o.nb()},this.nb=function(){e.fade(o.nav.message,-.2,function(){o.nav.message.style.display="none"})},this.Ra=function(){this.nav.message&&(this.nav.message.style.top=this.lb()+"px")},this.ob=function(){return this.gb()/(6e4*this.cellDuration)},this.eventClickPostBack=function(e,t){this.fa("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.ha("EventClick",e,t)},this.pb=function(t){var i=(t=t||window.event).ctrlKey,n=t.metaKey;if(void 0!==e.Bubble&&e.Bubble.hideActive(),"Disabled"!==o.eventDoubleClickHandling){if(o.timeouts){for(var a in o.timeouts)window.clearTimeout(o.timeouts[a]);o.timeouts=[]}else o.timeouts=[];o.timeouts.push(window.setTimeout(function(e,t,i,n){return function(){o.qb(e,t,i,n)}}(this,i,n,t),o.doubleClickTimeout))}else o.qb(this,i,n,t)},this.qb=function(e,t,i,n){var a=e.event;if(a.client.clickEnabled())if(o.cb()){var r={};if(r.e=a,r.ctrl=t,r.meta=i,r.originalEvent=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventClick&&(o.onEventClick(r),r.preventDefault.value))return;switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"Edit":o.rb(e);break;case"Select":o.sb(e,a,t,i);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":(s=a.client.contextMenu())?s.show(a):o.contextMenu&&o.contextMenu.show(a)}"function"==typeof o.onEventClicked&&o.onEventClicked(r)}else switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"JavaScript":o.onEventClick(a);break;case"Edit":o.rb(e);break;case"Select":o.sb(e,a,t,i);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":var s;(s=a.client.contextMenu())?s.show(a):o.contextMenu&&o.contextMenu.show(a)}},this.eventDoubleClickPostBack=function(e,t){this.fa("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.ha("EventDoubleClick",e,t)},this.tb=function(t){if(void 0!==e.Bubble&&e.Bubble.hideActive(),o.timeouts){for(var i in o.timeouts)window.clearTimeout(o.timeouts[i]);o.timeouts=null}var n=this.event;if(t=t||window.event,o.cb()){var a={};if(a.e=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDoubleClick&&(o.onEventDoubleClick(a),a.preventDefault.value))return;switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"Edit":n.allday()||o.rb(this);break;case"Select":n.allday()||o.sb(this,n,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}"function"==typeof o.onEventDoubleClicked&&o.onEventDoubleClicked(a)}else switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"JavaScript":o.onEventDoubleClick(n);break;case"Edit":n.allday()||o.rb(this);break;case"Select":n.allday()||o.sb(this,n,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}},this.eventRightClickPostBack=function(e,t){this.fa("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.ha("EventRightClick",e,t)},this.ub=function(e){var t=this.event;if(e.stopPropagation&&e.stopPropagation(),!t.client.rightClickEnabled())return!1;if(o.cb()){var i={};if(i.e=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventRightClick&&(o.onEventRightClick(i),i.preventDefault.value))return!1;switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"ContextMenu":(n=t.client.contextMenu())?n.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}"function"==typeof o.onEventRightClicked&&o.onEventRightClicked(i)}else switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"JavaScript":o.onEventRightClick(t);break;case"ContextMenu":var n;(n=t.client.contextMenu())?n.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}return e.preventDefault&&e.preventDefault(),!1},this.vb=function(t){return new e.Column(t,o)},this.headerClickPostBack=function(e,t){this.fa("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.ha("HeaderClick",e,t)},this.wb=function(e){var t=this.data,i=o.vb(t);if(o.cb()){var n={header:{}};if(n.header.id=t.id,n.header.name=t.name,n.header.start=t.start,n.column=i,n.originalEvent=e,n.shift=e.shiftKey,n.ctrl=e.ctrlKey,n.meta=e.metaKey,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onHeaderClick&&(o.onHeaderClick(n),n.preventDefault.value))return;switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(i);break;case"CallBack":o.headerClickCallBack(i)}"function"==typeof o.onHeaderClicked&&o.onHeaderClicked(n)}else switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(i);break;case"CallBack":o.headerClickCallBack(i);break;case"JavaScript":o.onHeaderClick(i)}},this.xb=function(){if(void 0!==e.Bubble&&o.columnBubble)if("Resources"===o.viewType){var t={};t.calendar=o,t.start=this.data.start,t.name=this.data.name,t.id=this.data.id,t.toJSON=function(){var e={};return e.id=this.id,e.start=this.start,e.name=this.name,e},o.columnBubble.showResource(t)}else{var i=new e.Date(this.data.start),n=i.addDays(1),a={};a.calendar=o,a.start=i,a.end=n,a.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e},o.columnBubble.showTime(a)}var r=this,s=r.firstChild;if(!s.active){var l=o.vb(r.data);l.areas=r.data.areas,e.Areas.showAreas(s,l)}},this.yb=function(t){void 0!==e.Bubble&&o.columnBubble&&o.columnBubble.hideOnMouseOut(),e.Areas.hideAreas(this.firstChild,t)},this.eventDeletePostBack=function(e,t){this.fa("EventDelete",t,e)},this.eventDeleteCallBack=function(e,t){this.ha("EventDelete",e,t)},this.zb=function(t){var i;if(i=t&&t.isEvent?t:t.parentNode.parentNode.event,void 0!==e.Bubble&&(e.Bubble.hideActive(),e.Bubble.cancelShowing()),o.cb()){var n={};if(n.e=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDelete&&(o.onEventDelete(n),n.preventDefault.value))return;switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(i);break;case"CallBack":o.eventDeleteCallBack(i);break;case"Update":o.events.remove(i)}"function"==typeof o.onEventDeleted&&o.onEventDeleted(n)}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(i);break;case"CallBack":o.eventDeleteCallBack(i);break;case"JavaScript":o.onEventDelete(i)}},this.eventResizePostBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.fa("EventResize",n,a)},this.eventResizeCallBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.ha("EventResize",a,n)},this.Ab=function(t,i,n,a){if("PostBack"===t)o.postBack2(i,n,a);else if("CallBack"===t)o.ha(i,n,a,"CallBack");else if("Immediate"===t)o.ha(i,n,a,"Notify");else if("Queue"===t)o.queue.add(new e.Action(this,i,n,a));else{if("Notify"!==t)throw new e.Exception("Invalid event invocation type");"Notify"===s.notifyType()?o.ha(i,n,a,"Notify"):o.queue.add(new e.Action(o,i,n,a))}},this.kb=function(e){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!e){var t=Math.floor(this.Bb*this.cellDuration/this.cellHeight/60);return t=Math.max(0,t),Math.min(this.dayBeginsHour+t,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){if("Resources"===o.viewType){if(o.eb.isEmpty())return e.Date.today();var t=e.list(o.eb).map(function(e){return e.start.getTime()}),i=Math.min.apply(null,t);return new e.Date(i)}return this.eb[0].start},this.visibleEnd=function(){if("Resources"===o.viewType){if(o.eb.isEmpty())return e.Date.today().addDays(1);var t=e.list(o.eb).map(function(e){return e.start.getTime()}),i=Math.max.apply(null,t);return new e.Date(i).addDays(1)}var n=this.eb;return n[i=n.length-1].start.addDays(1)},this.cb=function(){return 2===o.api},this.Cb=function(e,t){var i=(e.start(),o.eb[e.part.dayIndex].start),n=Math.floor(t/o.cellHeight)*o.cellDuration*60*1e3,a=60*o.kb()*60*1e3;return i.addTime(n+a)},this.Db=function(e,t){var i=Math.floor(t/o.cellHeight)*o.cellDuration*60*1e3,n=60*o.kb()*60*1e3;return o.eb[e.part.dayIndex].start.addTime(i+n)},this.Eb=function(e,t,i,n){var a,r;if("Disabled"!==this.eventResizeHandling)if("top"===n?(a=o.Cb(e,i),r=e.end()):"bottom"===n&&(a=e.start(),r=o.Db(e,i+t)),o.cb()){var s={},l=function(){if(s.loaded=function(){},o.Fb(),!s.preventDefault.value){switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(e,a,r);break;case"CallBack":o.eventResizeCallBack(e,a,r);break;case"Notify":o.eventResizeNotify(e,a,r);break;case"Update":e.start(a),e.end(r),o.events.update(e)}"function"==typeof o.onEventResized&&o.onEventResized(s)}};if(s.e=e,s.newStart=a,s.newEnd=r,s.preventDefault=function(){this.preventDefault.value=!0},s.async=!1,s.hideShadow=function(){o.Fb()},s.loaded=function(){l()},"function"==typeof o.onEventResize&&(o.onEventResize(s),s.preventDefault.value))return void o.Fb();s.async||l()}else switch(o.Fb(),o.eventResizeHandling){case"PostBack":o.eventResizePostBack(e,a,r);break;case"CallBack":o.eventResizeCallBack(e,a,r);break;case"JavaScript":o.onEventResize(e,a,r);break;case"Notify":o.eventResizeNotify(e,a,r)}},this.eventResizeNotify=function(t,i,n,a){var r=new e.Event(t.copy(),this);t.start(i),t.end(n),t.commit(),o.update(),this.Gb("Notify",r,i,n,a)},this.Gb=function(e,t,i,n,a){var o={};o.e=t,o.newStart=i,o.newEnd=n,this.Ab(e,"EventResize",o,a)},this.eventMovePostBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=n,this.fa("EventMove",a,o)},this.eventMoveCallBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.newResource=n,this.ha("EventMove",o,a)},this.Hb=function(t,i,n){var a=Math.floor((n-0)/o.cellHeight),r=o.cellDuration,s=a*r*60*1e3,l=t.start(),c=t.end(),d=new Date;l instanceof e.Date&&(l=l.toDate()),d.setTime(Date.UTC(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()));var h="Never"!==o.useEventBoxes?l.getTime()-(d.getTime()+3600*l.getUTCHours()*1e3+Math.floor(l.getUTCMinutes()/r)*r*60*1e3):0,u=c.getTime()-l.getTime(),f=3600*o.kb()*1e3;void 0===i&&(i=t.part.dayIndex);var p=this.eb[i],v=p.start.getTime(),m=new Date;m.setTime(v+s+h+f);var g=new e.Date(m);return{start:g,end:g.addTime(u),resource:p.id}},this.Ib=function(t,i,n,a,r){if("Disabled"!==o.eventMoveHandling){var s=o.Hb(t,i,n),l=s.start,c=s.end,d=s.resource,h=!!r;if(o.cb()){var u={},f=function(){if(u.loaded=function(){},o.Jb(),!u.preventDefault.value){switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,l,c,d);break;case"CallBack":o.eventMoveCallBack(t,l,c,d);break;case"Notify":o.eventMoveNotify(t,l,c,d);break;case"Update":t.start(l),t.end(c),t.resource(d),h?(t.commit(),o.events.add(t)):o.events.update(t),o.Kb()}"function"==typeof o.onEventMoved&&o.onEventMoved(u)}};if(u.e=t,u.newStart=s.start,u.newEnd=s.end,u.newResource=s.resource,u.external=h,u.areaData=e.Global.movingAreaData,u.ctrl=!1,a&&(u.ctrl=a.ctrlKey),u.shift=!1,a&&(u.shift=a.shiftKey),u.preventDefault=function(){this.preventDefault.value=!0},u.async=!1,u.hideShadow=function(){o.Jb()},u.loaded=function(){f()},"function"==typeof o.onEventMove&&(o.onEventMove(u),u.preventDefault.value))return void o.Jb();u.async||f()}else switch(o.Jb(),o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,l,c,d);break;case"CallBack":o.eventMoveCallBack(t,l,c,d);break;case"JavaScript":o.onEventMove(t,l,c,d,h,!!a&&a.ctrlKey,!!a&&a.shiftKey);break;case"Notify":o.eventMoveNotify(t,l,c,d,null)}}},this.eventMoveNotify=function(t,i,n,a,r){var s=new e.Event(t.copy(),this);t.start(i),t.end(n),t.resource(a),t.commit(),o.update(),this.Lb("Notify",s,i,n,a,r)},this.Lb=function(e,t,i,n,a,o){var r={};r.e=t,r.newStart=i,r.newEnd=n,r.newResource=a,this.Ab(e,"EventMove",r,o)},this.Kb=function(){if(o.todo&&o.todo.del){var e=o.todo.del;e.parentNode.removeChild(e),o.todo.del=null}},this.Mb=function(e,t){var i=o.Nb(t),n={};n.args=e,n.guid=i,o.ha("Bubble",n)},this.Nb=function(t){var i=e.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[i]=t,i},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.fa("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.ha("EventMenuClick",n,i)},this.Ob=function(e,t,i){switch(i){case"PostBack":o.eventMenuClickPostBack(t,e);break;case"CallBack":o.eventMenuClickCallBack(t,e)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.fa("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.ha("TimeRangeMenuClick",n,i)},this.Pb=function(e,t,i){switch(i){case"PostBack":o.timeRangeMenuClickPostBack(t,e);break;case"CallBack":o.timeRangeMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.fa("TimeRangeSelected",n,a)},this.timeRangeSelectedCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.ha("TimeRangeSelected",a,n)},this.Qb=function(t,i,n){t=new e.Date(t),i=new e.Date(i);var a=n;if(o.cb()){var r={};if(r.start=t,r.end=i,r.resource=a,r.control=o,r.preventDefault=function(){this.preventDefault.value=!0},r.toJSON=function(){return e.Util.copyProps(r,{},["start","end","resource"])},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(r),r.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,i,a);break;case"CallBack":o.timeRangeSelectedCallBack(t,i,a)}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(r)}else switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,i,n);break;case"CallBack":o.timeRangeSelectedCallBack(t,i,n);break;case"JavaScript":o.onTimeRangeSelected(t,i,n)}},this.timeRangeDoubleClickPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.fa("TimeRangeDoubleClick",n,a)},this.timeRangeDoubleClickCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.ha("TimeRangeDoubleClick",a,n)},this.Rb=function(e,t,i){if(o.cb()){var n=i,a={};if(a.start=e,a.end=t,a.resource=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeDoubleClick&&(o.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(e,t,n);break;case"CallBack":o.timeRangeDoubleClickCallBack(e,t,n)}"function"==typeof o.onTimeRangeDoubleClicked&&o.onTimeRangeDoubleClicked(a)}else switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":o.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":o.onTimeRangeDoubleClick(e,t,i)}},this.eventEditPostBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.fa("EventEdit",i,n)},this.eventEditCallBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.ha("EventEdit",n,i)},this.Sb=function(e,t){if(o.cb()){var i={};if(i.e=e,i.newText=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventEdit&&(o.onEventEdit(i),i.preventDefault.value))return;switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(e,i.newText);break;case"CallBack":o.eventEditCallBack(e,i.newText);break;case"Update":e.text(i.newText),o.events.update(e)}if("function"==typeof o.onEventEdited&&(o.onEventEdited(i),i.preventDefault.value))return}else switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(e,t);break;case"CallBack":o.eventEditCallBack(e,t);break;case"JavaScript":o.onEventEdit(e,t)}},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.fa("EventSelect",i,n)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.ha("EventSelect",n,i)},this.Tb=function(e,t,i,n){var a=o.multiselect,r=a.isSelected(t);if(i||n||!r||1!==a.Ub.length)if(o.cb()){a.previous=a.events();var s={};if(s.e=t,s.selected=a.isSelected(t),s.ctrl=i,s.meta=n,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventSelect&&(o.onEventSelect(s),s.preventDefault.value))return;switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),o.eventSelectCallBack(t,l);break;case"Update":a.Xb(e,i)}"function"==typeof o.onEventSelected&&(s.change=a.isSelected(t)?"selected":"deselected",s.selected=a.isSelected(t),o.onEventSelected(s))}else{a.previous=a.events(),a.Xb(e,i);var l=a.isSelected(t)?"selected":"deselected";switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),o.eventSelectCallBack(t,l);break;case"JavaScript":o.onEventSelect(t,l)}}},this.commandCallBack=function(e,t){this.oa();var i={};i.command=e,this.ha("Command",i,t)},this.Yb=function(i){if(!r.active&&!r.using&&(clearTimeout(t.selectedTimeout),!e.Global.selecting)){if(t.editing)return void t.editing.blur();if(o.selectedCells&&"Disabled"!==o.timeRangeDoubleClickHandling)for(var n=0;n<o.selectedCells.length;n++)if(this===o.selectedCells[n])return;"Disabled"!==o.timeRangeSelectedHandling&&e.Util.mouseButton(i).left&&(t.firstMousePos=o.coords,t.firstMousePos.calendar=o,o.clearSelection(),t.topSelectedCell=this,t.bottomSelectedCell=this,t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this,e.Global.selecting={calendar:o},o.Zb())}},this.Zb=function(){this.getSelection()&&o.selectedCells&&function(){var i=t.topSelectedCell,n=t.bottomSelectedCell,a=function(){if(i.data)return i.data.x;for(var e=i.parentNode.cells,t=0;t<e.length;t++)if(e[t]===i)return t;return-1}(),r=o.timeRangeSelectingStartEndFormat;"Auto"===r&&(r="Clock24Hours"===s.timeFormat()?"H:mm":"h:mm tt");var l=o.eb[a];if(l){var c={};c.start=i.start,c.end=n.end,c.duration=new e.Duration(c.start,c.end),c.resource=l.id,c.allowed=!0,c.html=null,c.cssClass=null,c.top={},c.top.width=null,c.top.space=5,c.top.html=c.start.toString(r,s.locale()),c.top.enabled=o.timeRangeSelectingStartEndEnabled,c.bottom={},c.bottom.width=null,c.bottom.space=5,c.bottom.html=c.end.toString(r,s.locale()),c.bottom.enabled=o.timeRangeSelectingStartEndEnabled;var d=e.Global.selecting&&e.Global.selecting.args;if(!d||d.start!==c.start||d.end!==c.end||d.resource!=c.resource){o.allowEventOverlap||o.events.$b({id:null,start:c.start,end:c.end,resource:c.resource})&&(c.allowed=!1),o._b(c.start,c.end,c.resource)&&(c.allowed=!1),"function"==typeof o.onTimeRangeSelecting&&c.allowed&&o.onTimeRangeSelecting(c),e.Global.selecting&&(e.Global.selecting.args=c);var h=o.bc(i.start,l.start).boxTop-o.cc(),u=o.bc(n.end,l.start).boxBottom-o.cc()-h,f=function(){if(o.nav.activeSelection)return o.nav.activeSelection;var e=document.createElement("div");e.setAttribute("unselectable","on"),e.style.zIndex=o.L,e.style.position="absolute",e.style.left="0px",e.style.width="100%",e.ondblclick=function(e){if("Disabled"!==o.timeRangeDoubleClickHandling){clearTimeout(o.dc);var t=o.getSelection();t&&o.Rb(t.start,t.end,t.resource)}};var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.className=o.G("_shadow_inner"),e.appendChild(t),o.nav.events.rows[0].cells[a].selection.appendChild(e),o.elements.selection.push(e),o.nav.activeSelection=e,e}();f.className=o.G("_shadow"),f.firstChild.innerHTML="",f.style.top=h+"px",f.style.height=u+"px",c.html&&(f.firstChild.innerHTML=c.html),c.cssClass&&e.Util.addClass(f,c.cssClass),c.allowed||e.Util.addClass(f,o.G("_shadow_forbidden")),o.ec(f,a,c)}}}()},this.Jb=function(){o.fc(t.movingShadow),t.movingShadow=null},this.Fb=function(){o.fc(t.resizingShadow),t.resizingShadow=null},this.fc=function(t){e.de(t),e.de(o.nav.indicatorTop),e.de(o.nav.indicatorBottom)},this.ec=function(t,i,n){var a=o.nav.events.rows[0].cells,r=a[i].events,s=i===a.length-1;if(e.de(o.nav.indicatorTop),e.de(o.nav.indicatorBottom),n.top.enabled){var l=document.createElement("div");l.style.zIndex=o.L,l.style.position="absolute",l.style.top=t.offsetTop+"px",s?l.style.right="0px":l.style.left=t.offsetWidth+n.top.space+"px",n.top.width?l.style.width=n.top.width+"px":l.style.whiteSpace="nowrap",n.top.html&&(l.innerHTML=n.top.html),l.className=o.G("_shadow_top"),r.appendChild(l),o.elements.selection.push(l),o.nav.indicatorTop=l}if(n.bottom.enabled){var c=document.createElement("div");c.style.zIndex=o.L,c.style.position="absolute",c.style.top=t.offsetTop+t.offsetHeight+"px",s?c.style.right="0px":c.style.left=t.offsetWidth+n.bottom.space+"px",n.bottom.width?c.style.width=n.bottom.width+"px":c.style.whiteSpace="nowrap",n.bottom.html&&(c.innerHTML=n.bottom.html),c.className=o.G("_shadow_bottom"),r.appendChild(c),c.style.top=t.offsetTop+t.offsetHeight-c.offsetHeight+"px",o.elements.selection.push(c),o.nav.indicatorBottom=c}},this.gc=function(t){void 0!==e.Bubble&&o.cellBubble&&o.cellBubble.hideOnMouseOut()},this.hc=function(i){if(void 0!==t&&!r.active&&!r.using&&void 0!==e.Bubble&&o.cellBubble){var n=t.getColumn(this),a=o.eb[n].id,s={};s.calendar=o,s.start=this.start,s.end=this.end,s.resource=a,s.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},o.cellBubble.showCell(s)}},this.getSelection=function(){return t.topSelectedCell&&t.bottomSelectedCell?new e.Selection(t.topSelectedCell.start,t.bottomSelectedCell.end,t.topSelectedCell.resource,o):null},this.ic=function(e){},this.jc=function(e){if("Fixed"===o.columnWidthSpec||o.M){if(!o.nav.bottomLeft)return;o.nav.bottomLeft.scrollTop=o.nav.bottomRight.scrollTop,o.nav.upperRight&&(o.nav.upperRight.scrollLeft=o.nav.bottomRight.scrollLeft),o.nav.scrollLayer.scrollLeft=o.nav.bottomRight.scrollLeft}var t=o.Y();o.scrollPos=t.scrollTop,o.kc=t.clientHeight,o.nav.scrollpos.value=o.scrollPos,o.ab(),o.ba(),"Progressive"===o.dynamicEventRendering&&(clearTimeout(o.lc),0===o.scrollDelayEvents?o.nc():o.lc=setTimeout(function(){o.nc()},o.scrollDelayEvents)),"Fixed"===o.columnWidthSpec&&(clearTimeout(o.oc),0===o.scrollDelayCells?o.pc():o.oc=setTimeout(function(){o.pc()},o.scrollDelayCells))},this.ab=function(){if(this.scrollLabelsVisible&&this.qc&&this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){for(var e=this.showHours?this.hourWidth:0,t=this.nav.main.rows[0].cells[0].clientWidth,i=0;i<this.nav.scrollUp.length;i++){var n=this.nav.scrollUp[i],a=this.nav.scrollDown[i],r=Math.floor(e+i*t+t/2-5+1);r<0&&(r=0),r-=o.nav.bottomRight.scrollLeft,n&&n.style&&(n.style.left=r+"px"),a&&a.style&&(a.style.left=r+"px")}var s=this.cc();for(i=0;i<this.nav.scrollUp.length;i++){var l=this.nav.scrollUp[i],c=this.nav.scrollDown[i],d=this.qc[i].maxStart-s;l&&c&&(this.qc[i].minEnd-s<=o.scrollPos&&parseInt(l.style.left)>=o.hourWidth?(l.style.top=this.lb()+"px",l.style.display=""):l.style.display="none",d>=o.scrollPos+o.kc&&parseInt(c.style.left)>=o.hourWidth?(c.style.top=this.lb()+this.kc-10+"px",c.style.display=""):c.style.display="none")}}},this.rc=function(t){var i=t.parentNode,n=0,a=t.offsetTop,o=t.parentNode.offsetWidth,r=t.offsetHeight;t.event.allday()&&(n=t.offsetLeft,o=t.offsetWidth);var s=document.createElement("textarea");s.style.boxSizing="border-box",s.style.position="absolute",s.style.width=o+"px",s.style.height=r+"px";var l=e.gs(t,"fontFamily");l||(l=e.gs(t,"font-family")),s.style.fontFamily=l;var c=e.gs(t,"fontSize");return c||(c=e.gs(t,"font-size")),s.style.fontSize=c,s.style.left=n+"px",s.style.top=a+"px",s.style.border="1px solid black",s.style.padding="0px",s.style.marginTop="0px",s.style.backgroundColor="white",s.value=(t.event.text()||"").trim(),s.event=t.event,i.appendChild(s),s},this.sb=function(e,t,i,n){o.Tb(e,t,i,n)},this.multiselect={},this.multiselect.Ia=[],this.multiselect.Ub=[],this.multiselect.sc=[],this.multiselect.tc=[],this.multiselect.uc=function(){return JSON.stringify(o.multiselect.events())},this.multiselect.events=function(){var e=o.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.Ub.length;i++)t.push(e.Ub[i]);return t},this.multiselect.vc=function(){o.nav.select.value=o.multiselect.uc()},this.multiselect.Xb=function(e,t){var i=o.multiselect;if(i.isSelected(e.event))if(o.allowMultiSelect)if(t)i.remove(e.event,!0);else{var n=i.Ub.length;i.clear(!0),n>1&&i.add(e.event,!0)}else i.clear(!0);else o.allowMultiSelect&&t||i.clear(!0),i.add(e.event,!0);i.redraw(),i.vc()},this.multiselect.wc=function(e){var t=o.multiselect;return t.xc(e,t.Ia)},this.multiselect.yc=function(){for(var e=o.multiselect,t=[],i=0;i<e.Ub.length;i++)t.push(e.Ub[i].value());alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=o.multiselect;-1===i.zc(e)&&i.Ub.push(e),i.vc(),t||i.redraw()},this.multiselect.remove=function(e,t){var i=o.multiselect,n=i.zc(e);-1!==n&&i.Ub.splice(n,1),i.vc(),t||i.redraw()},this.multiselect.clear=function(e){var t=o.multiselect;t.Ub=[],t.vc(),e||t.redraw()},this.multiselect.redraw=function(){for(var e=o.multiselect,t=0;t<o.elements.events.length;t++){var i=o.elements.events[t];e.isSelected(i.event)?e.Ac(i):e.Bc(i)}},this.multiselect.Ac=function(t){var i=o.multiselect,n=o.G("_selected"),a=i.Cc(t);e.Util.addClass(a,n),i.sc.push(t)},this.multiselect.Cc=function(e){return e},this.multiselect.Dc=function(){for(var e=o.multiselect,t=0;t<e.sc.length;t++)e.Bc(e.sc[t],!0);e.sc=[]},this.multiselect.Bc=function(t,i){var n=o.multiselect,a=o.G("_selected"),r=n.Cc(t);if(e.Util.removeClass(r,a),!i){var s=e.indexOf(n.sc,t);-1!==s&&n.sc.splice(s,1)}},this.multiselect.isSelected=function(e){return o.multiselect.xc(e,o.multiselect.Ub)},this.multiselect.zc=function(e){for(var t=e.data,i=0;i<o.multiselect.Ub.length;i++)if(o.Ec(o.multiselect.Ub[i].data,t))return i;return-1},this.multiselect.xc=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++)if(o.Ec(e,t[i]))return!0;return!1},this.rb=function(i){if(t.editing)t.editing.blur();else{var n=this.rc(i);t.editing=n,e.re(n,e.touch.start,function(e){e.stopPropagation()}),n.onblur=function(){if(i.event){var a=i.event.text(),r=n.value;t.editing=null,n.onblur=null,e.de(n),a!==r&&(i.style.display="none",o.Sb(i.event,r))}},n.onkeypress=function(e){if(13===(window.event?event.keyCode:e.keyCode))return this.onblur(),e.preventDefault(),!1},n.onkeyup=function(e){return 27===(window.event?event.keyCode:e.keyCode)&&(n.onblur=null,n.parentNode&&n.parentNode.removeChild(n),t.editing=!1),!0},n.select(),n.focus()}},this.Fc=function(){return!("Resources"===o.viewType||o.Ja()&&o.I())},this.Ja=function(){return e.isArray(o.columns)?o.columns:o.columns.list},this.columns={},this.columns.list=[],this.columns.Gc=!1,this.columns.filter=function(e){o.Hc.params=e,o.S&&o.Ic()},this.columns.find=function(t,i){var n="Resources"===o.viewType;t=new e.Date(t);var a=o.eb.find(function(e){var a=!n||e.id===i,o=e.start.addDays(1);return!!(a&&e.start<=t&&t<o)});return a?o.vb(a,o):null},this.columns.load=function(t,i,n){if(!t)throw new e.Exception("columns.load(): 'url' parameter required");var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(t){var n,r=t.request;try{n=JSON.parse(r.responseText)}catch(t){var s={};return s.exception=t,void a(s)}if(e.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof i&&i(l),l.preventDefault.value)return;o.columns.list=n,o.S&&o.update()}};o.columnsLoadMethod&&"POST"===o.columnsLoadMethod.toUpperCase()?e.ajax({method:"POST",url:t,success:r,error:a}):e.ajax({method:"GET",url:t,success:r,error:a})},this.Ka=function(){if(o.Fc()){var e=this.Jc();this.eb=this.Kc(e)}else this.Da=this.Kc(this.Ja()||[]),this.eb=this.Lc(this.headerLevels,!0)},this.Mc=function(){var e=this.startDate.getDatePart(),t=this.days;switch(this.viewType){case"Day":t=1;break;case"Week":t=7,e=e.firstDayOfWeek(s.weekStarts());break;case"WorkWeek":for(t=5,e=e.firstDayOfWeek(s.weekStarts());1!==e.dayOfWeek();)e=e.addDays(1)}var i=e.addDays(t),n={};return n.start=e,n.end=i,n.days=t,n},this.Jc=function(){for(var e=[],t=this.Mc(),i=t.start,n=t.days,a=0;a<n;a++){var r={};r.start=i.addDays(a);var l=s.locale().datePattern;o.headerDateFormat&&(l=o.headerDateFormat),r.name=r.start.toString(l,s.locale()),r.html=r.name,e.push(r)}return e},this.Hc={},this.Nc=function(t,i){var n={};if(n.id=t.id,n.start=new e.Date(t.start||o.startDate).getDatePart(),n.name=t.name,n.html=t.html||t.name,n.toolTip=t.toolTip,n.backColor=t.backColor,n.areas=t.areas,n.parent=i,"function"==typeof o.onColumnFilter&&o.Hc.params)if(t.children&&0!==t.children.length)n.hidden=!0;else{i=n.parent;var a={visible:!0};a.column={id:t.id,name:t.name,start:t.start,data:t},a.filter=o.Hc.params,o.onColumnFilter(a),a.visible?i&&i.Oc():n.hidden=!0}return n.Oc=function(){n.hidden=!1,n.parent&&n.parent.Oc()},n.getChildren=function(e,t){var i=[];if(e<=1)return this.hidden||i.push(this),i;if(!this.children||0===this.children.length)return t?this.hidden||i.push(this):i.push("empty"),i;for(var n=0;n<this.children.length;n++)for(var a=this.children[n].getChildren(e-1,t),o=0;o<a.length;o++)i.push(a[o]);return i},n.getChildrenCount=function(e){var t=0;if(!this.children||this.children.length<=0||e<=1)return this.hidden?0:1;for(var i=0;i<this.children.length;i++)t+=this.children[i].getChildrenCount(e-1);return t},n.putIntoBlock=function(e){for(var t=0;t<this.blocks.length;t++)if((i=this.blocks[t]).overlapsWith(e.part.top,e.part.height))return i.events.push(e),i.min=Math.min(i.min,e.part.top),i.max=Math.max(i.max,e.part.top+e.part.height),t;var i;return(i=[]).lines=[],i.events=[],i.overlapsWith=function(e,t){return!(e+t-1<this.min||e>this.max-1)},i.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++)if((i=this.lines[t]).isFree(e.part.top,e.part.height))return i.push(e),t;var i;return(i=[]).isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},i.events.push(e),i.min=e.part.top,i.max=e.part.top+e.part.height,this.blocks.push(i),this.blocks.length-1},n.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++)if((i=this.lines[t]).isFree(e.part.top,e.part.height))return i.push(e),t;var i;return(i=[]).isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.top||e>o.part.top+o.part.height-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},n.visibleStart=function(){return n.start.addHours(o.kb(!0))},n.visibleEnd=function(){var e=o.gb(!0);return n.visibleStart().addTime(e)},t.children&&(n.children=this.Kc(t.children,n)),n},this.Kc=function(t,i){var n=e.list();return e.list(t).forEach(function(e){var t=o.Nc(e,i);n.push(t)}),n},this.Lc=function(t,i){for(var n=this.Fc()?this.eb:this.Da,a=e.list(),o=0;o<n.length;o++)for(var r=n[o].getChildren(t,i),s=0;s<r.length;s++)a.push(r[s]);return a},this.$a=function(){if(this.showAllDayEvents){var t=this.nav.header;if(t){t.style.display="none";for(var i=this.eb.length,n=0;n<this.Pc.lines.length;n++)for(var a=this.Pc.lines[n],r=0;r<a.length;r++){var l=a[r],c=l.cache||l.data,d=document.createElement("div");d.event=l,d.setAttribute("unselectable","on"),d.style.position="absolute",o.rtl?d.style.right=100*l.part.colStart/i+"%":d.style.left=100*l.part.colStart/i+"%",d.style.width=100*l.part.colWidth/i+"%",d.style.height=s.allDayEventHeight()+"px",d.className=this.G("_alldayevent"),d.style.top=this.headerLevels*s.headerHeight()+n*s.allDayEventHeight()+"px",c.cssClass&&e.Util.addClass(d,c.cssClass),d.style.textAlign="left",d.style.lineHeight="1.2",l.client.clickEnabled()&&(d.onclick=this.pb),l.client.doubleClickEnabled()&&(d.ondblclick=this.tb),d.style.cursor=l.client.clickEnabled()||l.client.doubleClickEnabled()?"pointer":"default",e.re(d,"contextmenu",this.ub),d.onmousemove=function(t){var i=this,n=i.event,a=n.cache||n.data;if(!i.active){var r=[];n.client.deleteEnabled()&&r.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:o.G("_event_delete"),js:function(e){o.zb(e)}});var s=a.areas;s&&s.length>0&&(r=r.concat(s)),e.Areas.showAreas(i,n,null,r),e.Util.addClass(i,o.G("_alldayevent_hover"))}void 0!==e.Bubble&&o.bubble&&"Disabled"!==o.eventHoverHandling&&o.bubble.showEvent(this.event)},d.onmouseout=function(t){e.Util.removeClass(this,o.G("_alldayevent_hover")),e.Areas.hideAreas(this,t),o.bubble&&o.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&d.setAttribute("title",l.client.toolTip());var h=l.start().getTime()===l.part.start.getTime(),u=l.end().getTime()===l.part.end.getTime(),f=c.backColor,p=document.createElement("div");if(p.setAttribute("unselectable","on"),p.className=this.G("_alldayevent_inner"),f&&(p.style.background=f),c.fontColor&&(p.style.color=c.fontColor),p.style.borderColor="darker"===c.borderColor&&c.backColor?e.ColorUtil.darker(c.backColor,2):c.borderColor,o.rtl?(h||e.Util.addClass(d,this.G("_alldayevent_continueright")),u||e.Util.addClass(d,this.G("_alldayevent_continueleft"))):(h||e.Util.addClass(d,this.G("_alldayevent_continueleft")),u||e.Util.addClass(d,this.G("_alldayevent_continueright"))),d.appendChild(p),e.isArray(c.areas)&&c.areas.filter(function(t){return e.Areas.isVisible(t)}).forEach(function(t){var i=e.Areas.createArea(d,l,t);d.appendChild(i)}),o.cb()){if("function"==typeof o.onAfterEventRender){var v={};v.e=d.event,v.div=d,o.onAfterEventRender(v)}}else o.afterEventRender&&o.afterEventRender(d.event,d);!function(){var t={};if(t.control=o,t.e=l,t.element=null,d.domArgs=t,"function"==typeof o.onBeforeEventDomAdd&&o.onBeforeEventDomAdd(t),t.element){var i=p;if(i)if(t.Qc=i,e.Util.isReactComponent(t.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.render(t.element,i)}else i.appendChild(t.element)}else p.innerHTML=l.client.innerHTML()}(),this.nav.allday.appendChild(d),this.elements.events.push(d)}t.style.display=""}}},this.pa=function(e){if(o.multiselect.Dc(),this.elements.events)for(var t=0;t<this.elements.events.length;t++){var i=this.elements.events[t],n=i.event;n&&e&&!n.allday()||o.Rc(i)}this.elements.events=[]},this.Rc=function(t){var i=t.event,n=t.domArgs;if(t.domArgs=null,n&&"function"==typeof o.onBeforeEventDomRemove&&o.onBeforeEventDomRemove(n),n&&"function"==typeof o.onBeforeEventDomAdd&&o.wa.reactDOM){var a=n&&n.Qc;if(a&&e.Util.isReactComponent(n.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.unmountComponentAtNode(a)}}if(i&&(i.div=null,i.root=null,i.rendered=!1),t.onclick=null,t.onclickSave=null,t.ondblclick=null,t.oncontextmenu=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.firstChild&&t.firstChild.firstChild&&t.firstChild.firstChild.tagName&&"IMG"===t.firstChild.firstChild.tagName.toUpperCase()){var r=t.firstChild.firstChild;r.onmousedown=null,r.onmousemove=null,r.onclick=null}t.helper=null,t.event=null,e.de(t)},this.Sc=function(e){var t=o.aa(e.part.dayIndex),i=this.X(),n=i.pixels.left,a=i.pixels.right,r=i.pixels.top,s=i.pixels.bottom,l=e.part.left+t.left,c=l+e.part.width/100*t.width,d=e.part.top-this.cc();return!(a<=l||n>=c||s<=d||r>=d+e.part.height)},this.Tc=function(t){var i=this.nav.events,n=t.cache||t.data;if(!t.rendered){var a=o.multiselect.wc(t),r=o.Sc(t);if(a||"Progressive"!==o.dynamicEventRendering||"Fixed"!==o.columnWidthSpec||r){var s=document.createElement("div");s.setAttribute("unselectable","on"),s.style.MozUserSelect="none",s.style.KhtmlUserSelect="none",s.style.WebkitUserSelect="none",s.style.position="absolute",s.className=this.G("_event"),s.style.left=t.part.left+"%",s.style.top=t.part.top-this.cc()+"px",s.style.width=t.part.width+"%",s.style.height=Math.max(t.part.height,2)+"px",s.style.overflow="hidden",s.isFirst=t.part.start.getTime()===t.start().getTime(),s.isLast=t.part.end.getTime()===t.end().getTime(),t.client.clickEnabled()&&(s.onclick=this.pb),t.client.doubleClickEnabled()&&(s.ondblclick=this.tb),e.re(s,"contextmenu",this.ub),s.onmousemove=this.Uc,s.onmouseout=this.Vc,s.onmousedown=this.Wc,e.re(s,e.touch.start,this.Xc.onEventTouchStart),e.re(s,e.touch.move,this.Xc.onEventTouchMove),e.re(s,e.touch.end,this.Xc.onEventTouchEnd),n.cssClass&&e.Util.addClass(s,n.cssClass),this.showToolTip&&!this.bubble&&s.setAttribute("title",t.client.toolTip());var l=document.createElement("div");if(l.setAttribute("unselectable","on"),l.className=o.G("_event_inner"),n.fontColor&&(l.style.color=n.fontColor),n.backColor&&(l.style.background=n.backColor),n.borderColor&&(l.style.borderColor="darker"===n.borderColor&&n.backColor?e.ColorUtil.darker(n.backColor,2):n.borderColor),n.backgroundImage&&(l.style.backgroundImage="url("+n.backgroundImage+")",n.backgroundRepeat&&(l.style.backgroundRepeat=n.backgroundRepeat)),s.appendChild(l),t.client.barVisible()){var c=t.part.height-2,d=100*t.part.barTop/c,h=Math.ceil(100*t.part.barHeight/c);"PercentComplete"===this.durationBarMode&&(d=0,h=n.complete);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.G("_event_bar"),u.style.position="absolute",n.barBackColor&&(u.style.backgroundColor=n.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=this.G("_event_bar_inner"),f.style.top=d+"%",f.style.height=0<h&&h<=1?"1px":h+"%",n.barColor&&(f.style.backgroundColor=n.barColor),u.appendChild(f),s.appendChild(u)}var p=n.areas?e.Areas.copy(n.areas):[],v=o.eb[t.part.dayIndex];if(p.forEach(function(i){i.start&&(i.top=o.bc(new e.Date(i.start),v.start).top-t.part.top-o.cc()),i.end&&(i.bottom=t.part.top+t.part.height-o.bc(new e.Date(i.end),v.start).top-o.cc())}),t.client.deleteEnabled()&&p.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:o.G("_event_delete"),js:function(e){o.zb(e)}}),e.Areas.attach(s,t,{areas:p}),function(){var i={};if(i.control=o,i.e=t,i.element=null,s.domArgs=i,"function"==typeof o.onBeforeEventDomAdd&&o.onBeforeEventDomAdd(i),i.element){var n=l;if(n)if(i.Qc=n,e.Util.isReactComponent(i.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.render(i.element,n)}else n.appendChild(i.element)}else l.innerHTML=t.client.innerHTML()}(),i.rows[0].cells[t.part.dayIndex]){if(i.rows[0].cells[t.part.dayIndex].events.appendChild(s),o.Yc(s),s.event=t,o.multiselect.wc(t)&&o.multiselect.add(s.event,!0),t.rendered=!0,o.cb()){if("function"==typeof o.onAfterEventRender){var m={};m.e=s.event,m.div=s,o.onAfterEventRender(m)}}else o.afterEventRender&&o.afterEventRender(s.event,s);o.elements.events.push(s)}}}},this.Yc=function(e){for(var t=e&&e.childNodes?e.childNodes.length:0,i=0;i<t;i++)try{var n=e.childNodes[i];1===n.nodeType&&(n.setAttribute("unselectable","on"),this.Yc(n))}catch(e){}},this.Za=function(){for(var e=new Date,t=0;t<this.eb.length;t++){var i=this.eb[t];if(i.blocks)for(var n=0;n<i.blocks.length;n++)for(var a=i.blocks[n],o=0;o<a.lines.length;o++)for(var r=a.lines[o],s=0;s<r.length;s++){var l=r[s];l.part.width=100/a.lines.length,l.part.left=l.part.width*o,"Cascade"===this.eventArrangement&&(o===a.lines.length-1||(l.part.width=1.5*l.part.width)),"Full"===this.eventArrangement&&(l.part.left=l.part.left/2,l.part.width=100-l.part.left),l.allday()||this.Tc(l)}}this.multiselect.redraw(),(new Date).getTime(),e.getTime()},this.nc=function(){o.elements.events.forEach(function(e){e.event&&!o.Sc(e.event)&&o.Rc(e)}),o.P.Zc.forEach(function(e){o.Tc(e)}),o.elements.events=o.elements.events.filter(function(e){return!!e.event})},this.pc=function(){for(var e=o.X(),t=e.xStart;t<=e.xEnd;t++)for(var i=e.yStart;i<=e.yEnd;i++)o.$c(t,i);o._c()},o._c=function(){for(var e=o.X(),t=this.ob(),i=o.eb.length,n=0;n<i;n++){var a=!0;e.xStart<=n&&n<=e.xEnd&&(a=!1);for(var r=0;r<t;r++){var s=!0;e.yStart<=r&&r<=e.yEnd&&(s=!1);var l=o.elements.cells[n+"_"+r];l&&(s||a)&&(l.remove(),o.elements.cells[n+"_"+r]=null)}}},this.ad=function(){this.multiselect.Ub=[];for(var e=0;e<this.eb.length;e++)for(var t=this.eb[e],i=0;i<t.lines.length;i++)for(var n=t.lines[i],a=0;a<n.length;a++){var o=n[a];o.part.width=100/t.lines.length,o.part.left=o.Width*i,o.allday()||this.Tc(o)}},this.G=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.bd=function(){switch(o.U){case"aspnet":if(!this.ma())throw new e.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new e.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new e.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.Ya=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.cd=function(){var e=this.lb()+this.dd();return o.debug.message("Getting totalHeight, headerHeight: "+this.lb()+" scrollable: "+this.dd()),e<0?0:e},this.va=function(){o.Aa()},this.ed=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.cd()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.top.addEventListener("mouseleave",o.va),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.dd()+"px",e.Util.addClass(this.nav.top,this.G("_main")),o.rtl&&e.Util.addClass(this.nav.top,this.G("_direction_rtl")),this.nav.scroll.style.position="relative",this.showHeader){var t=this.fd();this.nav.top.appendChild(t)}this.nav.scroll.style.zoom=1,this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.lb()+"px",this.nav.scroll.className=o.G("_scroll");var i=this.gd();this.nav.scrollable=i.firstChild,this.nav.scroll.appendChild(i),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=o.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=o.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.className=o.G("_loading"),this.nav.loading.innerHTML=o.ca(this.loadingLabelText,this.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.hd=function(){for(var e="Fixed"===this.columnWidthSpec,t=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],i=this.nav.events.rows[0],n=0;n<o.eb.length;n++){var a=t&&t.cells[n],r=i.cells[n],s=a&&a.firstChild,l=o.eb[n];if(e){var c=l.width?l.width:o.columnWidth;s&&(s.style.width=c+"px"),r&&(r.style.width=c+"px")}else o.N||(s&&(s.style.width=null),r&&(r.style.width=null))}},this.mb=function(){return this.M?o.nav.bottomRight:o.nav.scroll},this.Wa=function(){var t="Fixed"===this.columnWidthSpec;if(!t){var i=o.mb();"Fixed"===this.heightSpec?i.style.overflowY="scroll":i.style.overflow="BusinessHours"===this.heightSpec&&this.fb()<=this.businessEndsHour-this.businessBeginsHour?"hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?"auto":"hidden"}if(t){var n=0,a=this.eb.length*this.columnWidth;a>o.Y().clientWidth&&(n=e.sw(o.nav.bottomRight)),o.nav.headerParent&&(o.nav.headerParent.style.width=a+n+"px"),o.nav.main.style.width=a+"px",o.nav.events.style.width=a+"px",o.nav.crosshair.style.width=a+"px"}else o.nav.headerParent&&(o.nav.headerParent.style.width="100%"),o.nav.main.style.width="100%",o.nav.events.style.width="100%",o.nav.crosshair.style.width="100%";this.hd()},this.Ta=function(){this.O?this.qa():e.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.jd(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.qa=function(){if(this.nav.hourTable){o.elements.timeHeaders.forEach(function(t){var i=t.domArgs;if(t.domArgs=null,"function"==typeof o.onBeforeTimeHeaderDomRemove&&o.onBeforeTimeHeaderDomRemove(i),"function"==typeof o.onBeforeTimeHeaderDomAdd&&o.wa.reactDOM){var n=i&&i.Qc;if(n&&e.Util.isReactComponent(i.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.unmountComponentAtNode(n)}}});for(var t=0;t<this.nav.hourTable.rows.length;t++){var i=this.nav.hourTable.rows[t].cells[0].firstChild;i.data=null,i.onmousemove=null,i.onmouseout=null}o.elements.timeHeaders=[]}},this.gd=function(){var t=document.createElement("div");t.style.zoom=1,t.style.position="relative",t.onmousemove=this.kd,t.oncontextmenu=this.ld,e.re(t,e.touch.start,this.Xc.onMainTouchStart),e.re(t,e.touch.move,this.Xc.onMainTouchMove),e.re(t,e.touch.end,this.Xc.onMainTouchEnd),e.re(t,"contextmenu",function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}),navigator.msPointerEnabled&&(t.style.msTouchAction="none",t.style.touchAction="none"),t.daypilotMainD=!0,t.calendar=this;var i=null,n=null;if(this.showHours){var a=document.createElement("div");a.style.cssFloat="left",o.rtl&&(a.style.cssFloat="right"),a.style.width=this.hourWidth+"px",a.style.height=this.dd()+"px",a.style.overflow="hidden",a.style.position="relative",t.appendChild(a),i=a;var r=o.Z()+30;(n=document.createElement("div")).style.height=r+"px",a.appendChild(n)}var s=document.createElement("div");s.style.height=this.dd()+"px",this.showHours&&(o.rtl?s.style.marginRight=this.hourWidth+"px":s.style.marginLeft=this.hourWidth+"px"),s.style.position="relative",s.style.overflow="auto",t.appendChild(s),n&&(this.nav.hourTable=this.jd(),n.appendChild(this.nav.hourTable));var l=document.createElement("div");l.style.height="0px",l.style.position="relative",l.appendChild(this.md());var c=document.createElement("div");return c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="0px",l.appendChild(c),this.nav.crosshair=c,l.appendChild(this.nd()),s.appendChild(l),this.nav.grid=l,this.nav.zoom=t,this.nav.bottomLeft=i,this.nav.bottomRight=s,this.nav.hoursPlaceholder=n,t},this.md=function(){if(o.N){var e=document.createElement("div");return o.nav.main=e,e}var t=document.createElement("table");return t.cellPadding="0",t.cellSpacing="0",t.border="0","Fixed"===this.columnWidthSpec||(t.style.width="100%"),t.style.border="0px none",t.style.margin="0px",t.style.tableLayout="fixed",this.nav.main=t,t},this.od=function(){if("Fixed"===this.columnWidthSpec){for(var e=0,t=0;t<o.eb.length;t++){var i=o.eb[t];e+=i.width?i.width:o.columnWidth}return e+"px"}return"100%"},this.nd=function(){if(o.N){var e=document.createElement("div");return e.style.userSelect="none",e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.height="0px",o.nav.events=e,e}var t=document.createElement("table");t.style.position="absolute",t.style.top="0px",t.cellPadding="0",t.cellSpacing="0",t.border="0",t.style.width=o.od(),t.style.border="0px none",t.style.margin="0px",t.style.tableLayout="fixed",this.nav.events=t;for(var i=this.eb.length,n=t.insertRow(-1),a=0;a<i;a++){var r=n.insertCell(-1);r.style.padding="0px",r.style.border="0px none",r.style.height="0px",r.style.overflow="visible",o.rtl||(r.style.textAlign="left"),o.pd(r)}return t},this.jd=function(){var e=document.createElement("table");e.cellSpacing="0",e.cellPadding="0",e.border="0",e.style.margin="0px",e.style.border="0px none",e.style.width=this.hourWidth+"px",e.oncontextmenu=function(){return!1},e.onmousemove=function(){o.Ba()};for(var t=o.qd(),i=0;i<t;i++)this.rd(e,i);return e},this.qd=function(){return this.gb()/(60*this.timeHeaderCellDuration*1e3)},this.sd=function(){return 60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration)},this.td=function(){return(this.kb()-this.kb(!0))*(60/this.cellDuration)},this.ud=function(){return this.kb()-this.kb(!0)},this.cc=function(){return this.td()*this.cellHeight},this.rd=function(t,i){var n=o.sd(),a=t.insertRow(-1);a.style.height=n+"px";var r=a.insertCell(-1);r.valign="bottom",r.setAttribute("unselectable","on"),r.style.padding="0px",r.style.border="0px none";var s=document.createElement("div");s.className=this.G("_rowheader"),s.style.position="relative",s.style.width=this.hourWidth+"px",s.style.height=n+"px",s.style.overflow="hidden",s.setAttribute("unselectable","on");var l=document.createElement("div");l.className=this.G("_rowheader_inner"),l.setAttribute("unselectable","on");var c=o.vd(i),d=c.html,h=c.data;h&&(s.data=h,s.onmousemove=o.xd,s.onmouseout=o.yd);var u=null,f={};if(f.header=h,"function"==typeof o.onBeforeTimeHeaderDomAdd&&(f.element=null,o.onBeforeTimeHeaderDomAdd(f),u=f.element),s.domArgs=f,u){var p=l;if(f.Qc=p,e.Util.isReactComponent(u)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.render(u,p)}else p.appendChild(u)}else l.innerHTML=d;s.appendChild(l),o.elements.timeHeaders.push(s),r.appendChild(s)},this.vd=function(t){var i,n;if(this.hours){var a=t+this.ud();i=(n=this.hours[a]).html}var r,s=this.startDate.addMinutes(this.timeHeaderCellDuration*t+60*this.kb()),l=s.getHours(),c=l<12;if(r="Clock12Hours"===this.ea.timeFormat()?c?"AM":"PM":"00",!i){var d=document.createElement("div");d.setAttribute("unselectable","on"),"Clock12Hours"===this.ea.timeFormat()&&0==(l%=12)&&(l=12),60!==this.timeHeaderCellDuration&&(l+=":"+s.toString("mm")),d.innerHTML=l;var h=document.createElement("span");h.setAttribute("unselectable","on"),h.className=this.G("_rowheader_minutes"),h.innerHTML=r,d.appendChild(h),i=d.outerHTML}var u={header:{}};u.header.hours=l,u.header.minutes=s.getMinutes(),u.header.start=s.toString("HH:mm"),u.header.html=i,u.header.areas=n?n.areas:null,u.header.time=new e.Duration(s.getTimePart()),"function"==typeof o.onBeforeTimeHeaderRender&&(o.onBeforeTimeHeaderRender(u),null!==u.header.html&&(i=u.header.html)),n=u.header;var f={};return f.start=s,f.hour=l,f.html=i,f.data=n,f.sup=r,f},this.xd=function(t){o.Ba();var i=this;i.active||e.Areas.showAreas(i,i.data)},this.yd=function(t){e.Areas.hideAreas(this,t)},this.dd=function(){switch(this.heightSpec){case"Fixed":case"Parent100Pct":return this.height;case"Full":return this.Z();case"BusinessHours":case"BusinessHoursNoScroll":return this.hb()*this.cellHeight*60/this.cellDuration;default:throw new e.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.")}},this.Z=function(){return o.gb()*this.cellHeight/(6e4*o.cellDuration)},this.lb=function(){if(!this.showHeader)return 0;var e=this.headerLevels*s.headerHeight();return this.showAllDayEvents&&s.allDayHeaderHeight()?e+s.allDayHeaderHeight():e},this.Pa=function(){if(this.headerHeightAutoFit){for(var e=0,t=0;t<this.nav.header.rows.length;t++)for(var i=this.nav.header.rows[t],n=0;n<i.cells.length;n++){var a=i.cells[n].firstChild,o=a.firstChild,r=a.style.height;a.style.height="auto",o.style.position="static";var s=a.offsetHeight;a.style.height=r,o.style.position="",e=Math.max(e,s)}e>this.headerHeight&&(this.P.headerHeight=e,this.Na(),this.Oa())}},this.zd=function(){return e.sw(this.M?o.nav.bottomRight:o.nav.scroll)>0},this.fd=function(){var e=document.createElement("div");"Fixed"===this.columnWidthSpec||(e.style.overflow="auto"),e.style.position="absolute",e.style.left="0px",e.style.right="0px";var t=document.createElement("div");t.style.position="relative",t.style.zoom="1";var i=null;if("Fixed"===this.columnWidthSpec||this.M){var n=document.createElement("div");if(n.style.cssFloat="left",o.rtl&&(n.style.cssFloat="right"),n.style.width=this.hourWidth+"px",this.showHours){var a=this.Ad();this.nav.corner=a,n.appendChild(a),t.appendChild(n),this.nav.upperLeft=n}var r=document.createElement("div");this.showHours&&(o.rtl?r.style.marginRight=this.hourWidth+"px":r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="hidden",r.style.height=this.lb()+"px",t.appendChild(r),this.nav.upperRight=r,(i=document.createElement("div")).style.position="relative",r.appendChild(i)}else{var s=document.createElement("table");s.cellPadding="0",s.cellSpacing="0",s.border="0",s.style.margin="0px",s.style.width="100%",s.style.borderCollapse="separate",s.style.border="0px none";var l=s.insertRow(-1);if(this.nav.fullHeader=s,this.showHours){var c=l.insertCell(-1);c.style.padding="0px",c.style.border="0px none",a=this.Ad(),c.appendChild(a),this.nav.corner=a}(c=l.insertCell(-1)).style.width="100%",c.valign="top",c.style.position="relative",c.style.padding="0px",c.style.border="0px none",(i=document.createElement("div")).style.position="relative",i.style.height=this.lb()+"px",i.style.overflow="hidden",c.appendChild(i),this.nav.mid=i,t.appendChild(s)}return this.nav.headerParent=i,this.nav.headerParent.onmousemove=function(e){e.insideMainD=!0},this.Bd(),this.zd()&&!("Fixed"===this.columnWidthSpec)&&this.Cd(),e.appendChild(t),e},this.Bd=function(){this.nav.unifiedCornerRight=null,o.N?(this.nav.header=document.createElement("div"),this.nav.header.style.position="relative"):(this.nav.header=document.createElement("table"),this.nav.header.style.margin="0px",this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0","Fixed"===this.columnWidthSpec||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1}),this.nav.header.setAttribute("dp-id","header"),this.nav.headerParent.appendChild(this.nav.header),this.nav.header.onmousemove=function(){o.Ba()},this.nav.allday&&e.de(this.nav.allday);var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.height="0px",t.setAttribute("dp-id","allday"),"Fixed"===this.columnWidthSpec?t.style.width=this.eb.length*this.columnWidth+"px":(t.style.left="0px",t.style.right="0px"),this.nav.allday=t,this.nav.headerParent.appendChild(t)},this.Cd=function(){if(this.nav.fullHeader){var e=this.nav.fullHeader.rows[0].insertCell(-1);e.style.padding="0px",e.style.verticalAlign="top",e.setAttribute("unselectable","on");var t=document.createElement("div");t.setAttribute("unselectable","on"),t.className=this.G("_cornerright"),t.style.overflow="hidden",t.style.position="relative",t.style.width="16px",t.style.height=this.lb()+"px";var i=document.createElement("div");i.className=this.G("_cornerright_inner"),t.appendChild(i),e.appendChild(t),this.nav.cornerRight=t}},this.Ad=function(){var t=document.createElement("div");t.style.position="relative",t.className=this.G("_corner"),t.style.width=this.hourWidth+"px",t.style.height=this.lb()+"px",t.style.overflow="hidden",t.oncontextmenu=function(){return!1};var i=document.createElement("div");i.className=this.G("_corner_inner"),i.setAttribute("unselectable","on"),t.appendChild(i);var n=document.createElement("div");return n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="1px",n.style.backgroundColor="#FF6600",n.style.color="white",n.innerHTML="DEMO",n.setAttribute("unselectable","on"),e.Util.isNullOrUndefined(void 0)&&t.appendChild(n),t},this.ta=function(){if(o.nav.corner&&o.nav.corner.firstChild){var t=o.nav.corner.firstChild,i=t.domArgs;if(t.domArgs=null,i&&("function"==typeof o.onBeforeCornerDomRemove&&o.onBeforeCornerDomRemove(i),"function"==typeof o.onBeforeCornerDomAdd&&o.wa.reactDOM&&t)&&e.Util.isReactComponent(i.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.unmountComponentAtNode(t)}}},this.ra=function(){var t=this.nav.main;t.root=null,t.onmouseup=null;for(var i=0;i<t.rows.length;i++)for(var n=t.rows[i],a=0;a<n.cells.length;a++){var o=n.cells[a];o.root=null,o.onmousedown=null,o.onmousemove=null,o.onmouseout=null,o.onmouseup=null,o.onclick=null,o.ondblclick=null,o.oncontextmenu=null}this.O||e.pu(t)},this.Qa=function(){for(var e=0;this.nav.scrollUp&&e<this.nav.scrollUp.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);for(e=0;this.nav.scrollDown&&e<this.nav.scrollDown.length;e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.pd=function(e){var t=document.createElement("div");t.style.marginRight=o.columnMarginRight+"px",t.style.position="relative",t.style.height="1px",t.style.marginTop="-1px",e.events=t;var i=document.createElement("div");i.style.position="relative",i.style.height="1px",i.style.marginTop="-1px",e.separators=i;var n=document.createElement("div");n.style.position="relative",n.style.height="1px",n.style.marginTop="-1px",e.selection=n,e.appendChild(i),e.appendChild(n),e.appendChild(t)},this.Sa=function(){o.N?o.Dd():o.Ed()},this.Fd=function(){if(this.scrollLabelsVisible)for(var e=this.eb,t=this.showHours?this.hourWidth:0,i=(this.nav.scroll.clientWidth-t)/e.length,n=0;n<e.length;n++){var a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left=t+2+n*i+i/2+"px",a.style.display="none",(o=document.createElement("div")).style.height="10px",o.style.width="10px",o.className=this.G("_scroll_up"),a.appendChild(o),this.nav.scrollLayer.appendChild(a),this.nav.scrollUp.push(a);var o,r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left=t+2+n*i+i/2+"px",r.style.display="none",(o=document.createElement("div")).style.height="10px",o.style.width="10px",o.className=this.G("_scroll_down"),r.appendChild(o),this.nav.scrollLayer.appendChild(r),this.nav.scrollDown.push(r)}},this.Gd=function(){var e=this.nav.events;e.innerHTML="",e.rows=[{cells:[]}],o._().forEach(function(t,i){var n=document.createElement("div");n.style.height="1px",n.style.overflow="visible",n.style.position="absolute",n.style.left=t.left+t.unit,n.style.right=t.left+t.unit,n.style.width=t.width+t.unit,o.pd(n),e.appendChild(n),e.rows[0].cells.push(n)})},this._=function(){var t=o.eb,i="Fixed"===this.columnWidthSpec,n=0;return e.list.for(t.length,function(a){var r={},s=0,l="";return i?(l="px",s=t[a].width?t[a].width:o.columnWidth):(l="%",s=function(t){return e.browser.ie||e.browser.edge?Math.floor(100*t)/100:t}(100/t.length)),r.left=n,r.width=s,r.unit=l,n+=s,r})},this.Dd=function(){var t=this.nav.main,i=this.ob(),n=(this.ud(),o.eb);o.elements.cells={},o.nav.main.innerHTML="",o.nav.main.rows=[],this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this,o.Fd(),o.Gd();for(var a=0;a<i;a++)if(o.nav.main.rows.push({cells:[]}),e.browser.ie)for(var r=n.length-1;r>=0;r--)o.$c(r,a);else for(r=0;r<n.length;r++)o.$c(r,a);t.style.height=i*o.cellHeight+"px"},o.Hd=function(e,t){var i={},n=o.aa(e),a=t*o.cellHeight;return i.left=n.left,i.width=n.width,i.right=i.left+i.width,i.top=a,i.height=o.cellHeight,i.bottom=i.top+i.height,i},o.$c=function(i,n){if(!o.elements.cells[i+"_"+n]){if("Fixed"===o.columnWidthSpec&&!e.browser.ie){var a=o.Hd(i,n),r=o.X();if(r.pixels.right<=a.left||r.pixels.left>=a.right||r.pixels.bottom<=a.top||r.pixels.top>=a.bottom)return}var s=o.aa(i),l=60*this.cellDuration*1e3,c=n*o.cellHeight,d=o.eb[i],h=document.createElement("div");h.style.position="absolute",h.style.left=s.left+s.unit,h.style.right=s.left+s.unit,h.style.width=s.width+s.unit,h.style.top=c+"px",h.start=d.start.addTime(n*l).addHours(o.kb()),h.end=h.start.addTime(l),h.resource=d.id,h.data={},h.data.x=i,h.data.y=n,h.data.start=h.start,h.data.end=h.end,h.data.resource=h.resource,h.data.calendar=o,o.cellProperties||(o.cellProperties={});var u={};u.resource=h.resource,u.start=h.start,u.end=h.end;var f=i+"_"+n;if(u.cssClass=null,u.html=null,u.backImage=null,u.backRepeat=null,u.backColor=null,u.business=o.Id(h.start,h.end),o.cellProperties[f]&&e.Util.copyProps(o.cellProperties[f],u,["cssClass","html","backImage","backRepeat","backColor","business","areas","disabled"]),"function"==typeof o.onBeforeCellRender){var p={};p.cell=u,o.onBeforeCellRender(p)}o.cellProperties[f]=u;var v,m=o.Jd(i,n);h.root=o,h.setAttribute("unselectable","on"),(v=document.createElement("div")).className=o.G("_cell"),v.style.position="relative",v.style.height=o.cellHeight+"px",v.style.overflow="hidden",v.setAttribute("unselectable","on");var g=document.createElement("div");g.className=o.G("_cell_inner"),v.appendChild(g),h.appendChild(v),h.onmousedown=o.Yb,h.onmousemove=o.hc,h.onmouseout=o.gc,e.re(h,e.touch.end,o.Xc.onCellTouchEnd),h.oncontextmenu=function(){return this.selected||(o.clearSelection(),t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this,t.topSelectedCell=this,t.bottomSelectedCell=this,o.Zb()),!1};var b=o.Kd(i,n);v=h.firstChild,"Fixed"===o.columnWidthSpec&&(v.style.width=d.width?d.width+"px":o.columnWidth+"px"),b&&(v.firstChild.style.background=b),(m?m.business:o.Id(h.start,h.end))&&e.Util.addClass(v,o.G("_cell_business"));var y=v.firstChild;if(y&&(y.innerHTML=""),v.style.backgroundImage="",v.style.backgroundRepeat="",m&&(m.html&&(y.innerHTML=m.html),m.cssClass&&e.Util.addClass(v,m.cssClass),m.backImage&&(v.style.backgroundImage="url('"+m.backImage+"')"),m.backRepeat&&(v.style.backgroundRepeat=m.backRepeat),m.areas)){var w={};w.start=h.start,w.end=h.end,w.resource=h.resource;var x=e.list(m.areas).filter(function(t){return!(t.end&&new e.Date(t.end)<=h.start||t.start&&new e.Date(t.start)>=h.end)});x.forEach(function(t){if(t.start||t.end){if(t.start){var i=new e.Date(t.start).getTime()-h.start.getTime();t.top=o.Ld(i)}if(t.end){var n=new e.Date(t.end).getTime()-h.start.getTime();t.height=o.Ld(n)-t.top}}}),e.Areas.attach(v,w,{areas:x})}o.nav.main.appendChild(h),o.nav.main.rows[n].cells[i]=h,o.elements.cells[i+"_"+n]=h}},this.Ed=function(){var i=this.nav.main,n=60*this.cellDuration*1e3,a=this.ob(),r=(this.ud(),o.eb),s=0;for(i&&(s=o.Y().scrollTop,this.ra()),this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;i&&i.rows&&i.rows.length>0;)this.O||e.pu(i.rows[0]),i.deleteRow(0);if(this.Md=!0,this.scrollLabelsVisible)for(var l=this.showHours?this.hourWidth:0,c=(this.nav.scroll.clientWidth-l)/(r=this.eb).length,d=0;d<r.length;d++){var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left=l+2+d*c+c/2+"px",h.style.display="none",(u=document.createElement("div")).style.height="10px",u.style.width="10px",u.className=this.G("_scroll_up"),h.appendChild(u),this.nav.scrollLayer.appendChild(h),this.nav.scrollUp.push(h);var u,f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left=l+2+d*c+c/2+"px",f.style.display="none",(u=document.createElement("div")).style.height="10px",u.style.width="10px",u.className=this.G("_scroll_down"),f.appendChild(u),this.nav.scrollLayer.appendChild(f),this.nav.scrollDown.push(f)}var p=r.length;if(this.cssOnly||this.K){for(var v=this.nav.events;v&&v.rows&&v.rows.length>0;)this.O||e.pu(v.rows[0]),v.deleteRow(0);for(var m=v.insertRow(-1),g=0;g<p;g++)(y=m.insertCell(-1)).style.padding="0px",y.style.border="0px none",y.style.height="1px",y.style.overflow="visible","Fixed"===this.columnWidthSpec&&(y.style.width=r[g].width?r[g].width+"px":this.columnWidth+"px"),o.rtl||(y.style.textAlign="left"),o.pd(y)}for(d=0;d<a;d++){var b=d;for((m=i.insertRow(-1)).style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none",g=0;g<p;g++){var y,w=this.eb[g];(y=m.insertCell(-1)).start=w.start.addTime(b*n).addHours(this.kb()),y.end=y.start.addTime(n),y.resource=w.id,this.cellProperties||(this.cellProperties={});var x={};x.resource=y.resource,x.start=y.start,x.end=y.end;var k=g+"_"+b;if(x.cssClass=null,x.html=null,x.backImage=null,x.backRepeat=null,x.backColor=null,x.business=this.Id(y.start,y.end),this.cellProperties[k]&&e.Util.copyProps(this.cellProperties[k],x,["cssClass","html","backImage","backRepeat","backColor","business","areas","disabled"]),"function"==typeof this.onBeforeCellRender){var C={};C.cell=x,this.onBeforeCellRender(C)}this.cellProperties[k]=x;var _,D=o.Jd(g,b);y.root=this,y.setAttribute("unselectable","on"),(_=document.createElement("div")).className=o.G("_cell"),_.style.position="relative",_.style.height=o.cellHeight+"px",_.style.overflow="hidden",_.setAttribute("unselectable","on");var S=document.createElement("div");S.className=o.G("_cell_inner"),_.appendChild(S),y.appendChild(_),y.onmousedown=this.Yb,y.onmousemove=this.hc,y.onmouseout=this.gc,e.re(y,e.touch.end,this.Xc.onCellTouchEnd),y.oncontextmenu=function(){return this.selected||(o.clearSelection(),t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this,t.topSelectedCell=this,t.bottomSelectedCell=this,o.Zb()),!1};var E=o.Kd(g,b);_=y.firstChild,"Fixed"===this.columnWidthSpec&&(_.style.width=w.width?w.width+"px":this.columnWidth+"px"),E&&(_.firstChild.style.background=E),(D?D.business:this.Id(y.start,y.end))&&e.Util.addClass(_,o.G("_cell_business"));var T=_.firstChild;if(T&&(T.innerHTML=""),_.style.backgroundImage="",_.style.backgroundRepeat="",D&&(D.html&&(T.innerHTML=D.html),D.cssClass&&e.Util.addClass(_,D.cssClass),D.backImage&&(_.style.backgroundImage="url('"+D.backImage+"')"),D.backRepeat&&(_.style.backgroundRepeat=D.backRepeat),D.areas)){var A={};A.start=y.start,A.end=y.end,A.resource=y.resource;var P=e.list(D.areas).filter(function(t){return!(t.end&&new e.Date(t.end)<=y.start||t.start&&new e.Date(t.start)>=y.end)});P.forEach(function(t){if(t.start||t.end){if(t.start){var i=new e.Date(t.start).getTime()-y.start.getTime();t.top=o.Ld(i)}if(t.end){var n=new e.Date(t.end).getTime()-y.start.getTime();t.height=o.Ld(n)-t.top}}}),e.Areas.attach(_,A,{areas:P})}}}i.onmouseup=this.ic,i.root=this,i.style.height=a*o.cellHeight+"px",o.nav.scrollable.style.display="",o.Y().scrollTop=s},this.ld=function(e){if(!r.detected){var t=o.getSelection();if(t){var i={};if(i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeRightClick&&(o.onTimeRangeRightClick(i),i.preventDefault.value))return!1;"ContextMenu"===o.timeRangeRightClickHandling&&o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection()),"function"==typeof o.onTimeRangeRightClicked&&o.onTimeRangeRightClicked(i)}}},this.Id=function(e,t){return this.businessBeginsHour<this.businessEndsHour?!(e.getHours()<this.businessBeginsHour||e.getHours()>=this.businessEndsHour||6===e.getDayOfWeek()||0===e.getDayOfWeek()):e.getHours()>=this.businessBeginsHour||e.getHours()<this.businessEndsHour},this.kd=function(i){(i=i||window.event).insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0);for(var n=0;n<t.registered.length;n++){var a=t.registered[n];a!==o&&a.Aa&&a.Aa()}t.activeCalendar=this,o.coords=e.mo3(o.nav.main,i);var r=e.mc(i),l=o.crosshairType&&"Disabled"!==o.crosshairType;if(e.Global.moving||e.Global.resizing||e.Global.selecting?o.Ba():l&&o.Nd(),e.Global.resizing)o.Od(r);else if(e.Global.moving){if(!e.Global.moving.helper)return void(t.movingShadow=null);if(!t.movingShadow){if(!(e.distance(r,t.originalMouse)>3))return;t.movingShadow=o.db(e.Global.moving,!o.V.ie),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px"}if(!o.coords)return;e.Util.addClass(e.Global.moving,o.G("_event_moving_source"));var c=o.cellHeight,d=t.moveOffsetY;d||(d=c/2),"Top"===this.moveBy&&(d=0);var h=Math.floor((o.coords.y-d-0+c/2)/c)*c+0;h<0&&(h=0);var u=o.nav.main,f=o.N?o.ob()*o.cellHeight:u.clientHeight,p=parseInt(t.movingShadow.style.height);h+p>f&&(h=f-p);var v=Math.floor(o.coords.x/(u.clientWidth/o.eb.length));v<0&&(v=0),v>=o.eb.length&&(v=o.eb.length-1),o.rtl&&(v=o.eb.length-v-1);var m=t.movingShadow,g=e.Global.moving.event,b=o.Hb(g,v,h),y=o.eventMovingStartEndFormat;"Auto"===y&&(y="Clock24Hours"===s.timeFormat()?"H:mm":"h:mm tt");var w={};w.e=g,w.start=b.start,w.end=b.end,w.resource=b.resource,w.html=null,w.cssClass=null,w.allowed=!0,w.areaData=e.Global.movingAreaData,w.top={},w.top.width=null,w.top.space=5,w.top.html=w.start.toString(y,s.locale()),w.top.enabled=o.eventMovingStartEndEnabled,w.bottom={},w.bottom.width=null,w.bottom.space=5,w.bottom.html=w.end.toString(y,s.locale()),w.bottom.enabled=o.eventMovingStartEndEnabled,w.external=!!t.drag,function(){var i=o.Ca;if(!i||i.start.getTime()!==b.start.getTime()||i.end.getTime()!==b.end.getTime()||i.resource!==b.resource){if(m.className=o.G("_shadow"),m.firstChild.innerHTML="",o.Ca=w,m.args=w,!o.allowEventOverlap){var n={id:g.id(),start:w.start,end:w.end,resource:w.resource};o.events.$b(n)&&(e.Util.addClass(m,o.G("_shadow_forbidden")),w.allowed=!1)}o._b(w.start,w.end,w.resource)&&(e.Util.addClass(m,o.G("_shadow_forbidden")),w.allowed=!1),e.Util.removeClass(m,o.G("_shadow_forbidden")),"function"==typeof o.onEventMoving&&w.allowed&&o.onEventMoving(w),w.html&&(m.firstChild.innerHTML=w.html),w.cssClass&&e.Util.addClass(m,w.cssClass),w.allowed||e.Util.addClass(m,o.G("_shadow_forbidden")),t.movingShadow.style.top=h+"px";var a=o.nav.events;v<a.rows[0].cells.length&&v>=0&&t.movingShadow.column!==v&&(t.movingShadow.column=v,t.moveShadow(a.rows[0].cells[v])),o.ec(m,v,w)}}()}else if(t.firstMousePos){var x=o.Pd(o.coords.x,!0),k=Math.floor(o.coords.y/o.cellHeight),C=o.nav.main.rows[k].cells[x];if(!e.Global.selecting){var _=t.firstMousePos;_.x===(S=o.coords).x&&_.y===S.y||(e.Global.selecting={calendar:o})}if(!e.Global.selecting)return;r=o.coords,t.getColumn(C)!==t.column&&(C=o.nav.main.rows[k].cells[t.column]);var D=e.Global.selecting;if(D.last&&D.last.x===x&&D.last.y===k)return;D.last={x,y:k},r.y<t.firstMousePos.y?(o.selectedCells=t.getCellsBelow(C),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(C),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.Zb()}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingShadow&&o.coords&&(m=o.db(t.drag,!1))){t.movingShadow=m;var S=e.Date.today(),E=(i={id:t.drag.id,start:S,end:S.addSeconds(t.drag.duration),text:t.drag.text},t.drag.data);if(E){var T=["duration","element","remove","id","text"];for(var A in E)e.contains(T,A)||(i[A]=E[A])}var P=new e.Event(i,o);P.external=!0,e.Global.moving={},e.Global.moving.event=P,e.Global.moving.helper={}}i.cancelBubble=!0}},this.Qd=function(e){},this._b=function(e,t,i){return o.Rd(e,t,i).some(function(e){return e.disabled})},this.Rd=function(t,i,n){var a=[];for(var r in o.cellProperties){var s=o.cellProperties[r];(!n||n===s.resource)&&e.Util.overlaps(t,i,s.start,s.end)&&a.push(s)}return a},this.Od=function(i){if(!e.Global.resizing.event)return e.Global.resizing=null,e.de(t.resizingShadow),void(t.resizingShadow=null);t.resizingShadow||(t.resizingShadow=o.db(e.Global.resizing,!1));var n=e.Global.resizing.event.calendar.cellHeight,a=i.y-t.originalMouse.y,r=e.Global.resizing.event,l=r.start(),c=r.end();if("bottom"===e.Global.resizing.dpBorder){(h=Math.floor((t.originalHeight+t.originalTop+a+n/2)/n)*n-t.originalTop+0)<n&&(h=n);var d=o.N?o.ob()*o.cellHeight:o.nav.main.clientHeight;t.originalTop+h>d&&(h=d-t.originalTop),t.resizingShadow.style.height=h+"px",c=o.Db(r,t.originalTop+h)}else if("top"===e.Global.resizing.dpBorder){var h,u=Math.floor((t.originalTop+a-0+n/2)/n)*n+0;u<0&&(u=0),u>t.originalTop+t.originalHeight-n&&(u=t.originalTop+t.originalHeight-n),(h=t.originalHeight-(u-t.originalTop))<n?h=n:t.resizingShadow.style.top=u+"px",t.resizingShadow.style.height=h+"px",l=o.Cb(r,u)}var f=t.resizingShadow,p=o.eventResizingStartEndFormat;"Auto"===p&&(p="Clock24Hours"===s.timeFormat()?"H:mm":"h:mm tt");var v={};if(v.e=r,v.start=l,v.end=c,v.resource=r.resource(),v.allowed=!0,v.html=null,v.cssClass=null,v.top={},v.top.width=null,v.top.space=5,v.top.html=v.start.toString(p,s.locale()),v.top.enabled=o.eventResizingStartEndEnabled,v.bottom={},v.bottom.width=null,v.bottom.space=5,v.bottom.html=v.end.toString(p,s.locale()),v.bottom.enabled=o.eventResizingStartEndEnabled,f.args=v,f.firstChild.innerHTML="",f.className=o.G("_shadow"),!o.allowEventOverlap){var m={id:r.id(),start:v.start,end:v.end,resource:v.resource};o.events.$b(m)&&(e.Util.addClass(f,o.G("_shadow_forbidden")),v.allowed=!1)}o._b(v.start,v.end,v.resource)&&(e.Util.addClass(f,o.G("_shadow_forbidden")),v.allowed=!1),"function"==typeof o.onEventResizing&&v.allowed&&o.onEventResizing(v),v.html&&(f.firstChild.innerHTML=v.html),v.cssClass&&e.Util.addClass(f,v.cssClass),v.allowed||e.Util.addClass(f,o.G("_shadow_forbidden")),o.ec(f,r.part.dayIndex,v)},this.temp={},this.temp.getPosition=function(){var t=o.Sd.getCellCoords();if(!t)return null;var i=o.eb[t.x],n={};return n.resource=i.id,n.start=new e.Date(i.start).addHours(o.kb(!0)).addMinutes(t.y*o.cellDuration),n.end=n.start.addMinutes(o.cellDuration),n},this.Sd={},this.Sd.getCellCoords=function(){var e={x:0,y:0};if(!o.coords)return null;e.x=o.Pd(o.coords.x);var t=Math.floor((o.coords.y-0)/o.cellHeight);return e.y=t,e.x<0?null:e},this.Sd.col=function(t,i){var n={left:0,width:0};if(!t)return null;if(!t.rows)return null;if(0===t.rows.length)return null;if(0==t.rows[0].cells.length)return null;var a=t.rows[0].cells[i];if(!a)return null;var o=e.abs(t),r=e.abs(a);return n.left=r.x-o.x,n.width=a.offsetWidth,n},this.Nd=function(){this.Ba(),this.elements.crosshair||(this.elements.crosshair=[]);var t=this.Sd.getCellCoords();if(t){var i=t.x;if(null!==i){var n=Math.floor(t.y/(60/o.cellDuration)*(60/o.timeHeaderCellDuration));if(!(n<0)){if(this.nav.hourTable){if(n>=this.nav.hourTable.rows.length)return;var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.className=o.G("_crosshair_left"),this.nav.hourTable.rows[n].cells[0].firstChild.appendChild(a),this.elements.crosshair.push(a)}if(this.nav.header){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.right="0px",r.style.top="0px",r.style.bottom="0px",r.className=o.G("_crosshair_top");var s=this.nav.header.rows[this.headerLevels-1];s.cells[i]&&(s.cells[i].firstChild.appendChild(r),this.elements.crosshair.push(r))}if("Header"!==this.crosshairType){var l=this.nav.crosshair,c=Math.floor((o.coords.y-0)/o.cellHeight)*o.cellHeight+0,d=o.cellHeight,h=document.createElement("div");h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.top=c+"px",h.style.height=d+"px",h.className=o.G("_crosshair_horizontal"),h.onmousedown=this.Td,l.appendChild(h),this.elements.crosshair.push(h);var u=i;e.browser.ie&&(u=o.eb.length-1-i);var f=this.Sd.col(this.nav.main,u);if(d=o.Z(),f){var p=document.createElement("div");p.style.position="absolute",p.style.left=f.left+"px",p.style.width=f.width+"px",p.style.top="0px",p.style.height=d+"px",p.className=o.G("_crosshair_vertical"),p.onmousedown=this.Td,l.appendChild(p),this.elements.crosshair.push(p)}}}}}},this.Td=function(t){var i=o.nav.main;o.Ba(),o.coords=e.mo3(i,t);var n=o.Sd.getCellCoords(),a=n.x;e.browser.ie&&(a=o.eb.length-1-n.x),o.Yb.apply(i.rows[n.y+0].cells[a],[t])},this.Ba=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var e=0;e<this.elements.crosshair.length;e++){var t=this.elements.crosshair[e];t&&t.parentNode&&t.parentNode.removeChild(t)}this.elements.crosshair=[]}},this.La=function(){if(this.cellConfig){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)for(var i=this.cellProperties[t+"_0"],n=1;n<e.y;n++)this.cellProperties[t+"_"+n]=i;if(e.horizontal)for(n=0;n<e.y;n++)for(i=this.cellProperties["0_"+n],t=1;t<e.x;t++)this.cellProperties[t+"_"+n]=i;if(e.default)for(i=e.default,n=0;n<e.y;n++)for(t=0;t<e.x;t++)this.cellProperties[t+"_"+n]||(this.cellProperties[t+"_"+n]=i)}},this.Jd=function(e,t){return this.cellProperties?this.cellProperties[e+"_"+t]:null},this.Ud=function(e,t){var i=e+"_"+t;return!(!this.cellProperties||!this.cellProperties[i])&&this.cellProperties[i].business},this.Kd=function(e,t){var i=e+"_"+t;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.sa=function(){var t=this.nav.header;if(t&&t.rows)for(var i=0;i<t.rows.length;i++)for(var n=t.rows[i],a=0;a<n.cells.length;a++){var r=n.cells[a];r.onclick=null,r.onmousemove=null,r.onmouseout=null;var s=r.domArgs;if(r.domArgs=null,"function"==typeof o.onBeforeHeaderDomRemove&&o.onBeforeHeaderDomRemove(s),"function"==typeof o.onBeforeHeaderDomAdd&&o.wa.reactDOM){var l=s&&s.Qc;if(l&&e.Util.isReactComponent(s.element)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.unmountComponentAtNode(l)}}}this.O||e.pu(t),t.innerHTML="",t.rows=[]},this.Vd=function(t){var i=t+1,n=i===o.headerLevels,a=this.Lc(i),r=0,s=0,l=o._(),c=[];if(!n)for(var d=0;d<a.length;d++){var h=a[d],u=l[d],f=h.getChildren?h.getChildrenCount(o.headerLevels-i+1):1,p=u.width;e.list.for(f-1,function(){p+=l[d+r].width,r+=1}),c.push({left:s,width:p}),s+=p}return c},this.Wd=function(t){function i(t){var i=a[t],n=c[t],r={header:{}};r.column=o.vb(i,o);var f=null;o.cb()&&"function"==typeof o.onBeforeHeaderRender&&(e.Util.copyProps(i,r.header,["id","start","name","html","backColor","toolTip","areas","children"]),o.onBeforeHeaderRender(r),e.Util.copyProps(r.header,i,["html","backColor","toolTip","areas"]));var p=!!i.getChildren,v=n.width,m=n.left;l||(m=u[t].left,v=u[t].width);var g=document.createElement("div");g.style.position="absolute",g.style.top=d+"px",g.style.left=m+n.unit,g.style.right=m+n.unit,g.style.width=v+n.unit,g.data=i,h.push(g),p&&(g.onclick=o.wb,g.onmousemove=o.xb,g.onmouseout=o.yb,i.toolTip&&(g.title=i.toolTip)),g.style.overflow="hidden",g.style.height=s.headerHeight()+"px";var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.userSelect="none",b.style.position="relative",b.style.height=s.headerHeight()+"px",b.className=o.G("_colheader");var y=document.createElement("div");if(y.className=o.G("_colheader_inner"),i.backColor&&(y.style.background=i.backColor),b.appendChild(y),g.appendChild(b),o.Xd(b,i),"function"==typeof o.onBeforeHeaderDomAdd&&(r.element=null,o.onBeforeHeaderDomAdd(r),f=r.element),g.domArgs=r,f){var w=y;if(r.Qc=w,e.Util.isReactComponent(f)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.render(f,w)}else w.appendChild(f)}else p&&(b.firstChild.innerHTML=i.html||"");o.nav.header.appendChild(g)}var n=t+1,a=this.Lc(n),r=a.length,l=n===o.headerLevels,c=o._(),d=t*s.headerHeight(),h=[];o.nav.header.rows.push({cells:h});var u=o.Vd(t);if(e.browser.ie)for(var f=r-1;f>=0;f--)i(f);else for(f=0;f<r;f++)i(f)},this.Yd=function(t,i){for(var n=i?this.nav.header.insertRow(-1):this.nav.header.rows[t-1],a=this.Lc(t),r=a.length,l=t===o.headerLevels,c=0;c<r;c++){var d=a[c];if(o.cb()&&"function"==typeof o.onBeforeHeaderRender){var h={header:{}};e.Util.copyProps(d,h.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(h),e.Util.copyProps(h.header,d,["html","backColor","toolTip","areas"])}var u=!!d.getChildren,f=i?n.insertCell(-1):n.cells[c];if(f.data=d,l);else{var p=1;u&&(p=d.getChildrenCount(o.headerLevels-t+1)),f.colSpan=p}u&&(f.onclick=this.wb,f.onmousemove=this.xb,f.onmouseout=this.yb,d.toolTip&&(f.title=d.toolTip)),f.style.overflow="hidden",f.style.padding="0px",f.style.border="0px none",f.style.height=s.headerHeight()+"px";var v=i?document.createElement("div"):f.firstChild;if(i){v.setAttribute("unselectable","on"),v.style.MozUserSelect="none",v.style.KhtmlUserSelect="none",v.style.WebkitUserSelect="none",v.style.position="relative",v.style.height=s.headerHeight()+"px",v.className=o.G("_colheader");var m=document.createElement("div");m.className=o.G("_colheader_inner"),d.backColor&&(m.style.background=d.backColor),v.appendChild(m),f.appendChild(v)}else v.style.height=s.headerHeight()+"px";this.Xd(v,d),u&&(v.firstChild.innerHTML=d.html)}},this.Xd=function(t,i){for(var n=[],a=0;a<t.childNodes.length;a++)(r=t.childNodes[a]).isActiveArea&&n.push(r);for(a=0;a<n.length;a++){var r;e.de(r=n[a])}if(i.areas){var s=i.areas;for(a=0;a<s.length;a++){var l=s[a];if(e.Areas.isVisible(l)){var c=o.vb(i),d=e.Areas.createArea(t,c,l);t.appendChild(d)}}}},this.Oa=function(){o.N?o.Zd():o.$d()},this.Zd=function(){var t=o.nav.header;if(o.sa(),this.showHeader){var i=this.Lc(o.headerLevels,!0),n=i.length;this._d=!0;var a=o.nav.corner;if(a){this.O||e.pu(a.firstChild);var r={};r.html=o.ca(o.cornerText,o.cornerHtml);var l=null;if(o.ta(),"function"==typeof o.onBeforeCornerRender&&o.onBeforeCornerRender(r),"function"==typeof o.onBeforeCornerDomAdd&&(r.element=null,o.onBeforeCornerDomAdd(r),l=r.element),l){var c=a.firstChild;if(c.domArgs=r,e.Util.isReactComponent(l)){if(!o.wa.reactDOM)throw new e.Exception("Can't reach ReactDOM");o.wa.reactDOM.render(l,c)}else c.appendChild(l)}else a.firstChild.innerHTML=r.html||""}for(var d=0;d<o.headerLevels;d++)this.Wd(d);if(this.showAllDayEvents){var h=[];o.nav.header.rows.push({cells:h});for(var u=o._(),f=o.headerLevels*s.headerHeight(),p=0;p<n;p++){var v=i[p],m=u[p],g=document.createElement("div");g.data=v,g.style.overflow="hidden",g.style.position="absolute",g.style.left=m.left+m.unit,g.style.right=m.left+m.unit,g.style.width=m.width+m.unit,g.style.top=f+"px";var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.userSelect="none",b.style.overflow="hidden",b.style.position="relative",b.style.height=s.allDayHeaderHeight()+"px",b.className=this.G("_alldayheader");var y=document.createElement("div");y.className=this.G("_alldayheader_inner"),b.appendChild(y),g.appendChild(b),b.style.height=s.allDayHeaderHeight()+"px",h.push(g),t.appendChild(g)}}}},this.$d=function(){if(this.showHeader){var t=this.nav.header,i=this.Lc(o.headerLevels,!0),n=i.length;for(e.de(this.nav.header),this.Bd();this._d&&t&&t.rows&&t.rows.length>0;)this.O||e.pu(t.rows[0]),t.deleteRow(0);this._d=!0;var a=o.nav.corner;if(a){this.O||e.pu(a.firstChild);var r={};r.html=o.ca(o.cornerText,o.cornerHtml),"function"==typeof o.onBeforeCornerRender&&o.onBeforeCornerRender(r),a.firstChild.innerHTML=r.html?r.html:""}for(var l=0;l<o.headerLevels;l++)this.Yd(l+1,!0);if(this.showAllDayEvents){var c=this.nav.header.insertRow(-1);for(l=0;l<n;l++){var d=i[l],h=c.insertCell(-1);h.data=d,h.style.padding="0px",h.style.border="0px none",h.style.overflow="hidden";var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.MozUserSelect="none",u.style.KhtmlUserSelect="none",u.style.WebkitUserSelect="none",u.style.overflow="hidden",u.style.position="relative",u.style.height=s.allDayHeaderHeight()+"px",u.className=this.G("_alldayheader");var f=document.createElement("div");f.className=this.G("_alldayheader_inner"),u.appendChild(f),h.appendChild(u),u.style.height=s.allDayHeaderHeight()+"px"}}}},this.ia=function(e){var t=e?0:100;this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.callbackTimeout=window.setTimeout(function(){o.loadingLabelVisible&&o.nav.loading&&(o.nav.loading.innerHTML=o.ca(this.loadingLabelText,this.loadingLabelHtml),o.nav.loading.style.top=o.lb()+5+"px",o.nav.loading.style.display="")},t)},this.Ga=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.ae=function(e){var t=o.kb(!0);return e<t&&(e+=24),60/o.cellDuration*(e-t)*o.cellHeight},this.be=function(){var e=this.Y(),t=this.initScrollPos;t||(t=o.ae(this.businessBeginsHour)),e.root=this,e.onscroll=this.jc,o.ba(),0===e.scrollTop?e.scrollTop=t-this.cc():this.jc()},this.ce=function(){var e=o.nav.top;return!!e&&e.offsetWidth>0&&e.offsetHeight>0},this.ee=function(){var e=o.ce;return e()?void o.fe():void(o.ge||(o.ge=setInterval(function(){e()&&(clearInterval(o.ge),o.be(),o.Va(),o.fe())},100)))},this.scrollToY=function(e){this.Y().scrollTop=e},this.scrollToHour=function(e){var t=o.ae(e);this.Y().scrollTop=t-this.cc()},this.Y=function(){return"Fixed"===this.columnWidthSpec||this.M?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(e,t){alert("Error!\r\nResult: "+e+"\r\nContext:"+t)},this.Va=function(){if(o.showHeader){var t=this.zd(),i=!!this.nav.cornerRight;if(this.M){this.nav.unifiedCornerRight&&e.de(this.nav.unifiedCornerRight);var n=(o.Y(),o.nav.main.getBoundingClientRect().width),a=o.od();if("100%"!=a&&parseInt(a)<n)return;var r=e.sw(this.nav.bottomRight);o.N?((c=document.createElement("div")).style.position="absolute",c.style.left=n+"px",c.style.right=n+"px",c.style.height=o.lb()+"px",o.nav.headerParent.appendChild(c),o.nav.unifiedCornerRight=c,o.nav.header.style.width=n+"px"):(this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1),(c=this.nav.unifiedCornerRight).rowSpan=this.nav.header.rows.length),c.style.width=r+"px";var s=document.createElement("div");s.className=o.G("_cornerright"),s.setAttribute("unselectable","on"),s.style.overflow="hidden",s.style.height=this.lb()+"px",s.style.position="relative";var l=document.createElement("div");return l.className=o.G("_cornerright_inner"),s.appendChild(l),c.appendChild(s),void(!("Fixed"===this.columnWidthSpec)&&this.nav.allday&&(o.rtl?this.nav.allday.style.left=r+"px":this.nav.allday.style.right=r+"px"))}if(t!==i)if(t)this.Cd();else{var c;this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length&&(c=this.nav.fullHeader.rows[0].cells[2]).parentNode&&c.parentNode.removeChild(c),this.nav.cornerRight=null}var d=this.nav.cornerRight;if(d)return r=e.sw(o.mb()),d&&(d.style.width=r+"px"),r}},this.bb=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.R>=this.autoRefreshMaxCount)){this.oa();var i=this.autoRefreshInterval;if(!i||i<10)throw new e.Exception("The minimum autoRefreshInterval is 10 seconds");this.autoRefreshTimeout=window.setTimeout(function(){o.je()},1e3*this.autoRefreshInterval)}},this.oa=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.je=function(){if(!(e.Global.resizing||e.Global.moving||t.drag||e.Global.selecting)){var i=!1;if("function"==typeof this.onAutoRefresh){var n={};n.i=this.R,n.preventDefault=function(){this.preventDefault.value=!0},o.onAutoRefresh(n),n.preventDefault.value&&(i=!0)}!i&&this.I()&&this.commandCallBack(this.autoRefreshCommand),this.R++}this.R<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){o.je()},1e3*this.autoRefreshInterval))},this.xa=function(){o._a()},this._a=function(){o.Ua(),"Parent100Pct"===o.heightSpec&&o.setHeight(parseInt(o.nav.top.clientHeight,10)),o.Va(),o.ab(),o.ba()},this.ke=null,this.le=null,o.na=null,this.fe=function(){var e=function(){o._a(),o.jc()};if(o.watchWidthChanges){if("function"==typeof ResizeObserver){if(o.na)return;var t=new ResizeObserver(e);return t.observe(o.nav.top),void(o.na=t)}if(!o.le){var i=function(){return o.nav&&o.nav.top?o.ke?(o.ke.width!==o.nav.top.offsetWidth&&(o.ke.changed=!0,o.ke.counter=0,o.ke.width=o.nav.top.offsetWidth),o.ke.changed&&(o.ke.counter+=1),void(o.ke.changed&&o.ke.counter>0&&(o.ke.changed=!1,e()))):(o.ke={},o.ke.counter=0,o.ke.changed=!1,void(o.ke.width=o.nav.top.offsetWidth)):void clearInterval(o.le)};this.le=setInterval(i,200),i()}}},this.me=function(){t.globalHandlers||(t.globalHandlers=!0,e.re(document,"mousemove",t.gMouseMove),e.re(document,"mouseup",t.gMouseUp),e.re(document,e.touch.move,t.gTouchMove),e.re(document,e.touch.end,t.gTouchEnd)),e.re(window,"resize",this.xa)},this.Wc=function(i){if(!r.active&&!r.using){i=i||window.event;var n=e.Util.mouseButton(i);if(t.editing)return void t.editing.blur();if(void 0!==e.Bubble&&(e.Bubble.hideActive(),e.Bubble.cancelShowing()),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!n.left){if(("move"===this.style.cursor||"Full"===o.moveBy&&this.event.client.moveEnabled())&&n.left){e.Global.moving=this,(e.Global.moving.helper={}).oldColumn=o.eb[this.event.part.dayIndex].id,t.originalMouse=e.mc(i),t.originalTop=this.offsetTop;var a=e.mo3(this,i);t.moveOffsetY=a?a.y:0,o.nav.top.style.cursor=this.style.cursor}}else e.Global.resizing=this,t.originalMouse=e.mc(i),t.originalHeight=this.offsetHeight,t.originalTop=this.offsetTop,o.nav.top.style.cursor=this.style.cursor;return!1}},this.ne=function(e){var t=this.P.events,i=this.events.list[e],n={};for(var a in i)n[a]=i[a];if(o.showEventStartEnd){var r=i.start.getDatePart().getTime()===i.end.getDatePart().getTime()?s.locale().timePattern:s.locale().dateTimePattern,l=i.start.toString(r),c=i.end.toString(r);n.html=o.ca(n.text)+" ("+l+" - "+c+")"}if("function"==typeof this.onBeforeEventRender){var d={};d.e=n,d.data=n,this.onBeforeEventRender(d)}t[e]=n},this.Xc={};var r=o.Xc;r.active=!1,r.start=null,r.timeout=null,r.startcell=null,this.Xc.getCellCoords=function(t){var i,n;t.touches?(i=t.touches[0].pageX,n=t.touches[0].pageY):(i=t.pageX,n=t.pageY);var a=e.abs(o.nav.main),r=n-a.y;return{pageX:i,pageY:n,x:Math.floor((i-a.x)/(o.nav.main.clientWidth/o.eb.length)),y:Math.floor(r/o.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}}},this.Xc.startSelecting=function(i){var n=o.nav.main.rows[i.y].cells[i.x];r.startcell=i,o.clearSelection(),t.column=t.getColumn(n),o.selectedCells.push(n),t.firstSelected=n,t.topSelectedCell=n,t.bottomSelectedCell=n,e.Global.selecting={calendar:o},o.Zb()},this.Xc.extendSelection=function(i){var n=o.nav.main.rows[i.y].cells[i.x];o.clearSelection(),e.Global.selecting={calendar:o},i.y<r.startcell.y?(o.selectedCells=t.getCellsBelow(n),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(n),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.Zb()},this.Xc.detected=!1,this.Xc.onMainTouchStart=function(t){if(!(e.Util.isMouseEvent(t)||(r.start=!0,r.detected=!0,r.active||t.touches.length>1))){r.using=!0;var i=r.getCellCoords(t);r.startCoords=i,r.timeout=window.setTimeout(function(){switch(t.preventDefault(),r.active=!0,r.start=!1,o.timeRangeTapAndHoldHandling){case"Select":r.startSelecting(i);break;case"ContextMenu":r.startSelecting(i),r.active=!1,o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection())}},o.tapAndHoldTimeout)}},this.Xc.onCellTouchMove=function(e){},this.Xc.onCellTouchEnd=function(e){if(!r.active)return window.clearTimeout(r.timeout),void(r.start&&function(e){if("Disabled"!==o.timeRangeSelectedHandling){o.clearSelection(),o.selectedCells=[e],t.topSelectedCell=e,t.bottomSelectedCell=e,o.Zb();var i=o.getSelection();i.toString=function(){return"start: "+this.start+"\nend: "+this.end},setTimeout(function(){o.Qb(i.start,i.end,i.resource)},10)}}(this));e.preventDefault(),e.stopPropagation(),r.startcell=null,r.start=!1;var i=o.getSelection();i.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.Qb(i.start,i.end,i.resource),window.setTimeout(function(){r.active=!1},500)},this.Xc.startMoving=function(i,n){e.Global.moving=i,(e.Global.moving.helper={}).oldColumn=o.eb[i.event.part.dayIndex].id,t.originalMouse=n,t.originalTop=this.offsetTop;var a=e.abs(i);t.moveOffsetY=n.y-a.y,t.movingShadow||(t.movingShadow=o.db(e.Global.moving,!o.V.ie),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px")},this.Xc.startResizing=function(i,n,a){e.Global.resizing=i,i.dpBorder=n,t.originalMouse=a,t.originalHeight=i.offsetHeight,t.originalTop=i.offsetTop},this.Xc.updateResizing=function(e){o.Od(e)},this.Xc.updateMoving=function(){var e=o.coords,i=o.cellHeight,n=t.moveOffsetY;n||(n=i/2);var a=Math.floor((e.y-n-0+i/2)/i)*i+0;a<0&&(a=0);var r=o.nav.main,s=o.Z(),l=parseInt(t.movingShadow.style.height);a+l>s&&(a=s-l),t.movingShadow.style.top=a+"px",t.movingShadow.allowed=!0;var c=Math.floor(e.x/(r.clientWidth/r.rows[0].cells.length));c<0&&(c=0);var d=o.nav.events;c<d.rows[0].cells.length&&c>=0&&t.movingShadow.column!==c&&(t.movingShadow.column=c,t.moveShadow(d.rows[0].cells[c]))},this.Xc.onEventTouchStart=function(t){if(!r.active&&!e.Util.isMouseEvent(t)){t.stopPropagation(),r.preventEventTap=!1,r.using=!0,r.startCoords=r.getCellCoords(t);var i=this,n={x:t.touches?t.touches[0].pageX:t.pageX,y:t.touches?t.touches[0].pageY:t.pageY,div:this};o.coords=r.relativeCoords(t),r.timeout=window.setTimeout(function(){var a=i.event;switch(r.active=!0,o.eventTapAndHoldHandling){case"Move":a.client.moveEnabled()&&r.startMoving(i,n);break;case"ContextMenu":var s=a.client.contextMenu();e.Menu&&e.Menu.touchPosition(t),s?s.show(a):o.contextMenu&&o.contextMenu.show(a)}},o.tapAndHoldTimeout)}},this.Xc.onMainTouchMove=function(i){if(!e.Util.isMouseEvent(i)){if(r.start=!1,r.timeout&&(a=r.getCellCoords(i))&&r.startCoords&&(a.pageX===r.startCoords.pageX&&a.pageY===r.startCoords.pageY||window.clearTimeout(o.Xc.timeout)),e.Global.moving&&t.movingShadow)return i.preventDefault(),o.coords=r.relativeCoords(i),void r.updateMoving();if(e.Global.resizing){i.preventDefault();var n=i.touches?i.touches[0]:i;return void r.updateResizing(a={x:n.pageX,y:n.pageY})}if(r.startcell){if(i.preventDefault(),!r.active)return void window.clearTimeout(r.timeout);var a=r.getCellCoords(i);r.extendSelection(a)}r.preventEventTap=!0}},this.Xc.relativeCoords=function(t){var i=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,a=e.abs(o.nav.main);return{x:i-a.x,y:n-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},this.Xc.onMainTouchEnd=function(i){if(!e.Util.isMouseEvent(i))if(e.Global.moving){r.active=!1,i.preventDefault(),i.stopPropagation();var n=t.movingShadow.offsetTop,a=e.Global.moving.event,o=a.calendar;o.fc(t.movingShadow);var s=t.movingShadow.column,l=t.movingShadow;if(e.Util.removeClass(e.Global.moving,o.G("_event_moving_source")),e.Global.moving=null,t.movingShadow=null,!l.allowed)return void o.Jb();a.calendar.Ib(a,s,n,i,t.drag)}else if(r.startcell){if(!r.active)return void window.clearTimeout(r.timeout);i.preventDefault(),r.startcell=null;var c=o.getSelection();c.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.Qb(c.start,c.end,c.resource),window.setTimeout(function(){r.active=!1},500)}},this.Xc.onEventTouchMove=function(e){r.preventEventTap=!0},this.Xc.onEventTouchEnd=function(t){if(!e.Util.isMouseEvent(t)){if(!r.active){if(r.preventEventTap)return;return window.clearTimeout(r.timeout),void o.qb(this,!1,!1,t)}return r.active=!1,r.timeout?void window.clearTimeout(r.timeout):void 0}},this.Uc=function(i){var n="Top"===o.moveBy;if(void 0!==t){var a=e.mo3(this,i);if(a&&(o.eventOffset=a,this.active||e.Util.addClass(this,o.G("_event_hover")),!e.Global.resizing&&!e.Global.moving)){var r=this.isFirst,s=this.isLast;"Disabled"===o.moveBy||"None"===o.moveBy||(!n&&a.x<=10&&this.event.client.moveEnabled()?this.style.cursor=r?"move":"not-allowed":!n&&a.y<=5&&this.event.client.resizeEnabled()?r?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":n&&a.y<=10&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-a.y<=5&&this.event.client.resizeEnabled()?s?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":e.Global.resizing||e.Global.moving||(this.style.cursor=this.event.client.clickEnabled()?"pointer":"default"),void 0===e.Bubble||!o.bubble||"Disabled"===o.eventHoverHandling||"default"!==this.style.cursor&&"pointer"!==this.style.cursor)||this.oe&&a.x===this.oe.x&&a.y===this.oe.y||(this.oe=a,o.bubble.showEvent(this.event))}}},this.Vc=function(t){e.Util.removeClass(this,o.G("_event_hover")),o.bubble&&o.bubble.hideOnMouseOut(),e.Areas.hideAreas(this,t)},this.pe=null,this.Xa=function(){if(this.showCurrentTime){this.qe();var t=(new e.Date).addMinutes(o.showCurrentTimeOffset);if("Full"===o.showCurrentTimeMode)this.se(t);else{if("Day"!==o.showCurrentTimeMode)throw new e.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: "+o.showCurrentTimeMode);this.te(t)}this.nav.events&&!this.pe&&(this.pe=setTimeout(function(){o.pe=null,o.Xa()},3e4))}},this.qe=function(){e.de(o.elements.separators),o.elements.separators=[]},this.te=function(t){var i=t.getTime(),n=o.nav.events;if(n)for(var a=0;a<o.eb.length;a++){var r=o.eb[a],s=o.gb(!0),l=new e.Date(r.start).addHours(this.kb(!0)),c=l.getTime(),d=l.addTime(s).getTime();if(c<=i&&i<=d){var h=this.bc(t,r.start).top-1-o.cc(),u=n.rows[0].cells[a].separators,f=document.createElement("div");f.style.position="absolute",f.style.top=h+"px",f.style.height="1px",f.style.left="0px",f.style.right="0px",f.className=o.G("_now"),u.insertBefore(f,u.firstChild),o.elements.separators.push(f)}}},this.se=function(t){var i=t.getTime();if(o.nav.events&&(s=o.eb[0]))for(var n=s.start.getDatePart().addTime(t.getTimePart()),a=this.bc(n,s.start).top-1,r=0;r<o.eb.length;r++){var s=o.eb[r],l=o.gb(!0),c=new e.Date(s.start).addHours(this.kb(!0)),d=c.getTime(),h=c.addTime(l).getTime();if(d<=i&&i<=h){var u=document.createElement("div");return u.style.position="absolute",u.style.top=a+"px",u.style.height="1px",u.style.left="0px",u.style.right="0px",u.className=o.G("_now"),o.nav.events.appendChild(u),void o.elements.separators.push(u)}}},this.Ma=function(t){if(t?this.events.list=t:t=this.events.list,t){this.Pc={},this.Pc.events=[],this.Pc.lines=[];var i=t.length,n=this.gb(!0);this.P.pixels={},this.P.Zc=[];var a=[];this.qc=[],this.Bb=1e4,this.jb=0,this.startDate=new e.Date(this.startDate);for(var r=0;r<i;r++){if("object"!=typeof(b=t[r]))throw new e.Exception("Event data item must be an object");if(!b.start)throw new e.Exception("Event data item must specify 'start' property");b.start=new e.Date(b.start),b.end=new e.Date(b.end)}if("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)for(r=0;r<i;r++)this.ne(r);var l="Resources"===this.viewType,c=this.Mc(),d=c.start,h=c.end;for(r=0;r<this.eb.length;r++){var u={minEnd:1e6,maxStart:-1};this.qc.push(u),(H=this.eb[r]).events=[],H.lines=[],H.blocks=[];var f=new e.Date(H.start).addHours(this.kb(!0)),p=f.getTime(),v=f.addTime(n),m=v.getTime();l&&(d=f.getDatePart(),h=f.addDays(1));for(var g=0;g<i;g++)if(!a[g]){var b=t[g],y=null;if("function"==typeof o.onBeforeEventRender&&(y=o.P.events[g]),y){if(y.hidden)continue}else if(b.hidden)continue;var w=b.end,x=(S=b.start).getTime(),k=w.getTime();if(!(k<x))if(b.allday){var C=!1;if(C=x===k||"Date"===o.allDayEnd?!(k<d.getTime()||x>=h.getTime()):!(k<=d.getTime()||x>=h.getTime()),l&&(C=C&&(b.resource===H.id||"*"===H.id)),C){if((_=new e.Event(b,this)).part.start=d.getTime()<x?S:d,_.part.end=h.getTime()>k?w:h,_.part.colStart=e.DateUtil.daysDiff(d,_.part.start),_.part.colWidth=e.DateUtil.daysSpan(_.part.start,_.part.end)+1,l&&(_.part.colStart=r,_.part.colWidth=1),"function"==typeof o.onEventFilter&&o.events.ve&&((D={}).filter=o.events.ve,D.visible=!0,D.e=_,o.onEventFilter(D),!D.visible))continue;this.Pc.events.push(_),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(_.cache=this.P.events[g]),a[g]=!0,!l||_.part.start.getTime()===x&&_.part.end.getTime()===k||(a[g]=!1)}}else{if(y=null,"function"==typeof o.onBeforeEventRender&&(y=o.P.events[g]),y){if(y.hidden)continue}else if(b.hidden)continue;if(C=!1,C=l?H.id===b.resource&&!(k<=p||x>=m):!(k<=p||x>=m)||k===x&&x===p){var _;(_=new e.Event(b,o)).part.dayIndex=r,_.part.start=p<x?S:f,_.part.end=m>k?w:v;var D,S,E=this.bc(_.part.start,H.start),T=this.bc(_.part.end,H.start),A=E.top,P=T.top;if(A===P&&(E.cut||T.cut))continue;if(_.part.box=s.useBox(k-x),_.part.box){var M=T.boxBottom;_.part.top=Math.floor(A/this.cellHeight)*this.cellHeight+0,_.part.height=Math.max(Math.ceil(M/this.cellHeight)*this.cellHeight-_.part.top,this.cellHeight-1),_.part.barTop=Math.max(A-_.part.top-1,0),_.part.barHeight=Math.max(P-A-2,1)}else _.part.top=A+0,_.part.height=Math.max(P-A,0),_.part.barTop=0,_.part.barHeight=Math.max(P-A-2,1);if("function"==typeof o.onEventFilter&&o.events.ve&&((D={}).filter=o.events.ve,D.visible=!0,D.e=_,o.onEventFilter(D),!D.visible))continue;w=_.part.top+_.part.height,(S=_.part.top)>u.maxStart&&(u.maxStart=S),w<u.minEnd&&(u.minEnd=w),S<this.Bb&&(this.Bb=S),w>this.jb&&(this.jb=w),H.events.push(_),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(_.cache=this.P.events[g]),_.part.start.getTime()===x&&_.part.end.getTime()===k&&(a[g]=!0),o.P.Zc.push(_)}}}}for(r=0;r<this.eb.length;r++){var H;for((H=this.eb[r]).events.sort(this.we),g=0;g<H.events.length;g++)H.putIntoBlock(b=H.events[g]);for(g=0;g<H.blocks.length;g++){var R=H.blocks[g];R.events.sort(this.xe);for(var B=0;B<R.events.length;B++)R.putIntoLine(b=R.events[B])}}for(this.Pc.events.sort(this.xe),this.Pc.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++)if((i=this.lines[t]).isFree(e.part.colStart,e.part.colWidth))return i.push(e),t;var i;return(i=[]).isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.colStart||e>o.part.colStart+o.part.colWidth-1))return!1}return!0},i.push(e),this.lines.push(i),this.lines.length-1},r=0;r<this.Pc.events.length;r++)this.Pc.putIntoLine(b=this.Pc.events[r]);var I=Math.max(this.Pc.lines.length,1);this.P.allDayHeaderHeight=I*(s.allDayEventHeight()+2)+2}},this.we=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.xe=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return o.we(e,t);for(var i=0,n=0;0===i&&void 0!==e.data.sort[n]&&void 0!==t.data.sort[n];)i=e.data.sort[n]===t.data.sort[n]?0:"number"==typeof e.data.sort[n]&&"number"==typeof t.data.sort[n]?e.data.sort[n]-t.data.sort[n]:o.ye(e.data.sort[n],t.data.sort[n],o.sortDirections[n]),n++;return i},this.ye=function(e,t,i){var n="desc"!==i?-1:1,a=-n;if(null===e&&null===t)return 0;if(null===t)return a;if(null===e)return n;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?n:a},this.ze=function(e){for(var t=0;t<o.elements.events.length;t++){var i=o.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.events.find=function(t){if(!o.events.list||void 0===o.events.list.length)return null;for(var i=o.events.list.length,n=0;n<i;n++)if(o.events.list[n].id===t)return new e.Event(o.events.list[n],o);return null},this.events.findRecurrent=function(t,i){if(!o.events.list||void 0===o.events.list.length)return null;for(var n=o.events.list.length,a=0;a<n;a++)if(o.events.list[a].recurrentMasterId===t&&o.events.list[a].start.getTime()===i.getTime())return new e.Event(o.events.list[a],o);return null},this.events.all=function(){for(var t=[],i=0;i<o.events.list.length;i++){var n=new e.Event(o.events.list[i],o);t.push(n)}return e.list(t)},this.events.edit=function(e){!function(){var t=o.ze(e);t&&o.rb(t)}()},this.events.update=function(t,i){if("object"==typeof t&&!(t instanceof e.Event)){var n=o.events.find(t.id);if(!n)throw new e.Exception("The event to be updated was not found");return o.events.remove(n),void o.events.add(t)}var a={};a.oldEvent=new e.Event(t.copy(),o),a.newEvent=new e.Event(t.temp(),o);var r=new e.Action(o,"EventUpdate",a,i);return t.commit(),o.S&&o.Ic({eventsOnly:!0}),o.Ae.notify(),r},this.events.remove=function(t,i){if("string"!=typeof t&&"number"!=typeof t){var n={};n.e=new e.Event(t.data,o);var a=new e.Action(o,"EventRemove",n,i),r=e.indexOf(o.events.list,t.data);return o.events.list.splice(r,1),o.S&&o.Ic({eventsOnly:!0}),o.Ae.notify(),a}var s=o.events.find(t);if(!s)throw new e.Exception("The event to be removed was not found");o.events.remove(s)},this.events.add=function(t,i){t instanceof e.Event||(t=new e.Event(t)),t.calendar=o,o.events.list||(o.events.list=[]),o.events.list.push(t.data);var n={};n.e=t;var a=new e.Action(o,"EventAdd",n,i);return o.S&&o.Ic({eventsOnly:!0}),o.Ae.notify(),a},this.events.filter=function(e){o.events.ve=e,o.Ic({eventsOnly:!0})},this.events.load=function(t,i,n){var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(t){var n,r=t.request;try{n=JSON.parse(r.responseText)}catch(t){var s={};return s.exception=t,void a(s)}if(e.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof i&&i(l),l.preventDefault.value)return;o.events.list=n,o.S&&o.Ic({eventsOnly:!0})}};if(o.eventsLoadMethod&&"POST"===o.eventsLoadMethod.toUpperCase())e.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:t,success:r,error:a});else{var s=t,l="start="+o.visibleStart().toString()+"&end="+o.visibleEnd().toString();s+=s.indexOf("?")>-1?"&"+l:"?"+l,e.ajax({method:"GET",url:s,success:r,error:a})}},this.events.forRange=function(t,i){return t=new e.Date(t),i=new e.Date(i),e.list(o.events.list).filter(function(n){var a=new e.Date(n.start),o=new e.Date(n.end);return e.Util.overlaps(t,i,a,o)}).map(function(t){return new e.Event(t,o)})},this.events.$b=function(t){if(!t)throw new e.Exception("Error checking overlap for null (internal error)");var i=t instanceof e.Event?t.data:t,n=new e.Date(i.start),a=new e.Date(i.end);return!!e.list(o.events.list).find(function(t){if(o.Ec(i,t))return!1;if("Resources"==o.viewType&&i.resource!==t.resource)return!1;if(t.allday)return!1;var r=new e.Date(t.start),s=new e.Date(t.end);return e.Util.overlaps(n,a,r,s)})},this.Ec=function(t,i){return e.Util.isSameEvent(t,i)},this.wa={},this.wa.reactDOM=null,this.wa.react=null,this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw new e.Exception("DayPilot.Action object required for queue.add()");o.queue.list.push(t)}},this.queue.notify=function(e){var t={};t.actions=o.queue.list,o.ha("Notify",t,e,"Notify"),o.queue.list=[]},this.queue.clear=function(){o.queue.list=[]},this.queue.pop=function(){return o.queue.list.pop()},this.Ic=function(e){if(this.S&&this.eb){var t=!(e=e||{}).eventsOnly;o.cssOnly||(o.cssOnly=!0),o.ba(),t?(this.I()||(o.cellProperties={}),o.ea.clearCache(),o.pa(),o.Be(),o.Ka(),o.Ma(),o.Oa(),o.Pa(),o.Na(),o.Qa(),o.Ra(),o.W(),o.Sa(),o.Zb(),o.Ta(),o.Ua(),o.Va(),o.Wa(),o.Ce(),o.Za(),o.$a(),o.Xa(),o.ab()):(o.pa(),o.Ma(),o.Na(),o.Za(),o.$a(),o.ab()),this.visible?this.show():this.hide()}},this.update=function(t){if(!o.S)throw new e.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet.");if(o.T)throw new e.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");if(o.S){if(e.Util.isOnlyProperty(t,"events"))return o.events.list=t.events,void o.Ic({eventsOnly:!0});this.De(t),this.Ic(),"function"==typeof o.onAfterRender&&o.onAfterRender({isUpdate:!0,data:null})}else o.De(t)},this.Ce=function(){if(o.nav.top.className!==o.G("_main")){o.nav.top.className=o.G("_main");var e=o.nav.corner;e.className=o.G("_corner"),e.firstChild.className=o.G("_corner_inner");var t=o.nav.unifiedCornerRight;t&&(t.firstChild.className=o.G("_cornerright"),t.firstChild.firstChild.className=o.G("_cornerright_inner"))}},this.show=function(){o.visible=!0,o.nav.top.style.display="",o._a(),o.jc()},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.Ae={},this.Ae.scope=null,this.Ae.notify=function(){o.Ae.scope&&o.Ae.scope.$apply()},this.debug=new e.Debug(this),this.Pd=function(t,i){if(t<0)return null;o.rtl&&(t=o.nav.main.offsetWidth-t);var n=0,a=o.nav.events.rows[0].cells;if(e.browser.ie&&!i){for(var r=a.length-1;r>=0;r--)if(t<(n+=a[r].offsetWidth))return r}else for(r=0;r<a.length;r++)if(t<(n+=a[r].offsetWidth))return r;return null},this.bc=function(e,t){t||(t=this.startDate);var i=t.getTime(),n=e.getTime(),a=this.P.pixels[n+"_"+i];if(a)return a;this.kb(!0),i=t.addHours(this.kb(!0)).getTime();var o=60*this.cellDuration*1e3,r=n-i,s=r%o,l=r-s,c=l+o;0===s&&(c=l);var d={cut:!1};return d.top=this.Ld(r),d.boxTop=this.Ld(l),d.boxBottom=this.Ld(c),this.P.pixels[n+"_"+i]=d,d},this.Ld=function(e){return Math.floor(this.cellHeight*e/(6e4*this.cellDuration))},this.Be=function(){this.startDate=new e.Date(this.startDate).getDatePart(),this.Ee=s.allDayEventHeight()+4},this.Na=function(){var e=this.lb(),t=this.cd();if(this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=e+"px"),this.nav.mid&&(this.nav.mid.style.height=e+"px"),this.showAllDayEvents&&this.nav.header)for(var i=this.nav.header.rows[this.nav.header.rows.length-1],n=0;n<i.cells.length;n++)i.cells[n].firstChild.style.height=s.allDayHeaderHeight()+"px";this.nav.upperRight&&(this.nav.upperRight.style.height=e+"px"),this.nav.scroll.style.top=e+"px",this.nav.top.style.height=t+"px"},this.Ua=function(){var e=this.dd();this.nav.scroll&&e>0&&(this.nav.scroll.style.height=e+"px",this.kc=o.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=e+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=e+"px")),this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.cd()+"px"},this.setHeight=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-this.lb(),this.Ua()},this.Fe=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.G(e),document.body.appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;document.body.removeChild(t);var a={};return a.height=i,a.width=n,a},this.ea={};var s=this.ea;s.da=function(){return"Disabled"!==o.xssProtection},s.locale=function(){return e.Locale.find(o.locale)},s.weekStarts=function(){return"number"==typeof o.weekStarts?o.weekStarts:s.locale().weekStarts},s.timeFormat=function(){return"Auto"!==o.timeFormat?o.timeFormat:this.locale().timeFormat},s.useBox=function(e){return"Always"===o.useEventBoxes||"Never"!==o.useEventBoxes&&e<60*o.cellDuration*1e3},s.notifyType=function(){var t;if("Immediate"===o.notifyCommit)t="Notify";else{if("Queue"!==o.notifyCommit)throw new e.Exception("Invalid notifyCommit value: "+o.notifyCommit);t="Queue"}return t},s.clearCache=function(){delete o.P.allDayEventHeight,delete o.P.allDayHeaderHeight,delete o.P.headerHeight},s.allDayEventHeight=function(){if(o.P.allDayEventHeight)return o.P.allDayEventHeight;var e=o.Fe("_alldayevent_height").height;return e||(e=o.allDayEventHeight),o.P.allDayEventHeight=e,e},s.allDayHeaderHeight=function(){if(o.P.allDayHeaderHeight)return o.P.allDayHeaderHeight;var e=o.Ee;return o.P.allDayHeaderHeight=e,e},s.headerHeight=function(){if(o.P.headerHeight)return o.P.headerHeight;var e=o.Fe("_header_height").height;return e||(e=o.headerHeight),o.P.headerHeight=e,e},this.exportAs=function(t,i){if(!o.ce())throw new e.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");var n=l.generate(t,i);return new e.Export(n)},this.Ge={};var l=this.Ge;l.He=null,l.Ie=null,l.generate=function(t,i){"object"==typeof t&&(i=t,t=null);var n=(i=i||{}).scale||1;if("config"!==(t=t||i.format||"svg")){"jpg"===t.toLowerCase()&&(t="jpeg");var a=i.area||"viewport";l.He=i,l.Ie=a;var r,c=l.getWidth(),d=l.getHeight();switch(t.toLowerCase()){case"svg":r=new e.Svg(c,d);break;case"png":r=new e.Canvas(c,d,"image/png",n);break;case"jpeg":r=new e.Canvas(c,d,"image/jpeg",n,i.quality);break;default:throw new e.Exception("Export format not supported: "+t)}var h=l.getRectangles(),u=new e.StyleReader(o.nav.top).getBackColor(),f=new e.StyleReader(o.nav.top).get("border-top-color");"0px"!==new e.StyleReader(o.nav.top).get("border-top-width")||(f="white");var p=new e.StyleReader(o.nav.corner.firstChild).getBackColor(u),v=o.nav.hourTable.rows[0].cells[0].firstChild.firstChild,m=new e.StyleReader(v).get("border-right-color"),g=new e.StyleReader(v).getBackColor(u),b=new e.StyleReader(v).getFont(),y=new e.StyleReader(v.firstChild.childNodes[1]).getFont(),w=new e.StyleReader(v.firstChild.childNodes[1]).getPx("padding-right"),x=new e.StyleReader(v).get("color"),k=o.nav.header.rows[0].cells[0].firstChild.firstChild,C=new e.StyleReader(k).getBackColor(u),_=new e.StyleReader(k).getFont(),D=new e.StyleReader(k).get("color"),S=new e.StyleReader(k).get("border-right-color"),E=o.nav.header.rows[o.nav.header.rows.length-1].cells[0].firstChild,T=E.firstChild,A=new e.StyleReader(E).getBackColor(u),P=new e.StyleReader(T).getBackColor(A),M=new e.StyleReader(o.nav.main.rows[0].cells[0].firstChild.firstChild).get("border-right-color"),H=l.fakeCell(),R=new e.StyleReader(H.firstChild).getBackColor();e.Util.addClass(H,o.G("_cell_business"));var B=new e.StyleReader(H.firstChild).getBackColor();e.de(H);var I,N=l.getViewportOffsetTop();I="Fixed"===o.columnWidthSpec?o.columnWidth:h.gridContent.w/o.eb.length,r.fillRect(h.main,"white"),r.fillRect(h.main,u);var O=h.corner.h-N;e.list.for(o.qd(),function(e){return o.vd(e)}).forEach(function(e){var t=o.sd(),i=e.sup,n=e.hour,a={x:0,y:O,w:h.grid.x+1,h:t+1},s={x:0,y:O,w:h.grid.x+1-20,h:t+1},l={x:s.w,y:O,w:20-w-1,h:t+1};r.fillRect(a,g),r.text(s,n,b,x,"right"),r.text(l,i,y,x,"right"),r.rect(a,m),O+=t});var L=60*o.cellDuration*1e3,U=h.grid.x;e.list(o.eb).forEach(function(t,i){var n=I,a=h.grid.y-N;e.list.for(o.ob()).forEach(function(s,c){var d=o.Jd(i,c)||{},h=null;if(d.cssClass){var u=l.fakeCell();e.Util.addClass(u,d.cssClass),h=new e.StyleReader(u.firstChild).getBackColor(),e.de(u)}var f=o.cellHeight,p={x:U,y:a,w:n+1,h:f+1},v=d.business,m={cell:{}};m.cell.start=t.start.addTime(c*L).addHours(o.kb()),m.cell.end=m.cell.start.addTime(L),m.cell.resource=t.id,e.Util.copyProps(d,m.cell,["cssClass","html","backImage","backRepeat","backColor","business"]),m.backColor=h||(v?B:R),"function"==typeof o.onBeforeCellExport&&o.onBeforeCellExport(m),r.fillRect(p,m.backColor),r.rect(p,M),a+=f}),U+=n});var j=h.grid.x;e.list(o.eb).forEach(function(t){e.list(t.events).forEach(function(t){var i=t.cache||t.data,n=l.fakeEvent();n.className+=" "+i.cssClass;var a=n.firstChild,s=n.childNodes[1],c=new e.StyleReader(a).getBackColor(),d=new e.StyleReader(a.firstChild).getBackColor(),u=new e.StyleReader(a.firstChild).getPx("width"),f=new e.StyleReader(s).get("border-right-color"),p=new e.StyleReader(s).getFont(),v=new e.StyleReader(s).get("color"),m=new e.StyleReader(s).getBackColor(),g={};g.left=new e.StyleReader(s).getPx("padding-left"),g.right=new e.StyleReader(s).getPx("padding-right"),g.top=new e.StyleReader(s).getPx("padding-top"),g.bottom=new e.StyleReader(s).getPx("padding-bottom"),e.de(n);var b=j+I*t.part.left/100,y=(I-o.columnMarginRight)*t.part.width/100,w=t.part.top+h.grid.y-o.cc()-N,x=t.part.height,k=i.backColor||m,C=i.barColor||d,_=i.barBackColor||c,D={};D.e=t,D.text=t.text?t.text():t.client.html(),D.fontSize=p.size,D.fontFamily=p.family,D.fontStyle=p.style,D.fontColor=v,D.backColor=k,D.borderColor=f,D.horizontalAlignment="left",D.barWidth=u,D.barColor=C,D.barBackColor=_,"function"==typeof o.onBeforeEventExport&&o.onBeforeEventExport(D);var S={x:b,y:w,w:y+1,h:x+1},E=e.Util.copyProps(S);t.client.barVisible()&&(E.x+=u,E.w-=u);var T=e.Util.copyProps(E);if(T.x+=g.left,T.w-=g.left+g.right,T.y+=g.top,T.h-=g.top+g.bottom,r.fillRect(S,D.backColor),t.client.barVisible()){var A={x:S.x,y:S.y+1+t.part.barTop,w:D.barWidth,h:t.part.barHeight+1};r.fillRect({x:S.x,y:S.y,w:D.barWidth,h:S.h},D.barBackColor),r.fillRect(A,D.barColor)}r.text(T,D.text,{size:D.fontSize,family:D.fontFamily,style:D.fontStyle},D.fontColor,D.horizontalAlignment),r.rect(S,D.borderColor),b=S.x;var P=S.x+S.w-2;w=S.y,e.list(i.areas).forEach(function(i){if(e.Areas.isVisible(i)){var n=i.left;i.start&&(n=o.getPixels(new e.Date(i.start)).left-t.part.left);var a=i.width||i.w,s=i.height||i.h;n||(n=P-a-b),i.right?a=t.part.width-i.right-n:i.end&&(a=o.getPixels(new e.Date(i.end)).left-i.left-t.part.left+1);var l=i.top;"number"==typeof i.bottom&&(s=t.part.height-i.bottom-l);var c={x:b+n,y:w+l,w:a,h:s};if(i.backColor&&r.fillRect(c,i.backColor),i.image){var d=new Image;d.src=i.image,r.image(c,d)}else i.html&&r.text(c,i.html,{size:D.fontSize,family:D.fontFamily,style:D.fontStyle},i.fontColor||D.fontColor,null,i.padding)}})}),j+=I}),r.fillRect(h.corner,p);var z=1;return"Fixed"!==o.columnWidthSpec&&(z=h.gridContent.w/100),e.list.for(o.headerLevels).forEach(function(t){var i=h.gridContent.x,n=o.headerHeight*t,a=o.Lc(t+1),s=o.Vd(t);e.list(a).forEach(function(a,l){var c={};c.text=e.Util.stripTags(a.html),c.horizontalAlignment="center",c.verticalAlignment="center",c.backColor=a.backColor||C,c.fontSize=_.size,c.fontFamily=_.family,c.fontStyle=_.style,c.fontColor=D,c.header={},c.header.level=t,e.Util.copyProps(a,c.header,["id","start","name","html","backColor"]),"function"==typeof o.onBeforeHeaderExport&&o.onBeforeHeaderExport(c);var d=0===s.length,h={x:d?i:i+s[l].left*z,y:n,w:(d?I:s[l].width*z)+1,h:o.headerHeight+1};r.fillRect(h,c.backColor),r.rect(h,S),r.text(h,c.text,{size:c.fontSize,family:c.fontFamily,style:c.fontStyle},c.fontColor,c.horizontalAlignment,0,c.verticalAlignment),d&&(i+=I)})}),function(){if(o.showAllDayEvents){var t=o.headerHeight*o.headerLevels,i=h.gridContent.x;e.list(o.eb).forEach(function(e){var n=I,a=s.allDayHeaderHeight(),o={x:i,y:t,w:n+1,h:a+1};r.fillRect(o,P),r.rect(o,S),i+=I}),e.list(o.Pc.lines).forEach(function(t,i){e.list(t).forEach(function(t){var n=l.fakeEvent("alldayevent");n.className+=" "+t.data.cssClass;var a=n.firstChild,c=new e.StyleReader(a).get("border-right-color"),d=new e.StyleReader(a).getFont(),u=new e.StyleReader(a).get("color"),f=new e.StyleReader(a).getBackColor(),p={};p.left=new e.StyleReader(a).getPx("padding-left"),p.right=new e.StyleReader(a).getPx("padding-right"),p.top=new e.StyleReader(a).getPx("padding-top"),p.bottom=new e.StyleReader(a).getPx("padding-bottom"),e.de(n);var v=(t.cache||t.data).backColor||f,m={};m.e=t,m.text=t.text?t.text():t.client.html(),m.fontSize=d.size,m.fontFamily=d.family,m.fontStyle=d.style,m.fontColor=u,m.backColor=v,m.borderColor=c,m.horizontalAlignment="left","function"==typeof o.onBeforeEventExport&&o.onBeforeEventExport(m);var g=t.part.colStart*I+h.gridContent.x+2,b=t.part.colWidth*I-4,y=s.allDayEventHeight()-1,w={x:g,y:o.headerLevels*s.headerHeight()+i*s.allDayEventHeight()+2,w:b,h:y},x=e.Util.copyProps(w);x.x+=p.left,x.w-=p.left+p.right,x.y+=p.top,x.h-=p.top+p.bottom,r.fillRect(w,m.backColor),r.text(x,m.text,{size:m.fontSize,family:m.fontFamily,style:m.fontStyle},m.fontColor,m.horizontalAlignment),r.rect(w,m.borderColor)})})}}(),r.rect(h.main,f),r.line(h.grid.x,0,h.grid.x,h.main.h,m),r.line(0,h.grid.y,h.main.w,h.grid.y,m),r}},l.fakeCell=function(){var e=document.createElement("div");e.style.display="none",e.className=o.G("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=document.createElement("div");return t.className=o.G("_cell_inner"),e.appendChild(t),o.nav.bottomRight.appendChild(e),e},l.fakeEvent=function(e){e=e||"event";var t=document.createElement("div");if(t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.style.display="none",t.className=o.G("_"+e),"event"===e){var i=document.createElement("div");i.className=o.G("_event_bar");var n=document.createElement("div");n.className=o.G("_event_bar_inner"),i.appendChild(n),t.appendChild(i)}var a=document.createElement("div");a.className=o.G("_"+e+"_inner"),t.appendChild(a);var r=o.nav.events.rows[0].cells[0].events;return"alldayevent"===e&&(r=o.nav.allday),r.appendChild(t),t},l.getViewportOffsetTop=function(){switch(l.Ie){case"full":return 0;case"viewport":case"range":return o.Y().scrollTop}},l.getWidth=function(){var t=l.Ie,i=o.eb.length,n=Math.floor((o.nav.top.clientWidth-o.hourWidth)/i)*i+o.hourWidth;switch(t){case"viewport":case"full":case"range":return"number"==typeof l.He.width?l.He.width:n;default:throw new e.Exception("Unsupported export mode: "+t)}},l.getHeight=function(){var t=l.Ie;switch(t){case"full":return o.Z()+o.lb();case"viewport":return o.nav.top.offsetHeight-e.sh(o.nav.scroll)-1;default:throw new e.Exception("Unsupported export mode: "+t)}},l.getRectangles=function(){var e=l.getRowHeaderWidth(),t=o.lb(),i={};i.main={x:0,y:0,w:l.getWidth(),h:l.getHeight()},i.corner={x:0,y:0,w:e,h:t},i.grid={x:e,y:t,w:l.getWidth()-e,h:l.getHeight()-t};var n=l.innerWidth(),a=o.Z();return i.gridContent={x:e,y:t,w:n,h:a},i},l.getRowHeaderWidth=function(){return o.hourWidth},l.innerWidth=function(){var e=o.Y().offsetWidth,t=o.eb.length;return Math.floor(e/t)*t},this.Je=function(){return!!this.backendUrl},this.Ke=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new e.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new e.Exception("DayPilot.Calendar: The placeholder element not found: '"+i+"'.")}!function(e,t,i){for(var n=[],a=0;a<e.length;a++)n.push(e.charCodeAt(a)-1);new Function("t","u",String.fromCharCode.apply(this,n))(t,i)}("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",this,this.nav.top)},this.Le=function(){this.Ke(),this.Be(),this.Ka(),this.ed(),this.Oa(),this.Pa(),this.Sa(),this.Va(),this.be(),this.me(),this.ya(),this.Wa(),t.register(this),this._a(),this.Xa(),this.ee(),this.bb(),this.ha("Init")},this.init=function(){if(this.S)throw new e.Exception("This instance is already initialized. Use update() to change properties.");if(this.Ke(),this.nav.top.dp){if(this.nav.top.dp===o)return o;if(this.ma())return o;throw new e.Exception("The target placeholder was already initialized by another DayPilot component instance.")}this.bd();var i=this.Je();return o.cssOnly||(o.cssOnly=!0,e.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),i?(this.Le(),this.S=!0,this):(this.Be(),this.Ka(),this.La(),this.events.list||(this.events.list=[]),this.Ma(),this.ed(),this.Oa(),this.Pa(),this.Sa(),this.Ya(),this.Wa(),this.Va(),this.be(),this.me(),this.ya(),t.register(this),this.Na(),this.Za(),this.$a(),this._a(),this.messageHTML&&window.setTimeout(function(){o.message(o.messageHTML)},0),this.Xa(),this.Ha(null,!1),o.initEventEnabled&&setTimeout(function(){o.ha("Init")}),this.ee(),this.bb(),this.S=!0,this.Me(),this)},this.Ne=null,this.De=function(t){if(t){var i={events:{preInit:function(){var t=this.data;t&&(o.events.list=e.isArray(t.list)?t.list:t)}},columns:{preInit:function(){o.Ja()===o.columns?o.columns=this.data:o.columns.list=this.data}},scrollToHour:{postInit:function(){void 0!==this.data&&o.scrollToHour(this.data)}}};for(var n in this.Ne=i,t)if(i[n]){var a=i[n];a.data=t[n],a.preInit&&a.preInit()}else o[n]=t[n]}},this.Me=function(){var e=this.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return o.S},this.internal.invokeEvent=this.Ab,this.internal.eventMenuClick=this.Ob,this.internal.timeRangeMenuClick=this.Pb,this.internal.bubbleCallBack=this.Mb,this.internal.findEventDiv=this.ze,this.internal.eventDeleteDispatch=this.zb,this.internal.xssTextHtml=o.ca,this.internal.touch=this.Xc,this.internal.enableReact=function(e,t){o.wa.react=e,o.wa.reactDOM=t},this.internal.reactRefs=function(){return e.Util.copyProps(o.wa,{},["react","reactDOM"])},this.Init=this.init,this.De(n)};var t={topSelectedCell:null,bottomSelectedCell:null,column:null,firstSelected:null,firstMousePos:null,originalMouse:null,originalHeight:null,originalTop:null,globalHandlers:!1,editing:!1,originalText:null,register:function(e){t.registered||(t.registered=[]);for(var i=t.registered,n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)},unregister:function(i){var n=t.registered;if(n){var a=e.indexOf(n,i);-1!==a&&n.splice(a,1),0===n.length&&(n=null)}n||(e.ue(document,"mousemove",t.gMouseMove),e.ue(document,"mouseup",t.gMouseUp),e.ue(document,"touchmove",t.gTouchMove),e.ue(document,"touchend",t.gTouchEnd),t.globalHandlers=!1)},getCellsAbove:function(e){if(e.data&&e.data.calendar.N){for(var i=e.data.calendar,n=[],a=e.data.x,o=t.firstSelected.data.y,r=e.data.y;r>=o;r--)n.push(i.nav.main.rows[r].cells[a]);return n}n=[];for(var s=t.getColumn(e),l=e.parentNode,c=null;l&&c!==t.firstSelected;)for(c=l.getElementsByTagName("td")[s],n.push(c),l=l.previousSibling;l&&"TR"!==l.tagName;)l=l.previousSibling;return n},getCellsBelow:function(e){if(e.data&&e.data.calendar.N){for(var i=e.data.calendar,n=[],a=e.data.x,o=t.firstSelected.data.y,r=e.data.y;r<=o;r++)n.push(i.nav.main.rows[r].cells[a]);return n}n=[];for(var s=t.getColumn(e),l=e.parentNode,c=null;l&&c!==t.firstSelected;)for(c=l.getElementsByTagName("td")[s],n.push(c),l=l.nextSibling;l&&"TR"!==l.tagName;)l=l.nextSibling;return n},getColumn:function(e){var t=0;if(!e)return null;for(;e.previousSibling;)"TD"===(e=e.previousSibling).tagName&&t++;return t},gTouchMove:function(i){if(!e.Util.isMouseEvent(i)&&t.drag){i.preventDefault();var n=i.touches?i.touches[0].pageY:i.pageY,a={};a.x=i.touches?i.touches[0].pageX:i.pageX,a.y=n;var o=function(){for(var e=document.elementFromPoint(i.touches?i.touches[0].clientX:i.clientX,i.touches?i.touches[0].clientY:i.clientY);e&&e.parentNode;)if((e=e.parentNode).daypilotMainD)return e.calendar;return!1}();if(o){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,o.coords=o.Xc.relativeCoords(i),!t.movingShadow&&o.coords&&(l=o.db(t.drag,!1))){t.movingShadow=l;var r=e.Date.today(),s=(i={value:t.drag.id,start:r,end:r.addSeconds(t.drag.duration),text:t.drag.text},new e.Event(i,o));s.external=!0,e.Global.moving={},e.Global.moving.event=s,e.Global.moving.helper={}}e.Global.moving&&o.Xc.updateMoving()}else{var l;e.de(t.movingShadow),e.Util.removeClass(e.Global.moving,o.G("_event_moving_source")),e.Global.moving=null,t.movingShadow=null,t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType)),(l=t.gShadow).style.left=a.x+"px",l.style.top=a.y+"px"}}},gTouchEnd:function(i){e.Util.isMouseEvent(i)||t.gMouseUp(i)},gMouseMove:function(i){if(void 0!==t&&!(i.insideMainD||i.srcElement&&i.srcElement.inside)){var n=e.mc(i);if(t.drag){var a=t.drag.data,o="move";"string"==typeof a.externalCursor&&(o=a.externalCursor),document.body.style.cursor=o,t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType));var r=t.gShadow,s=n.y-5;r.style.left=n.x-5+"px",r.style.top=s+"px",r.style.cursor=o,a.externalHtml&&(r.innerHTML=a.externalHtml),a.externalCssClass&&e.Util.addClass(r,a.externalCssClass),e.Global.moving=null,e.de(t.movingShadow),t.movingShadow=null}for(var l=0;l<t.registered.length;l++)t.registered[l].Aa&&t.registered[l].Aa()}},gUnload:function(e){if(t.registered)for(var i=t.registered,n=0;n<i.length;n++)t.unregister(i[n])},gMouseUp:function(i){if(i=i||window.event,e.Global.resizing){if(!t.resizingShadow)return e.Global.resizing.style.cursor="default",e.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(e.Global.resizing=null);var n=e.Global.resizing.dpBorder,a=t.resizingShadow.clientHeight,o=t.resizingShadow.offsetTop,r=t.resizingShadow.args,s=(l=e.Global.resizing.event).calendar;if(e.Global.resizing.style.cursor="default",s.nav.top.style.cursor="auto",e.Global.resizing.onclick=null,e.Global.resizing=null,!r.allowed)return void s.Fb();l.calendar.Eb(l,a,o,n)}else if(e.Global.moving){var l,c=function(){e.Global.movingAreaData=null;var i=e.Global.moving&&e.Global.moving.event&&e.Global.moving.event.calendar;i&&e.Util.removeClass(e.Global.moving,i.G("_event_moving_source")),e.Global.moving=null,e.de(t.movingShadow),t.movingShadow=null};if(!e.Global.moving.helper)return void c();if(!t.movingShadow)return e.Global.moving.event.calendar.nav.top.style.cursor="auto",void c();o=t.movingShadow.offsetTop,(s=(l=e.Global.moving.event).calendar).Ca=r;var d=t.movingShadow.column,h=t.drag;if(e.Global.moving.event.calendar.nav.top.style.cursor="auto",r=t.movingShadow.args,h&&(l.calendar.todo||(l.calendar.todo={}),l.calendar.todo.del=h.element),!r.allowed)return s.Jb(),void c();var u=i||window.event;l.calendar.Ib(l,d,o,u,h),c()}else if(e.Global.selecting){var f=function(){var i=e.Global.selecting,n=e.Global.selecting.calendar;if(t.firstMousePos=null,e.Global.selecting=null,i.args.allowed)if("Disabled"==n.timeRangeDoubleClickHandling){var a=n.getSelection();n.Qb(a.start,a.end,a.resource)}else n.dc=setTimeout(function(){var e=n.getSelection();n.Qb(e.start,e.end,e.resource)},n.doubleClickTimeout);else n.clearSelection()};e.Global.selecting&&null!==t.topSelectedCell?f():t.selectedTimeout=setTimeout(f,100)}else if(t.firstMousePos){if(s=t.firstMousePos.calendar,e.Global.selecting={},e.Global.selecting.calendar=s,s.Zb(),!e.Global.selecting.args.allowed)return;if(t.firstMousePos=null,e.Global.selecting=null,"Disabled"==s.timeRangeDoubleClickHandling){var p=s.getSelection();s.Qb(p.start,p.end,p.resource)}else s.dc=setTimeout(function(){var e=s.getSelection();s.Qb(e.start,e.end,e.resource)},s.doubleClickTimeout)}t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null),t.moveOffsetY=null},dragStart:function(i,n,a,o,r){e.us(i);var s=t.drag={};return s.element=i,s.duration=n,s.text=o,s.id=a,s.shadowType=r||"Fill",s.data={id:a,text:o,duration:n,externalHtml:o},!1}};e.Calendar.makeDraggable=function(i){function n(){var e=t.drag={};e.element=o,e.id=i.id,e.duration=i.duration||60,e.text=i.text||"",e.data=i,e.shadowType="Fill"}var a=i.element,o=i.keepElement?null:a;navigator.msPointerEnabled&&(a.style.msTouchAction="none",a.style.touchAction="none");var r=function(e){n();var t=e.target||e.srcElement;if(t.tagName){var i=t.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault&&e.preventDefault(),!1},s=function(i){e.Util.isMouseEvent(i)||(window.setTimeout(function(){n(),t.gTouchMove(i),i.preventDefault()},0),i.preventDefault())};e.us(a),e.re(a,"mousedown",r),e.re(a,e.touch.start,s),a.cancelDraggable=function(){e.ue(a,"mousedown",r),e.ue(a,e.touch.start,s),delete a.cancelDraggable}},t.createGShadow=function(e){var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.border="2px dotted #666666",t.style.zIndex=10,t.style.pointerEvents="none","Fill"===e&&(t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.style.border="2px solid #aaaaaa"),document.body.appendChild(t),t},t.moveShadow=function(e){var i=t.movingShadow;i.parentNode&&i.parentNode.removeChild(i),e.firstChild.appendChild(i),i.style.left="0px",i.style.width="",i.style.right="0px"},e.Column=function(t,i){var n=this;n.id=t.id,n.name=t.name,n.date=new e.Date(t.start),n.calendar=i,n.events={},n.events.all=function(){for(var i=e.list(),n=0;n<t.events.length;n++)i.push(t.events[n]);return i},n.events.isEmpty=function(){return 0===t.events.length},n.events.forRange=function(i,a){i=new e.Date(i),a=a?new e.Date(a):t.visibleEnd();for(var o=e.list(),r=0;r<n.events.length;r++){var s=n.events[r];e.Util.overlaps(s.start(),s.end(),i,a)&&o.push(s)}return o},n.events.totalDuration=function(){var t=0;return n.events.all().forEach(function(e){t+=e.part.end.getTime()-e.part.start.getTime()}),new e.Duration(t)},n.value=t.id,n.toJSON=function(){var e={};return e.id=this.id,this.date&&(e.date=this.date.toString()),e.name=this.name,e.value=this.value,e}},"undefined"!=typeof jQuery&&(jQuery.fn.daypilotCalendar=function(t){var i=null,n=this.each(function(){if(!this.daypilot){var n=new e.Calendar(this.id,t);n.init(),this.daypilot=n,i||(i=n)}});return 1===this.length?i:n}),function(){var t=e.am();t&&t.directive("daypilotCalendar",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i.replaceWith(this.template.replace("{{id}}",n.id)),function(i,n,a){var o=new e.Calendar(n[0]);o.Ae.scope=i,o.init();var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,t(s).assign)(i,o),a)0===l.indexOf("on")&&(e.Util.shouldApply(l)?function(e){o[e]=function(n){var o=t(a[e]);i.$apply(function(){o(i,{args:n})})}}(l):function(e){o[e]=function(n){t(a[e])(i,{args:n})}}(l));var c=i.$watch,d=a.events||a.daypilotEvents;c.call(i,a.config||a.daypilotConfig,function(e,t){for(var i in e)o[i]=e[i];o.update()},!0),c.call(i,d,function(e){o.events.list=e,o.Ic({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){void 0===e.DatePicker&&(e.DatePicker=function(t){this.v="2021.2.4931";var i="navigator_"+(new Date).getTime(),n=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.targetAlignment="left",this.resetTarget=!0,this.pattern=this.ea.locale().datePattern,this.theme="navigator_default",this.patterns=[],this.zIndex=null,t)for(var e in t)this[e]=t[e]},this.init=function(){this.date=new e.Date(this.date);var t=this.Oe();this.resetTarget&&!t?this.Pe(this.date):this.resetTarget||(n.date=t);var i=this.Qe();return i&&i.addEventListener("input",function(){n.date=n.Oe(),n.date&&n.navigator.select(n.date,{dontNotify:!0})}),document.addEventListener("mousedown",function(){n.close()}),this},this.close=function(){this.ce&&(this.ce=!1,this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.setDate=function(t){this.date=new e.Date(t),this.Pe(this.date)},this.Oe=function(){var t,i=this.Qe();if(!i)return this.date;if(!(t="INPUT"===i.tagName?i.value:i.innerText))return null;for(var a=e.Date.parse(t,n.pattern),o=0;o<n.patterns.length;o++){if(a)return a;a=e.Date.parse(t,n.patterns[o])}return a},this.Pe=function(e){var t=this.Qe();if(t){var i=e.toString(n.pattern,n.locale);"INPUT"===t.tagName?t.value=i:t.innerHTML=i}},this.ea={},this.ea.locale=function(){return e.Locale.find(n.locale)},this.Qe=function(){var e=this.target;return e&&e.nodeType&&1===e.nodeType?e:document.getElementById(e)},Object.defineProperty(this,"visible",{get:function(){return n.ce}}),this.show=function(){if(!this.ce){var t=this.Qe(),a=this.navigator;(a=new e.Navigator(i)).api=2,a.cssOnly=!0,a.theme=n.theme,a.weekStarts="Auto",a.locale=n.locale,a.onTimeRangeSelected=function(e){n.date=e.start;var t=e.start.addTime(a.Re),i=t.toString(n.pattern,n.locale);(e={}).start=t,e.date=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(e),e.preventDefault.value)||(n.Pe(i),n.close(),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(e))},this.navigator=a;var o=e.abs(t),r=t.offsetHeight,s=n.targetAlignment,l=document.createElement("div");l.style.position="absolute","left"===s&&(l.style.left=o.x+"px"),l.style.top=o.y+r+"px",n.zIndex&&(l.style.zIndex=n.zIndex);var c=document.createElement("div");c.id=i,l.appendChild(c),l.addEventListener("mousedown",function(e){(e=e||window.event).cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}),document.body.appendChild(l),this.div=l;var d=n.Oe()||(new e.Date).getDatePart();a.startDate=d,a.Re=d.getTimePart(),a.selectionDay=d.getDatePart(),a.init(),"right"===s&&(l.style.left=o.x+t.offsetWidth-a.nav.top.offsetWidth+"px"),this.ce=!0,this.onShow&&this.onShow()}},this.prepare(),this.init()})}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){void 0===e.Gantt&&(e.Gantt=function(t,i){this.v="2021.2.4931";var n=this;this.id=t,this.isGantt=!0;var a=new e.Scheduler(t);this.scheduler=a,a.viewType="Resources",a.onCallBackHeader=function(e){e.header.taskGroupMode=n.taskGroupMode,e.header.rowHeaderColumns=n.columns,e.header.clientState=n.clientState},a.onGetNodeState=function(e){e.result=function(e){var t=e.task,i={};return i.start=t.start,i.end=t.end,i.id=t.id,i.complete=t.complete,i.text=t.text,i.type=t.type,i.expanded=e.expanded,i.loaded=e.loaded,i.tags=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t}(t),i.versions=t.versions,i.children=a.internal.getNodeChildren(e.children),i}(e.row),e.preventDefault()},a.Se=function(e){},a.onCallBackResult=function(t){var i=t.result;t.preventDefault();var o=function(){i.scrollToTaskId&&a.scrollToResource(i.scrollToTaskId)};if("None"!==i.updateType){var r=function(e){for(var t=0;t<e.length;t++){var a=e[t];void 0!==i[a]&&(n[a]=i[a])}};n.links.list=i.links,n.tasks.list=i.tasks,n.startDate=new e.Date(i.startDate),r(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),r(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),s.translate(),s.Te(),s.Ue(),a.update(),a.show(),o()}else o()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag","function"==typeof e.Bubble?(this.bubbleTask=new e.Bubble,this.bubbleCell=new e.Bubble,this.bubbleRow=new e.Bubble):(this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null),this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerText="",this.cornerHtml=null,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=30,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=17,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=34,this.taskHtmlLeftMargin=20,this.taskHtmlRightMargin=20,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAnimation=!0,this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=0,this.treeImageMarginTop=3,this.treeImageMarginRight=5,this.treeImageWidth=10,this.treeImageHeight=10,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.xssProtection="Enabled",this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskVersionPosition="Above",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.tasksLoadMethod="GET",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(e){e&&(n.links.list.push(e.isLink?e.data:e),n.S&&(s.Ue(),a.update()),n.Ae.notify())},this.links.remove=function(t){if(t){var i=e.indexOf(n.links.list,t.isLink?t.data:t);-1!==i&&(n.links.list.splice(i,1),n.S&&(s.Ue(),a.update()),n.Ae.notify())}},this.links.find=function(t){if(!e.isArray(n.links.list))return null;for(var i=0;i<n.links.list.length;i++){var a=n.links.list[i];if(a.id===t)return new e.Link(a,n)}return null},this.links.findByFromTo=function(t,i){if(!e.isArray(n.links.list))return null;for(var a=0;a<n.links.list.length;a++){var o=n.links.list[a];if(o.from===t&&o.to===i)return new e.Link(o,n)}return null},this.links.load=function(e,t,i){a.links.load(e,function(e){"function"==typeof t&&(t(e),e.preventDefault.value)||(n.links.list=e.data)},i,{dontAddStartEnd:!0})},this.Ve={};var o=this.Ve;o.timeout=null,o.update=function(){n.S&&(window.clearTimeout(o.timeout),o.timeout=setTimeout(function(){s.Te(),a.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(t){if(t){if(t instanceof e.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";n.tasks.list.push(t.isTask?t.data:t),o.update(),n.Ae.notify()}},this.tasks.find=function(t){var i=r.findInCache(t);return i?new e.Task(i,n):null},this.tasks.update=function(e){if(e){var t=null;if(e.isTask)e.commit(),t=e.data;else{if("object"!=typeof e)throw"DayPilot.Task or task data object expected";t=e}var i=n.tasks.find(t.id);if(i){var a=r.findParentArray(i.data),s=a.indexOf(i.data);a.splice(s,1,t),o.update(),n.Ae.notify()}}},this.tasks.remove=function(t){if(t){if(!t.isTask)throw"DayPilot.Task object expected";var i=r.findParentArray(t.data);if(i){var a=e.indexOf(i,t.data);i.splice(a,1),o.update(),n.Ae.notify()}}},this.tasks.load=function(t,i,a){if(!t)throw new e.Exception("events.load(): 'url' parameter required");var o=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof a&&a(t)},r=function(t){var a,r=t.request;try{a=JSON.parse(r.responseText)}catch(t){var s={};return s.exception=t,void o(s)}if(e.isArray(a)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=a,"function"==typeof i&&i(l),l.preventDefault.value)return;n.tasks.list=a,n.S&&n.update()}};n.tasksLoadMethod&&"POST"===n.tasksLoadMethod.toUpperCase()?e.ajax({method:"POST",contentType:"application/json",url:t,success:r,error:o}):e.ajax({method:"GET",url:t,success:r,error:o})},this.visibleStart=function(){return a.visibleStart()},this.visibleEnd=function(){return a.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onBeforeCornerRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.I=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.We=function(){if("string"==typeof n.startDate&&(n.startDate=new e.Date(n.startDate)),!n.startDate||!n.days){var t=e.Date.today(),i=t.addDays(1),o=null,r=null;(function n(a){for(var s=0;s<a.length;s++){var l=a[s];t=new e.Date(l.start),i=new e.Date(l.end),(null===o||t.getTime()<o)&&(o=t.getTime()),(null===r||i.getTime()>r)&&(r=i.getTime()),l.children&&l.children.length>0&&n(l.children)}})(n.tasks.list),o&&r?(t=new e.Date(o).getDatePart(),i=new e.Date(r).getDatePart().addDays(1),a.startDate=n.startDate||t,a.days=n.days||e.DateUtil.daysDiff(t,i)):(a.startDate=t,a.days=30)}},this.Xe=function(e,t,i){},this.commandCallBack=function(e,t){s.translate(),a.commandCallBack(e,t)},this.message=function(e,t,i,n){a.message(e,t,i,n)},this.setHeight=function(e){a.setHeight(e)},this.Je=function(){return!!this.backendUrl},this.init=function(){if(this.S)throw new e.Exception("This instance is already initialized. Use update() to change properties.");return s.translate(),s.Te(),s.Ue(),this.We(),a.init(),this.S=!0,this.Me(),this},this.T=!1,this.dispose=function(){a.dispose(),n.T=!0},this.update=function(t){if(!n.S)throw new e.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet.");if(n.T)throw new e.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed.");n.De(t),s.translate(),s.Te(),s.Ue(),n.We(),a.update()},this.scrollTo=function(e){a.scrollTo(e)},this.scrollToTask=function(e){a.scrollToResource(e)},this.Ye={};var r=this.Ye;r.cache={},r.clearCache=function(){r.cache={}},r.addToCache=function(e,t){var i=e.id;if(i){var n={isTaskWrapper:!0};if(n.data=e,n.parent=t,r.cache[i])throw"Duplicate task id detected";r.cache[i]=n}},r.findInCache=function(e){return e?r.cache[e.toString()]:null},r.getProperty=function(e,t){return e.tags&&e.tags[t]?e.tags[t]:e[t]},r.findParentArray=function(e){return r.findInArray(n.tasks.list,e)},r.findInArray=function(t,i){if(-1!==e.indexOf(t,i))return t;for(var n=0;n<t.length;n++){var a=t[n];if(a.children&&a.children.length>0){var o=r.findInArray(a.children,i);if(o)return o}}return null},this.Ze={};var s=this.Ze;s.translate=function(){if(a.internal.gantt=n,a.durationBarMode="PercentComplete",a.timeRangeSelectedHandling="Disabled",a.treeEnabled=!0,a.rowCreateHtml="",a.rowHeaderColumnsMode="Legacy",a.autoRefreshCommand=n.autoRefreshCommand,a.autoRefreshEnabled=n.autoRefreshEnabled,a.autoRefreshInterval=n.autoRefreshInterval,a.autoRefreshMaxCount=n.autoRefreshMaxCount,a.autoScroll=n.autoScroll,a.backendUrl=n.backendUrl,a.crosshairType=n.crosshairType,a.doubleClickTimeout=n.doubleClickTimeout,a.durationBarVisible=n.completeBarVisible,a.durationBarHeight=n.completeBarHeight,a.dynamicEventRendering=n.progressiveTaskRendering,a.dynamicEventRenderingMargin=n.progressiveTaskRenderingMargin,a.dynamicEventRenderingCacheSweeping=n.progressiveTaskRenderingCacheSweeping,a.dynamicEventRenderingCacheSize=n.progressiveTaskRenderingCacheSize,a.startDate=new e.Date(n.startDate),a.days=n.days,a.cellDuration=n.cellDuration,a.cellGroupBy=n.cellGroupBy,a.cellWidth=n.cellWidth,a.cellWidthSpec=n.cellWidthSpec,a.cornerHtml=n.cornerHtml,a.cornerText=n.cornerText,a.eventHeight=n.taskHeight,a.eventResizeMargin=n.taskResizeMargin,a.floatingEvents=n.floatingTasks,a.floatingTimeHeaders=n.floatingTimeHeaders,a.headerHeight=n.headerHeight,a.heightSpec=n.heightSpec,a.height=n.height,a.linkBottomMargin=n.linkBottomMargin,a.linkPointSize=n.linkPointSize,a.loadingLabelVisible=n.loadingLabelVisible,a.loadingLabelText=n.loadingLabelText,a.loadingLabelHtml=n.loadingLabelHtml,a.locale=n.locale,a.messageBarPosition=n.messageBarPosition,a.messageHideAfter=n.messageHideAfter,a.rowCreateHandling=n.rowCreateHandling,a.progressiveRowRendering=n.progressiveRowRendering,a.progressiveRowRenderingPreload=n.progressiveRowRenderingPreload,a.scale=n.scale,a.scrollDelayEvents=n.scrollDelayTasks,a.scrollDelayCells=n.scrollDelayCells,a.scrollDelayFloats=n.scrollDelayFloats,a.scrollX=n.scrollX,a.scrollY=n.scrollY,n.scrollToTaskId&&(a.scrollToResourceId=n.scrollToTaskId),a.separators=n.separators,a.tapAndHoldTimeout=n.tapAndHoldTimeout,a.eventHtmlLeftMargin=n.taskHtmlLeftMargin,a.eventHtmlRightMargin=n.taskHtmlRightMargin,a.eventMovingStartEndEnabled=n.taskMovingStartEndEnabled,a.eventMovingStartEndFormat=n.taskMovingStartEndFormat,a.eventResizingStartEndEnabled=n.taskResizingStartEndEnabled,a.eventResizingStartEndFormat=n.taskResizingStartEndFormat,a.hideUntilInit=n.hideUntilInit,a.treeIndent=n.treeIndent,a.treeAnimation=n.treeAnimation,a.treeAutoExpand=n.treeAutoExpand,a.treeImageMarginLeft=n.treeImageMarginLeft,a.treeImageMarginTop=n.treeImageMarginTop,a.treeImageMarginRight=n.treeImageMarginRight,a.treeImageWidth=n.treeImageWidth,a.treeImageHeight=n.treeImageHeight,a.timeHeaders=n.timeHeaders,a.rowHeaderHideIconEnabled=n.rowHeaderHideIconEnabled,a.rowHeaderScrolling=n.rowHeaderScrolling,a.rowHeaderSplitterWidth=n.rowHeaderSplitterWidth,a.rowHeaderWidth=n.rowHeaderWidth,a.rowHeaderWidthAutoFit=n.rowHeaderWidthAutoFit,a.rowMarginBottom=n.rowMarginBottom,a.rowMinHeight=n.rowMinHeight,a.selectedRows=n.selectedRows,a.theme=n.theme,a.useEventBoxes=n.useEventBoxes,a.snapToGrid=n.snapToGrid,a.uniqueID=n.uniqueID,a.bubble=n.bubbleTask,a.cellBubble=n.bubbleCell,a.resourceBubble=n.bubbleRow,a.contextMenu=n.contextMenuTask,a.contextMenuResource=n.contextMenuRow,a.contextMenuLink=n.contextMenuLink,a.syncResourceTree=n.syncTasks,a.syncLinks=n.syncLinks,a.timeline=n.timeline,a.visible=n.visible,a.devsb=n.devsb,a.xssProtection=n.xssProtection,a.eventMoveHandling=n.taskMoveHandling,a.eventClickHandling=n.taskClickHandling,a.eventResizeHandling=n.taskResizeHandling,a.linkCreateHandling=n.linkCreateHandling,a.eventRightClickHandling=n.taskRightClickHandling,a.eventDoubleClickHandling=n.taskDoubleClickHandling,a.rowMoveHandling=n.rowMoveHandling,a.rowClickHandling=n.rowClickHandling,a.rowDoubleClickHandling=n.rowDoubleClickHandling,a.rowEditHandling=n.rowEditHandling,a.rowSelectHandling=n.rowSelectHandling,a.eventVersionsEnabled=n.taskVersionsEnabled,a.eventVersionHeight=n.taskVersionHeight,a.eventVersionMargin=n.taskVersionMargin,a.eventVersionPosition=n.taskVersionPosition,e.isArray(n.columns)){a.rowHeaderColumns=[];for(var t=0;t<n.columns.length;t++){var i={};e.Util.copyProps(n.columns[t],i,["html","text","name","title","width","hidden"]),a.rowHeaderColumns.push(i)}}n.I()&&(a.timeHeader=n.timeHeader,a.cellProperties=n.cellProperties,a.cellConfig=n.cellConfig),a.onRowCreate=function(e){"function"==typeof n.onRowCreate&&n.onRowCreate(e)},a.onRowCreated=function(e){"function"==typeof n.onRowCreated&&n.onRowCreated(e)},a.onAfterRender=function(e){"function"==typeof n.onAfterRender&&n.onAfterRender(e)},a.onAfterUpdate=function(e){"function"==typeof n.onAfterUpdate&&n.onAfterUpdate(e)},a.onRowHeaderResized=function(e){n.rowHeaderWidth=a.rowHeaderWidth},a.onAjaxError=function(e){"function"==typeof n.onAjaxError&&n.onAjaxError(e)},a.onRowHeaderColumnResized=function(t){for(var i=e.indexOf(a.rowHeaderColumns,t.column),o=0;o<n.columns.length;o++)n.columns[o].width=a.rowHeaderColumns[o].width;if("function"==typeof n.onColumnResized){var r={};r.column=n.columns[i],n.onColumnResized(r)}},a.internalUseStandardColumns=e.isArray(n.columns),a.onBeforeRowHeaderRender=function(t){t.task=new e.Task(t.row.$.row.task,n);var i=t.row.$.row.events[0];i&&"Auto"===n.taskGroupMode&&"Group"===i.data.type&&(t.task.data.start=i.data.start,t.task.data.end=i.data.end);var o=[];if(e.isArray(n.columns))for(var s=0;s<n.columns.length;s++){var l=n.columns[s],c={};c.value=a.internal.xssTextHtml(r.getProperty(t.task.data,l.display||l.property)),c.html=t.task.data.row&&t.task.data.row.columns&&t.task.data.row.columns[s]?t.task.data.row.columns[s].html:c.value,o.push(c)}t.row.columns=o,"function"==typeof n.onBeforeRowHeaderRender&&n.onBeforeRowHeaderRender(t)},a.onBeforeCellRender=function(e){e.task=n.tasks.find(e.cell.resource),delete e.cell.resource,"function"==typeof n.onBeforeCellRender&&n.onBeforeCellRender(e)},a.onBeforeCornerRender=function(e){"function"==typeof n.onBeforeCornerRender&&(e.control=n,n.onBeforeCornerRender(e))},a.onBeforeTimeHeaderRender=function(e){"function"==typeof n.onBeforeTimeHeaderRender&&n.onBeforeTimeHeaderRender(e)},a.onEventClick=function(t){t.task=new e.Task(t.e,n),"function"==typeof n.onTaskClick&&n.onTaskClick(t)},a.onEventClicked=function(e){"function"==typeof n.onTaskClicked&&n.onTaskClicked(e)},a.onEventDelete=function(e){"function"==typeof n.onTaskDelete&&n.onTaskDelete(e)},a.onEventDeleted=function(e){"function"==typeof n.onTaskDeleted&&n.onTaskDeleted(e)},a.onEventDoubleClick=function(t){t.task=new e.Task(t.e,n),"function"==typeof n.onTaskDoubleClick&&n.onTaskDoubleClick(t)},a.onEventDoubleClicked=function(e){"function"==typeof n.onTaskDoubleClicked&&n.onTaskDoubleClicked(e)},a.onEventRightClick=function(t){t.task=new e.Task(t.e,n),"function"==typeof n.onTaskRightClick&&n.onTaskRightClick(t)},a.onEventRightClicked=function(e){"function"==typeof n.onTaskRightClicked&&n.onTaskRightClicked(e)},a.onRowMoving=function(t){t.$e=t.source,t._e=t.target,t.source=new e.Task(t.$e.$.row.task,n),t.target=new e.Task(t._e.$.row.task,n),"function"==typeof n.onRowMoving&&n.onRowMoving(t)},a.onRowMove=function(t){t.$e=t.source,t._e=t.target,t.source=new e.Task(t.$e.$.row.task,n),t.target=new e.Task(t._e.$.row.task,n),"function"==typeof n.onRowMove&&n.onRowMove(t),t.source=t.$e,t.target=t._e},a.onRowMoved=function(t){if("Update"===n.rowMoveHandling||"Notify"===n.rowMoveHandling){var i=t.$e.$.row.task,a=t._e.$.row.task,o=t.position;if("forbidden"===o)return;var s=t.$e.calendar.internal.gantt,l=s.Ye.findParentArray(i);if(!l)throw"Cannot find source node parent";var c=e.indexOf(l,i);l.splice(c,1);var d=r.findParentArray(a);if(!d)throw"Cannot find target node parent";var h=e.indexOf(d,a);switch(o){case"before":d.splice(h,0,i);break;case"after":d.splice(h+1,0,i);break;case"child":a.children||(a.children=[],a.expanded=!0),a.children.push(i)}n.Ae.notify(),n.update(),s!==n&&s.update()}t.source=new e.Task(t.$e.$.row.task,n),t.target=new e.Task(t._e.$.row.task,n),"function"==typeof n.onRowMoved&&n.onRowMoved(t)},a.onRowClick=function(t){t.task=new e.Task(t.resource.$.row.task,n),"function"==typeof n.onRowClick&&n.onRowClick(t)},a.onRowClicked=function(e){"function"==typeof n.onRowClicked&&n.onRowClicked(e)},a.onRowDoubleClick=function(t){t.task=new e.Task(t.resource.$.row.task,n),"function"==typeof n.onRowDoubleClick&&n.onRowDoubleClick(t)},a.onRowDoubleClicked=function(e){"function"==typeof n.onRowDoubleClicked&&n.onRowDoubleClicked(e)},a.onRowEdit=function(t){t.task=new e.Task(t.resource.$.row.task,n),"function"==typeof n.onRowEdit&&n.onRowEdit(t)},a.onRowEdited=function(e){"function"==typeof n.onRowEdited&&n.onRowEdited(e)},a.onRowSelect=function(t){t.task=new e.Task(t.row.$.row.task,n),"function"==typeof n.onRowSelect&&n.onRowSelect(t)},a.onRowSelected=function(e){"function"==typeof n.onRowSelected&&n.onRowSelected(e)},a.onEventMove=function(t){t.af=t.e,t.task=new e.Task(t.e,n),"function"==typeof n.onTaskMove&&n.onTaskMove(t)},a.onEventMoved=function(e){if("Auto"===n.taskGroupMode){var t=e.af,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),r=s.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),a.events.update(o),t=o}}n.Ae.notify(),"function"==typeof n.onTaskMoved&&n.onTaskMoved(e)},a.onEventMoving=function(t){t.task=new e.Task(t.e,n),t.af=t.e,delete t.position,delete t.overlapping,delete t.resource,"function"==typeof n.onTaskMoving&&n.onTaskMoving(t)},a.onEventResize=function(t){t.af=t.e,t.task=new e.Task(t.e,n),"function"==typeof n.onTaskResize&&n.onTaskResize(t)},a.onEventResized=function(e){if("Auto"===n.taskGroupMode){var t=e.af,i=t.data.task;for(i.start=t.start(),i.end=t.end();t.data.parent;){var o=a.events.find(t.data.parent.id),r=s.childrenStartEnd(t.data.parent);o.start(r.start),o.end(r.end),a.events.update(o),t=o}}n.Ae.notify(),"function"==typeof n.onTaskResized&&n.onTaskResized(e)},a.onEventResizing=function(t){t.task=new e.Task(t.e,n),t.af=t.e,"function"==typeof n.onTaskResizing&&n.onTaskResizing(t)},a.onLinkCreate=function(e){e.source=n.tasks.find(e.from),e.target=n.tasks.find(e.to),"function"==typeof n.onLinkCreate&&n.onLinkCreate(e)},a.onLinkCreated=function(e){"function"==typeof n.onLinkCreated&&n.onLinkCreated(e)},a.onResourceExpand=function(e){var t=e.resource.$.row.task;t.row||(t.row={}),t.row.collapsed=!1},a.onResourceCollapse=function(e){var t=e.resource.$.row.task;t.row||(t.row={}),t.row.collapsed=!0}},s.bf=function(e){for(var t=0;t<a.rowlist.length;t++){var i=a.rowlist[t];if(i.task===e)return a.internal.createRowObject(i)}return null},s.Ue=function(){a.links.list=n.links.list?n.links.list:[]},s.Te=function(){a.resources=[],a.events.list=[],r.clearCache(),s.cf(n.tasks.list,a.resources,null),l.sheet&&(l.sheet.commit(),l.sheet=null)},s.df=function(e){var t=e.type||"Task";e.children&&e.children.length&&(t="Group");var i={};for(var o in e)"children"!==o&&(i[o]=e[o]);var r={};return r.data=i,r.type=t,i.box||(i.box={}),void 0===i.box.html&&(i.box.text="Task"===r.type?(i.complete||0)+"%":""),void 0===i.box.htmlRight&&(i.box.htmlRight=a.internal.xssTextHtml(i.text)),"function"==typeof n.onBeforeTaskRender&&n.onBeforeTaskRender(r),r.type=t,r};var l={keys:{},sheet:null};s.ef=function(t){if(t.data.box&&!t.data.box.cssClass&&t.data.box.backColor&&"Task"!==t.type){var i=e.Util.normalizeColor(t.data.box.backColor),a=t.type+"_"+i.replace("#",""),o=n.theme,r=n.theme+"_"+a;return l.keys[a]||(l.keys[a]=!0,l.sheet||(l.sheet=e.sheet()),"Group"===t.type?(l.sheet.add("."+r+"."+o+"_task_group ."+o+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+i+"; filter: none; border: 0px none;"),l.sheet.add("."+r+"."+o+"_task_group."+o+"_event:before","content:''; border-color: transparent transparent transparent "+i+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),l.sheet.add("."+r+"."+o+"_task_group."+o+"_event:after","content:''; border-color: transparent "+i+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===t.type&&(l.sheet.add("."+r+"."+o+"_task_milestone ."+o+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+i+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),l.sheet.add("."+r+"."+o+"_browser_ie8 ."+o+"_task_milestone ."+o+"_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),r}},s.cf=function(t,i,o){if(e.isArray(t))for(var l=0;l<t.length;l++){var c=t[l];r.addToCache(c,o);var d=s.df(c),h=d.data,u=d.type,f={};if(e.Util.copyProps(h,f,["id","start","end","text","complete","tags","versions"]),e.Util.copyProps(h.box,f),f.parent=o,f.task=c,f.resource=h.id,f.commitCallback=function(e){return function(){e.task.start=e.start,e.task.end=e.end}}(f),"Group"==u){if(f.type="Group",f.html=h.box&&h.box.html||"",(v=s.ef(d))&&(f.cssClass=(f.cssClass||"")+" "+v),"Auto"===n.taskGroupMode){var p=s.childrenStartEnd(c);f.start=p.start,f.end=p.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else if("Milestone"===u){var v;f.html="",c.end=c.start,(v=s.ef(d))&&(f.cssClass=(f.cssClass||"")+" "+v),h.end=h.start,f.end=h.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=n.taskHeight,delete f.backColor}f.moveVDisabled=!0,f.htmlRight=h.box.htmlRight,f.htmlLeft=h.box.htmlLeft,a.events.list.push(f);var m={};m.task=c,e.Util.copyProps(h.row,m),m.name=h.text,m.id=h.id,m.children=[],m.expanded=!h.row||!h.row.collapsed,c.children&&c.children.length&&s.cf(c.children,m.children,c),i.push(m)}},s.childrenStartEnd=function(t){if(!t.children||!t.children.length){var i=t.start,n=t.end;return"Milestone"===t.type&&(n=i),{start:new e.Date(i),end:new e.Date(n)}}i=null,n=null;for(var a=0;a<t.children.length;a++){var o=s.childrenStartEnd(t.children[a]);(!i||o.start.getTime()<i.getTime())&&(i=o.start),(!n||o.end.getTime()>n.getTime())&&(n=o.end)}return{start:i,end:n}},this.rows={},this.rows.expand=function(e){a.rows.expand(e)},this.rows.expandAll=function(){a.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(e){a.rows.find(e.data.id)},this.rows.selection.clear=function(){a.rows.selection.clear()},this.rows.selection.get=function(){return a.rows.selection.get().map(function(t){return new e.Task(t.$.row.task,n)})},this.exportAs=function(e,t){return a.exportAs(e,t)},this.Ne=null,this.De=function(t){if(t){var i={tasks:{preInit:function(){var t=this.data;t&&(n.tasks.list=e.isArray(t.list)?t.list:t)}},links:{preInit:function(){var t=this.data;t&&(n.links.list=e.isArray(t.list)?t.list:t)}},scrollTo:{postInit:function(){this.data&&n.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&n.scrollToTask(this.data)}}};for(var a in this.Ne=i,t)if(i[a]){var o=i[a];o.data=t[a],o.preInit&&o.preInit()}else n[a]=t[a]}},this.Me=function(){var e=this.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return n.S},this.internal.rowObjectForTaskData=s.bf,this.internal.loadOptions=n.De,this.Ae={},this.Ae.scope=null,this.Ae.notify=function(){n.Ae.scope&&n.Ae.scope.$apply()},this.De(i)},"undefined"!=typeof jQuery&&(jQuery.fn.daypilotGantt=function(t){var i=null,n=this.each(function(){if(!this.daypilot){var n=new e.Gantt(this.id,t);n.init(),this.daypilot=n,i||(i=n)}});return 1===this.length?i:n}),function(){var t=e.am();t&&t.directive("daypilotGantt",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i.replaceWith(this.template.replace("{{id}}",n.id)),function(i,n,a){var o=new e.Gantt(n[0]);o.Ae.scope=i,o.init();var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,t(s).assign)(i,o),a)0===l.indexOf("on")&&(e.Util.shouldApply(l)?function(e){o[e]=function(n){var o=t(a[e]);i.$apply(function(){o(i,{args:n})})}}(l):function(e){o[e]=function(n){t(a[e])(i,{args:n})}}(l));i.$watch.call(i,a.config||a.daypilotConfig,function(e,t){o.De(e),o.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){void 0===e.Kanban&&(e.Kanban=function(t,i){this.v="2021.2.4931";var n=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairType="Disabled",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.columnWidthSpec="Auto",this.columnWidth=200,this.cornerHtml=null,this.contextMenuCard=null,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.cardRightClickHandling="ContextMenu",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardRightClick=null,this.onCardRightClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var a=new e.Scheduler(t);this.scheduler=a;var o={},r=new e.Date("2000-01-01");o.translate=function(){var t=a;t.startDate=r,t.scale="Day",t.timeHeaders=[{groupBy:"Cell",format:"d"}],t.rowHeaderColumnsMode="Legacy",t.heightSpec=n.heightSpec,t.cellWidthSpec=n.columnWidthSpec,t.cellWidth=n.columnWidth,t.cellsMarkBusiness=!1,t.cornerHtml=n.cornerHtml,t.crosshairType=n.crosshairType,t.dynamicEventRendering="Disabled",t.floatingEvents=!1,t.floatingTimeHeaders=!1,t.rowMinHeight=n.rowMinHeight,t.rowMarginTop=n.cellMarginTop,t.rowMarginBottom=n.cellMarginBottom,t.devsb=n.devsb,t.eventMoveToPosition=!0,t.headerHeight=n.columnHeaderHeight,t.eventResizeHandling="Disabled",t.timeRangeSelectedHandling="Disabled",t.eventHeight=n.cardHeight,t.eventMarginLeft=n.cardMarginLeft,t.eventMarginRight=n.cardMarginRight,t.eventMarginBottom=n.cardMarginBottom,t.eventTextWrappingEnabled=!0,t.durationBarVisible=!1,t.theme=n.theme,t.visible=n.visible,t.rowHeaderWidth=n.swimlaneHeaderWidth,t.contextMenu=n.contextMenuCard,t.eventDeleteHandling=n.cardDeleteHandling,t.eventMoveHandling=n.cardMoveHandling,t.rowMoveHandling=e.list(n.swimlanes.list).isEmpty()?"Disabled":n.swimlaneMoveHandling,t.eventRightClickHandling=n.cardRightClickHandling,t.onHeightChanged=n.onHeightChanged,t.internal.enableCellStacking(n.cardAutoHeight),t.internal.cssNames.timeheadercol="_colheadercell",t.internal.cssNames.timeheadercolInner="_colheadercell_inner",t.internal.cssNames.resourcedivider="_rowheaderdivider",t.internal.cssNames.event="_card",t.internal.cssNames.eventInner="_card_inner",t.internal.cssNames.eventDelete="_card_delete",t.internal.cssNames.eventMovingSource="_card_moving_source",n.swimlaneCollapsingEnabled&&(t.rowHeaderWidthMarginRight=15),t.onBeforeTimeHeaderRender=function(t){var i=n.gf(t.header.start);t.header.html=i.name,t.header.toolTip=i.toolTip||"",t.header.areas=e.list(i.areas).map(function(t){var i=[];return e.Util.copyProps(t,i),i}),e.list(t.header.areas).forEach(function(t){t.target=new e.KanbanColumn(i,n)}),"Disabled"!==n.columnMoveHandling&&t.header.areas.push({left:0,top:0,width:20,height:20,css:n.theme+"_columnmove_handle",mousedown:n.hf,action:"None"})},t.onBeforeCellRender=function(i){var a={cell:{}};a.cell.column=new e.KanbanColumn(n.gf(i.cell.start),n),a.cell.swimlane=null;var o=n.if(i.cell.resource);o&&(a.cell.swimlane=new e.Swimlane(o,n)),a.cell.areas=[],a.cell.cssClass=null,a.cell.html=null,a.cell.backImage=null,a.cell.backRepeat=null,a.cell.backColor=null,"function"==typeof n.onBeforeCellRender&&(n.onBeforeCellRender(a),e.Util.copyProps(a.cell,i.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),e.list(i.cell.areas).forEach(function(e){e.target={swimlane:a.cell.swimlane,column:a.cell.column}}));var r=t.rows.find(i.cell.resource);t.resources[r.index].collapsed&&(i.cell.cssClass||(i.cell.cssClass=""),i.cell.cssClass+=" "+n.theme+"_collapsed")},t.onEventClick=function(t){var i=new e.Args(t);i.card=new e.Card(t.e.data.card,n),"function"==typeof n.onCardClick&&n.onCardClick(i),t.wrapped=i},t.onEventClicked=function(e){"function"==typeof n.onCardClicked&&n.onCardClicked(e.wrapped)},t.onEventRightClick=function(t){var i=new e.Args(t);if(i.card=new e.Card(t.e.data.card,n),"function"==typeof n.onCardRightClick&&n.onCardRightClick(i),t.wrapped=i,!t.preventDefault.value){var a=t.e,o=i.card;switch(n.cardRightClickHandling){case"ContextMenu":var r=a.client.contextMenu();r?r.show(o):n.contextMenuCard&&n.contextMenuCard.show(o),t.preventDefault()}}},t.onEventRightClicked=function(e){"function"==typeof n.onCardRightClicked&&n.onCardRightClicked(e.wrapped)},t.onEventDelete=function(t){var i=new e.Args(t);i.card=new e.Card(t.e.data.card,n),"function"==typeof n.onCardDelete&&n.onCardDelete(i),t.wrapped=i},t.onEventDeleted=function(t){e.rfa(n.cards.list,t.e.data.card),"function"==typeof n.onCardDeleted&&n.onCardDeleted(t.wrapped)},t.onEventMove=function(t){t.external&&(t.e.data.card={id:t.e.data.id,name:t.e.data.name,text:t.e.data.text,barColor:t.e.data.barColor,barBackColor:t.e.data.barBackColor});var i=new e.Args(t);i.card=new e.Card(t.e.data.card,n),i.column=new e.KanbanColumn(n.gf(t.newStart)),i.position=t.position,i.external=t.external,i.swimlane="*"!==t.newResource?new e.Swimlane(n.if(t.newResource),n):null;for(var r=a.cells.find(t.newStart,t.newResource)[0].events(),s=t.position,l=null,c=s-1;r[c];){if(r[c].data!==t.e.data){l=new e.Card(r[c]);break}c-=1}for(var d=null,h=s;r[h];){if(r[h].data!==t.e.data){d=new e.Card(r[h]);break}h+=1}if(i.previous=l,i.next=d,"function"==typeof n.onCardMove&&n.onCardMove(i),t.wrapped=i,t.preventDefault(),!i.preventDefault.value){switch(n.cardMoveHandling){case"Update":var u=0;d?u=d.wrapped.data.sort[0]:l&&(u=l.wrapped.data.sort[0]),t.e.data.sort=[u,(new e.Date).toString()],e.rfa(n.cards.list,t.e.data.card);var f=0;d?f=e.indexOf(n.cards.list,d.data):l&&(f=e.indexOf(n.cards.list,l.data)+1);var p=n.gf(t.newStart);t.e.data.card.column=p.id,t.e.data.card.swimlane=t.newResource,n.cards.list.splice(f,0,t.e.data.card),o.updateSort(),a.internal.deleteDragSource(),n.update()}!function(){var i=t.wrapped,a=e.list(n.cards.list).find(function(e){return t.e.data.card===e});a.swimlane=i.swimlane?i.swimlane.data.id:null,a.column=i.column.data.id,"function"==typeof n.onCardMoved&&n.onCardMoved(i)}()}},t.onBeforeResHeaderRender=function(t){if(n.swimlaneCollapsingEnabled&&!e.list(n.swimlanes.list).isEmpty()){var i=n.theme+"_swimlane_collapse";t.resource.collapsed&&(i=n.theme+"_swimlane_expand"),t.resource.areas=[{right:0,top:0,height:15,width:15,action:"JavaScript",css:i,js:function(){n.jf(t.resource.index)}}]}},t.onRowMove=function(t){var i=new e.Args(t);t.wrapped=i,i.swimlane=new e.Swimlane(t.source.$.row.swimlane);var o=0;switch(t.position){case"before":o=t.target.index;break;case"after":o=t.target.index+1;break;default:throw"Unexpected target swimlane position: "+t.position}i.position=o,i.previous=null;for(var r=o-1;a.rowlist[r]&&a.rowlist[r].swimlane!==i.swimlane.data;)i.previous=new e.Swimlane(a.rowlist[r].swimlane),r-=1;i.next=null;for(var s=o;a.rowlist[s]&&a.rowlist[s].swimlane!==i.swimlane.data;)i.next=new e.Swimlane(a.rowlist[s].swimlane),s+=1;"function"==typeof n.onSwimlaneMove&&n.onSwimlaneMove(i)},t.onRowMoved=function(t){var i=t.wrapped;e.rfa(n.swimlanes.list,i.swimlane.data);var a=0;i.next?a=e.indexOf(n.swimlanes.list,i.next.data):i.previous&&(a=e.indexOf(n.swimlanes.list,i.previous.data)+1),n.swimlanes.list.splice(a,0,i.swimlane.data),"function"==typeof n.onSwimlaneMoved&&n.onSwimlaneMoved(i)},t.treePreventParentUsage=!0},o.loadCards=function(){var t=n.theme+"_card_header",i=n.theme+"_card_body",o=(new e.Date).toString();a.sortDirections=["asc","desc"],a.events.list=e.list(n.cards.list).map(function(a,s){var l=a.html||a.text||"",c=a.name||"",d={};return d.id=a.id,d.text=a.text,d.html="<div class='"+t+"'>"+c+"</div><div class='"+i+"'>"+l+"</div>",d.resource=a.swimlane,d.start=r.addDays(e.list(n.columns.list).findIndex(function(e){return a.column===e.id})),d.end=d.start.addDays(1),d.card=a,d.height=a.height,d.cssClass=a.cssClass,d.sort=[s,o],d.areas=e.list(a.areas).map(function(t){var i={};return e.Util.copyProps(t,i),t.js&&(i.js=function(i){t.js(new e.Card(i.data.card,n))}),i}),d.areas.push({left:0,width:5,top:0,bottom:0,backColor:a.barColor,cssClass:n.theme+"_card_bar"}),d})},o.updateSort=function(){var t=(new e.Date).toString();e.list(n.cards.list).forEach(function(e,i){var n=o.findSchedulerEventData(e);n&&(n.sort=[i,t])})},o.findSchedulerEventData=function(t){return e.list(a.events.list).find(function(e){return e.card===t})},o.loadSwimlanes=function(){var t=e.list(n.swimlanes.list);a.resources=t.map(function(e){var t={};return t.name=e.name,t.id=e.id,t.swimlane=e,e.collapsed&&(t.collapsed=!0,t.eventHeight=20,t.hideEvents=!0),t}),t.isEmpty()&&(a.resources=[{name:"",id:"*"}])},o.loadColumns=function(){var t=e.list(n.columns.list);a.days=t.length};var s={active:null,div:null,update:function(){s.clear();var e=s.findPosition();s.draw(e)},clear:function(){e.de(s.div),s.div=null},draw:function(e){var t=0;if(e>=a.itline.length){var i=a.itline[a.itline.length-1];t=i.left+i.width-3}else t=a.itline[e].left;var o=document.createElement("div");o.style.position="absolute",o.style.left=t+"px",o.style.width="3px",o.style.top=0,o.style.height=a.headerHeight+"px",o.className=n.theme+"_columnmove_position",s.div=o,a.nav.timeHeader.appendChild(o)},findPosition:function(){if(n.coords.x<0)return 0;var t=e.list(a.itline).findIndex(function(e){return n.coords.x<e.left+a.rowHeaderWidth+e.width/2});return-1===t?a.itline.length:t}};this.hf=function(e){s.active=e},this.gf=function(t){return n.columns.list[e.DateUtil.daysDiff(r,t)]},this.if=function(t){return e.list(n.swimlanes.list).find(function(e){return e.id===t})},this.message=function(e,t,i,n){a.message(e,t,i,n)},this.show=function(){n.visible=!0,a.show()},this.hide=function(){n.visible=!1,a.hide()},this.cards.add=function(t){t&&(n.cards.list.push(t&&t instanceof e.Card?t.data:t),n.update())},this.cards.remove=function(t){t&&(e.rfa(n.cards.list,t&&t instanceof e.Card?t.data:t),n.update())},this.cards.update=function(e){n.update()},this.cards.find=function(t){var i=e.list(n.cards.list).find(function(e){return t===e.id});return i?new e.Card(i,n):null},this.jf=function(t){e.list(n.swimlanes.list).isEmpty()||(n.swimlanes.list[t].collapsed=!n.swimlanes.list[t].collapsed),n.update()},this.init=function(){if(this.S)throw new e.Exception("This instance is already initialized. Use update() to change properties.");return o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),a.init(),n.me(),this.S=!0,this},this.T=!1,this.dispose=function(){a.dispose(),n.T=!0},this.update=function(t){var i=n;if(!i.S)throw new e.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet.");if(i.T)throw new e.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed.");n.De(t),o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),a.update()},this.me=function(){e.re(document,"mouseup",n.kf),e.re(document,"mousemove",n.lf)},this.Ae={},this.Ae.scope=null,this.Ae.notify=function(){n.Ae.scope&&n.Ae.scope.$apply()},this.Ne=null,this.De=function(t){if(t){var i={cards:{preInit:function(){var t=this.data;t&&(n.cards.list=e.isArray(t.list)?t.list:t)}},columns:{preInit:function(){var t=this.data;t&&(n.columns.list=e.isArray(t.list)?t.list:t)}},swimlanes:{preInit:function(){var t=this.data;t&&(n.swimlanes.list=e.isArray(t.list)?t.list:t)}}};for(var a in this.Ne=i,t)if(i[a]){var o=i[a];o.data=t[a],o.preInit&&o.preInit()}else n[a]=t[a]}},this.Me=function(){var e=this.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.loadOptions=n.De,this.De(i),this.ce=function(){var e=dp.nav.top;return!!e&&e.offsetWidth>0&&e.offsetHeight>0},this.ee=function(){var e=n,t=e.ce;t()||e.ge||(e.ge=setInterval(function(){t()&&(e.update(),clearInterval(e.ge))},100))},this.lf=function(t){n.coords=e.mo3(a.nav.top,t),s.active&&s.update()},this.kf=function(t){if(s.active){var i=s.active.source,a=s.findPosition(),o=n.gf(i.start),r=new e.Args;r.column=new e.KanbanColumn(o,n),r.position=a,r.previous=null,r.next=null;for(var l=null,c=r.position;0!==c&&!l;)o!==n.columns.list[c-1]&&(l=n.columns.list[c-1]),c-=1;l&&(r.previous=new e.KanbanColumn(l,n));var d=null;for(c=r.position;c<n.columns.list.length-1&&!d;)o!==n.columns.list[c]&&(d=n.columns.list[c]),c+=1;if(d&&(r.next=new e.KanbanColumn(d,n)),"function"==typeof n.onColumnMove&&n.onColumnMove(r),!r.preventDefault.value){if("Update"===n.columnMoveHandling){e.rfa(n.columns.list,r.column.data);var h=0;r.next?h=e.indexOf(n.columns.list,r.next.data):r.previous&&(h=e.indexOf(n.columns.list,r.previous.data)+1),n.columns.list.splice(h,0,r.column.data),n.update()}"function"==typeof n.onColumnMoved&&n.onColumnMove(r)}s.active=null,s.clear()}}},e.Kanban.makeDraggable=function(t){e.Scheduler.makeDraggable(t)},e.Card=function(t,i){t instanceof e.Event?(this.data=t.data.card,this.wrapped=t):this.data=t,this.control=i},e.KanbanColumn=function(e,t){this.data=e,this.control=t},e.Swimlane=function(e,t){this.data=e,this.control=t},function(){var t=e.am();t&&t.directive("daypilotKanban",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i.replaceWith(this.template.replace("{{id}}",n.id)),function(i,n,a){var o=new e.Kanban(n[0]);o.Ae.scope=i,o.init();var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,t(s).assign)(i,o),a)0===l.indexOf("on")&&(e.Util.shouldApply(l)?function(e){o[e]=function(n){var o=t(a[e]);i.$apply(function(){o(i,{args:n})})}}(l):function(e){o[e]=function(n){t(a[e])(i,{args:n})}}(l));i.$watch.call(i,a.config||a.daypilotConfig,function(e,t){o.De(e),o.update()},!0)}}}}])}())}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){if(void 0===e.Menu){var t={mouse:null,menu:null,handlersRegistered:!1,hideTimeout:null,waitingSubmenu:null};e.Menu=function(i){var n=this,a=null;this.v="2021.2.4931",this.zIndex=120,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.hideAfter=200,this.theme=null,this.onShow=null,this.A=function(){},i&&e.isArray(i)&&(this.items=i),this.toJSON=function(){return null},this.show=function(i,o){o=o||{};var r=null;if(i?"string"==typeof i.id||"number"==typeof i.id?r=i.id:"function"==typeof i.id?r=i.id():"function"==typeof i.value&&(r=i.value()):r=null,void 0!==e.Bubble&&e.Bubble.hideActive(),o.submenu||t.menuClean(),this.A.submenu=null,null!==t.mouse){n.cssOnly||(n.cssOnly=!0);var s=null;if(i&&i.isRow&&i.$.row.task?(s=new e.Task(i.$.row.task,i.calendar)).menuType="resource":s=i&&i.isEvent&&i.data.task?new e.Task(i,i.calendar):i,"function"==typeof n.onShow){var l={};if(l.source=s,l.menu=n,l.preventDefault=function(){l.preventDefault.value=!0},n.onShow(l),l.preventDefault.value)return}var c=document.createElement("div");if(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.display="none",c.style.overflow="hidden",c.style.zIndex=this.zIndex+1,c.className=this.applyCssClass("main"),c.onclick=function(e){e.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(c.onmousemove=function(e){clearTimeout(t.hideTimeout)},c.onmouseleave=function(e){n.delayedHide({hideParent:!0})}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var d=document.createElement("div");d.innerHTML=this.menuTitle,d.className=this.applyCssClass("title"),c.appendChild(d)}for(var h=0;h<this.items.length;h++){var u=this.items[h],f=document.createElement("div");if(e.Util.addClass(f,this.applyCssClass("item")),u.items&&e.Util.addClass(f,this.applyCssClass("item_haschildren")),void 0!==u&&!u.hidden){if("-"===u.text){var p=document.createElement("div");p.addEventListener("click",function(e){e.stopPropagation()}),f.appendChild(p)}else{var v=document.createElement("a");if(v.style.position="relative",v.style.display="block",u.cssClass&&e.Util.addClass(v,u.cssClass),u.disabled)e.Util.addClass(v,n.applyCssClass("item_disabled"));else if((u.onclick||u.onClick)&&(v.item=u,v.onclick=function(e,t){return function(i){if("function"==typeof e.onClick){var n={};if(n.item=e,n.source=t.source,n.originalEvent=i,n.preventDefault=function(){n.preventDefault.value=!0},e.onClick(n),n.preventDefault.value)return}e.onclick&&e.onclick.call(t,i)}}(u,v),v.ontouchstart=function(e){e.stopPropagation(),e.preventDefault(),v.source.calendar.internal.touch.active=!0},v.ontouchend=function(e,i){return function(n){n.stopPropagation(),n.preventDefault();var a=function(){window.setTimeout(function(){i.source.calendar.internal.touch.active=!1},500)};if("function"==typeof e.onClick){var o={};if(o.item=e,o.source=i.source,o.originalEvent=n,o.preventDefault=function(){o.preventDefault.value=!0},e.onClick(o),o.preventDefault.value)return void a()}e.onclick&&e.onclick.call(i,n),t.menuClean(),a()}}(u,v)),u.items&&!u.disabled&&(v.ontouchend=(m=function(e,t){return function(i){i.preventDefault(),i.stopPropagation(),n.mf(e,t)}})(u,v)),u.onclick);else if(u.href)v.href=u.href.replace(/\x7B0\x7D/gim,r),u.target&&v.setAttribute("target",u.target);else if(u.command){var m;v.onclick=(m=function(t,i){return function(n){var a=i.source,o=t;o.action=o.action?o.action:"CallBack";var r=a.calendar||a.root;if(a instanceof e.Link)r.internal.linkMenuClick(o.command,a,o.action);else if(a instanceof e.Selection)r.internal.timeRangeMenuClick(o.command,a,o.action);else if(a instanceof e.Event)r.internal.eventMenuClick(o.command,a,o.action);else if(a instanceof e.Selection)r.internal.timeRangeMenuClick(o.command,a,o.action);else if(a instanceof e.Task)"resource"===a.menuType?r.internal.resourceHeaderMenuClick(o.command,i.menuSource,o.action):r.internal.eventMenuClick(o.command,i.menuSource,o.action);else{switch(a.menuType){case"resource":return void r.internal.resourceHeaderMenuClick(o.command,a,o.action);case"selection":return void r.internal.timeRangeMenuClick(o.command,a,o.action);default:return void r.internal.eventMenuClick(o.command,a,o.action)}n.preventDefault()}}})(u,v),v.ontouchend=m(u,v)}u.items&&v.addEventListener("click",function(e){e.stopPropagation()}),v.source=s,v.menuSource=i;var g=document.createElement("span");if(g.className=n.applyCssClass("item_text"),g.innerHTML=e.Util.escapeTextHtml(u.text,u.html),v.appendChild(g),u.image){var b=document.createElement("img");b.src=u.image,b.style.position="absolute",b.style.top="0px",b.style.left="0px",v.appendChild(b)}if(u.icon){var y=document.createElement("span");y.className=n.applyCssClass("item_icon");var w=document.createElement("i");w.className=u.icon,y.appendChild(w),v.appendChild(y)}v.onmouseover=function(e,i){return function(){var a=e,o=t.waitingSubmenu;if(o){if(o.parent===a)return;clearTimeout(o.timeout),t.waitingSubmenu=null}e.disabled||(t.waitingSubmenu={},t.waitingSubmenu.parent=a,t.waitingSubmenu.timeout=setTimeout(function(){t.waitingSubmenu=null,n.mf(a,i)},300))}}(u,v),f.appendChild(v)}c.appendChild(f)}}var x=function(i){window.setTimeout(function(){t.menuClean(),e.MenuBar.deactivate()},100)};c.onclick=x,c.ontouchend=x,c.onmousedown=function(e){(e=e||window.event).cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},c.oncontextmenu=function(){return!1},document.body.appendChild(c),n.A.visible=!0,n.A.source=i,c.style.display="";var k=c.offsetHeight,C=c.offsetWidth;c.style.display="none";var _=document.documentElement.clientHeight,D=window.innerWidth,S="number"==typeof o.windowMargin?o.windowMargin:5;if(function(){var t=o.initiator;if(t){var i=t.div,n=t.area,r=t.a;if("Visible"!==(n.visibility||n.v||"Visible")&&(r=e.Areas.createArea(i,t.e,n),i.appendChild(r),a=r),r){var s=e.abs(r);o.x=s.x,o.y=s.y+s.h+2}}}(),function(){var e="number"==typeof o.x?o.x:t.mouse.x+1,i="number"==typeof o.y?o.y:t.mouse.y+1,n=document.body.scrollTop||document.documentElement.scrollTop,a=document.body.scrollLeft||document.documentElement.scrollLeft;c.style.top=i-n>_-k&&0!==_?i-(i-n-(_-k)+S)+"px":i+"px","right"===o.align&&(e-=C),c.style.left=e-a>D-C&&0!==D?e-(e-a-(D-C)+S)+"px":e+"px"}(),o.parentLink){var E=o.parentLink,T=parseInt(new e.StyleReader(c).get("border-top-width")),A=e.abs(o.parentLink.parentNode),P=A.x+E.offsetWidth,M=A.y-T;P+C>D&&(P=Math.max(0,A.x-C));var H=document.body.scrollTop+document.documentElement.scrollTop;M+k-H>_&&(M=Math.max(0,_-k+H)),c.style.left=P+"px",c.style.top=M+"px"}c.style.display="",this.addShadow(c),this.A.div=c,o.submenu||(e.Menu.active=this)}},this.mf=function(t,i){var a=t,o=i.source;if((!n.A.submenu||n.A.submenu.item!==t)&&(n.A.submenu&&n.A.submenu.item!==t&&(e.Util.removeClass(n.A.submenu.link.parentNode,n.applyCssClass("item_haschildren_active")),n.A.submenu.menu.hide(),n.A.submenu=null),t.items)){var r=n.cloneOptions();r.items=t.items,n.A.submenu={},n.A.submenu.menu=new e.Menu(r),n.A.submenu.menu.nf=n,n.A.submenu.menu.show(o,{submenu:!0,parentLink:i,parentItem:a}),n.A.submenu.item=t,n.A.submenu.link=i,e.Util.addClass(i.parentNode,n.applyCssClass("item_haschildren_active"))}},this.applyCssClass=function(e){var t=this.theme||this.cssClassPrefix;return t?t+(this.cssOnly?"_":"")+e:""},this.cloneOptions=function(){return e.Util.copyProps(o,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"])},this.hide=function(i){i=i||{},this.A.submenu&&this.A.submenu.menu.hide();var o=t.waitingSubmenu;o&&(t.waitingSubmenu=null,clearTimeout(o.timeout)),this.removeShadow(),this.A.div&&this.A.div.parentNode===document.body&&document.body.removeChild(this.A.div),a&&(e.de(a),a=null),n.A.visible=!1,n.A.source=null,n.nf&&i.hideParent&&n.nf.hide(i),e.Menu.active===n&&(e.Menu.active=null)},this.delayedHide=function(e){t.hideTimeout=setTimeout(function(){n.hide(e)},n.hideAfter)},this.cancelHideTimeout=function(){clearTimeout(t.hideTimeout)},this.init=function(e){return t.mouseMove(e),this},this.addShadow=function(e){},this.removeShadow=function(){};var o=e.isArray(i)?null:i;if(o)for(var r in o)this[r]=o[r]},e.MenuBar=function(t,i){var n=this;for(var a in i=i||{},this.items=[],this.theme="menubar_default",this.windowMargin=0,this.nav={},this.elements={},this.elements.items=e.list(),this.of=null,this.S=!1,i)this[a]=i[a];this.pf=function(e){return this.theme+"_"+e},this.Ya=function(){this.nav.top=document.getElementById(t);var i=this.nav.top;i.className=this.pf("main"),e.list(n.items).forEach(function(t){var a=document.createElement("span");a.innerHTML=e.Util.escapeTextHtml(t.text,t.html),a.className=n.pf("item"),t.cssClass&&a.classList.add(t.cssClass),a.data=t,a.onclick=function(e){if(n.active&&n.active.item===t)n.qf();else if(t.children)return void n.rf(a);if("function"==typeof t.onClick){var i={};i.item=t,i.originalEvent=e,t.onClick(i)}},a.onmousedown=function(e){e.stopPropagation()},a.onmouseover=function(){n.active&&n.active.item!==t&&n.rf(a)},i.appendChild(a),n.elements.items.push(a)})},this.qf=function(){var t=n.pf("item_active");n.elements.items.forEach(function(i){e.Util.removeClass(i,t)}),n.active&&n.active.menu&&n.active.menu.hide(),n.active=null},this.sf=function(e){return!!n.active&&n.active.item===e.data},this.rf=function(t){if(!n.sf(t)){n.qf();var i=t.data,a=n.active={};a.item=i,a.div=t;var o=n.pf("item_active");e.Util.addClass(t,o);var r=e.abs(t);if(i.children){a.menu=new e.Menu({items:i.children});var s=r.x;"right"===i.align&&(s+=r.w),a.menu.show(null,{x:s,y:r.y+r.h,align:i.align,windowMargin:n.windowMargin})}e.MenuBar.active=n}},this.init=function(){return this.Ya(),this.S=!0,this},this.dispose=function(){this.S&&(this.nav.top.innerHTML="",this.elements.items=[])}},e.MenuBar.deactivate=function(){e.MenuBar.active&&(e.MenuBar.active.qf(),e.MenuBar.active=null)},t.menuClean=function(){void 0!==e.Menu.active&&e.Menu.active&&(e.Menu.active.hide(),e.Menu.active=null)},t.mouseDown=function(i){void 0!==t&&(t.menuClean(),e.MenuBar.deactivate())},t.mouseMove=function(e){void 0!==t&&(t.mouse=t.mousePosition(e))},t.touchMove=function(e){void 0!==t&&(t.mouse=t.touchPosition(e))},t.touchStart=function(e){void 0!==t&&(t.mouse=t.touchPosition(e))},t.touchEnd=function(e){},t.touchPosition=function(e){if(!e||!e.touches)return null;var t=e.touches[0],i={};return i.x=t.pageX,i.y=t.pageY,i},t.mousePosition=function(t){return e.mo3(null,t)},e.Menu.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},e.Menu.hide=function(i){if((i=i||{}).calendar){var n=e.Menu.active;if(n){var a=n.A.source;a&&a.calendar===i.calendar&&t.menuClean()}}else t.menuClean()},t.handlersRegistered||(e.re(document,"mousemove",t.mouseMove),e.re(document,"mousedown",t.mouseDown),e.re(document,"touchmove",t.touchMove),e.re(document,"touchstart",t.touchStart),e.re(document,"touchend",t.touchEnd),t.handlersRegistered=!0),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),void 0===DayPilot&&(DayPilot={}),function(e){function t(e,i,n){var a=i.indexOf(".");if(-1!==a){var o=i.substring(0,a),r=i.substring(a+1),s=e[o];"object"==typeof s&&null!==s||(e[o]={},s=e[o]),t(s,r,n)}else e[i]=n}function i(e,t,n){for(var a in t=t||{},n=n||"",e){var o=e[a];"object"==typeof o?"[object Array]"===Object.prototype.toString.call(o)?t[n+a]=o:o&&o.toJSON?t[n+a]=o.toJSON():i(o,t,n+a+"."):t[n+a]=o}return t}if(!e.ModalStatic){e.ModalStatic={},e.ModalStatic.list=[],e.ModalStatic.hide=function(){if(this.list.length>0){var e=this.list.pop();e&&e.hide()}},e.ModalStatic.remove=function(t){for(var i=e.ModalStatic.list,n=0;n<i.length;n++)if(i[n]===t)return void i.splice(n,1)},e.ModalStatic.close=function(t){e.ModalStatic.result(t),e.ModalStatic.hide()},e.ModalStatic.result=function(t){var i=e.ModalStatic.list;i.length>0&&(i[i.length-1].result=t)},e.ModalStatic.displayed=function(t){for(var i=e.ModalStatic.list,n=0;n<i.length;n++)if(i[n]===t)return!0;return!1},e.ModalStatic.stretch=function(){if(this.list.length>0){var e=this.list[this.list.length-1];e&&e.stretch()}},e.ModalStatic.last=function(){var t=e.ModalStatic.list;return t.length>0?t[t.length-1]:null};var n=new function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e);var t=!!e.styleSheet;return{rules:[],commit:function(){try{t&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(e){}},add:function(i,n,a){if(t)this.rules.push(i+"{"+n+"}");else if(e.sheet.insertRule)void 0===a&&(a=e.sheet.cssRules.length),e.sheet.insertRule(i+"{"+n+"}",a);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(i,n,a)}}}};n.add(".modal_default_main","border: 10px solid #ccc; max-width: 90%;"),n.add(".modal_default_main:focus","outline: none;"),n.add(".modal_default_content","padding: 10px 0px;"),n.add(".modal_default_inner","padding: 20px;"),n.add(".modal_default_input","padding: 10px 0px;"),n.add(".modal_default_buttons","margin-top: 10px;"),n.add(".modal_default_buttons","padding: 10px 0px;"),n.add(".modal_default_form_item","padding: 10px 0px; position: relative;"),n.add(".modal_default_form_item_level1","border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),n.add(".modal_default_form_item.modal_default_form_title","font-size: 1.5rem; font-weight: bold;"),n.add(".modal_default_form_item input[type=text]","width: 100%; box-sizing: border-box;"),n.add(".modal_default_form_item textarea","width: 100%; height: 200px; box-sizing: border-box;"),n.add(".modal_default_form_item input[type=select]","width: 100%; box-sizing: border-box;"),n.add(".modal_default_form_item label","display: block;"),n.add(".modal_default_form_item select","width: 100%; box-sizing: border-box;"),n.add(".modal_default_form_item_label","margin: 2px 0px;"),n.add(".modal_default_form_item_image img","max-width: 100%; height: auto;"),n.add(".modal_default_form_item_invalid",""),n.add(".modal_default_form_item_invalid_message","position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),n.add(".modal_default_background","opacity: 0.5; background-color: #000;"),n.add(".modal_default_ok","padding: 3px; width: 80px;"),n.add(".modal_default_cancel","padding: 3px; width: 80px;"),n.add(".modal_default_form_item_date","position: relative;"),n.add(".modal_default_form_item_date:after","content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==)"),-1!==navigator.userAgent.indexOf("Edge")&&n.add(".modal_default_form_item_date input::-ms-clear","display: none;"),n.add(".modal_default_form_item_scrollable_scroll","width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),n.add(".modal_default_form_item_scrollable_scroll_content","padding: 5px;"),n.add(".modal_default_form_item_searchable","position: relative;"),n.add(".modal_default_form_item_searchable_icon",""),n.add(".modal_default_form_item_searchable_icon:after","content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K);"),n.add(".modal_default_form_item_searchable_list","box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),n.add(".modal_default_form_item_searchable_list_item","background: white; padding: 2px; cursor: default;"),n.add(".modal_default_form_item_searchable_list_item_highlight","background: #ccc;"),n.add(".modal_default_form_item_tabular_main","margin-top: 10px;"),n.add(".modal_default_form_item_tabular_table","display: table; width: 100%; background-color: #fff; border-collapse: collapse;"),n.add(".modal_default_form_item_tabular_tbody","display: table-row-group;"),n.add(".modal_default_form_item_tabular_row","display: table-row;"),n.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header",""),n.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction","padding: 0px; width: 23px;"),n.add(".modal_default_form_item_tabular_cell","display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),n.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell","padding-left: 0px; padding-bottom: 0px;"),n.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]","width:100%; box-sizing: border-box;"),n.add(".modal_default_form_item_tabular_table select","width:100%; height:100%; box-sizing: border-box;"),n.add(".modal_default_form_item_tabular_plus","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),n.add(".modal_default_form_item_tabular_plus:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),n.add(".modal_default_form_item_tabular_delete","display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),n.add(".modal_default_form_item_tabular_delete:after","content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),n.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus","display: none;"),n.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete","visibility: hidden;"),n.add(".modal_default_form_item_tabular_empty","height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),n.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell","padding: 0px;"),n.add(".modal_min_main","border: 1px solid #ccc; max-width: 90%;"),n.add(".modal_min_background","opacity: 0.5; background-color: #000;"),n.add(".modal_min_ok","padding: 3px 10px;"),n.add(".modal_min_cancel","padding: 3px 10px;"),n.add(".navigator_modal_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),n.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after","box-sizing: content-box;"),n.add(".navigator_modal_month","font-size: 11px;"),n.add(".navigator_modal_day","color: black;"),n.add(".navigator_modal_weekend","background-color: #f0f0f0;"),n.add(".navigator_modal_dayheader","color: black;"),n.add(".navigator_modal_line","border-bottom: 1px solid #c0c0c0;"),n.add(".navigator_modal_dayother","color: gray;"),n.add(".navigator_modal_todaybox","border: 1px solid red;"),n.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),n.add(".navigator_modal_busy","font-weight: bold;"),n.add(".navigator_modal_cell","text-align: center;"),n.add(".navigator_modal_select .navigator_modal_cell_box","background-color: #FFE794; opacity: 0.5;"),n.add(".navigator_modal_title","text-align: center;"),n.add(".navigator_modal_titleleft, .navigator_modal_titleright","text-align: center;"),n.add(".navigator_modal_dayheader","text-align: center;"),n.add(".navigator_modal_weeknumber","text-align: center;"),n.add(".navigator_modal_cell_text","cursor: pointer;"),n.commit(),e.Modal=function(t){this.autoFocus=!0,this.focus=null,this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=600,this.top=20,this.height=200,this.locale=null,this.closed=null,this.onClose=null,this.onClosed=null,this.onShow=null;var i=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.tf=!1,this.uf=null,this.vf=null,this.showHtml=function(t){if(e.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.div||this.wf(),this.Ic(),this.useIframe?window.setTimeout(function(e,t){return function(){e.setInnerHTML(e.id+"iframe",t)}}(this,t),0):t.nodeType?this.div.appendChild(t):this.div.innerHTML=t,this.Ic(),this.xf(),this.yf()},this.showUrl=function(t){if(e.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.wf();var n=this.loadingHtml;n&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",n)),this.re(this.iframe,"load",this.zf),this.iframe.src=t,this.Ic(),this.xf(),this.yf()}else i.Af({url:t,success:function(e){i.showHtml(e.request.responseText)},error:function(e){i.showHtml("Error loading the modal dialog")}})},this.yf=function(){if("function"==typeof i.onShow){var e={};e.root=i.Bf(),i.onShow(e)}},this.Bf=function(){return i.iframe?i.iframe.contentWindow.document:i.div},this.Af=function(e){var t=new XMLHttpRequest;if(t){var i=e.success||function(){},n=e.error||function(){},a=e.data;t.open(e.method||"GET",e.url,!0),t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status||304===t.status)(e={}).request=t,i(e);else if(n){var e;(e={}).request=t,n(e)}else window.console&&console.log("HTTP error "+t.status)},4!==t.readyState&&("object"==typeof a&&(a=JSON.stringify(a)),t.send(a))}},this.Ic=function(){delete this.result;var t=window,n=document,a=t.pageYOffset?t.pageYOffset:n.documentElement&&n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){i.hideDiv&&(i.hideDiv.onclick=function(){i.hide({backgroundClick:!0})})},500),this.div.className=this.theme?this.theme+"_main":"",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=a+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.div.style.height=this.useIframe||!this.autoStretch?this.height+"px":""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",this.Df(),e.ModalStatic.remove(this),e.ModalStatic.list.push(this)},this.zf=function(){i.iframe.contentWindow.modal=i,i.autoStretch&&i.stretch()},this.stretch=function(){if(this.useIframe){for(var e=i.Cf().x-40,t=this.width;t<e&&this.Ef();t+=10)this.div.style.width=t+"px",this.div.style.marginLeft="-"+Math.floor(t/2)+"px";for(var n=this.maxHeight||i.Cf().y-2*this.top,a=this.height;a<n&&this.Ff();a+=10)this.iframe.style.height=a+"px",this.div.style.height=a+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.zf)}else this.div.style.height=""},this.Ef=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollWidth,n=e.body.children,a=0;a<n.length;a++)i=Math.max(i,n[a].offsetLeft+n[a].offsetWidth);return i>t.clientWidth},this.Ff=function(){for(var e=this.iframe.contentWindow.document,t="BackCompat"===e.compatMode?e.body:e.documentElement,i=t.scrollHeight,n=e.body.children,a=0;a<n.length;a++)i=Math.max(i,n[a].offsetTop+n[a].offsetHeight);return i>t.clientHeight},this.Cf=function(){var e=document;return"CSS1Compat"===e.compatMode&&e.documentElement&&e.documentElement.clientWidth?{x:e.documentElement.clientWidth,y:e.documentElement.clientHeight}:{x:e.body.clientWidth,y:e.body.clientHeight}},this.xf=function(){this.tf||(this.re(window,"resize",this.Gf),this.re(window,"scroll",this.Hf),this.dragDrop&&(this.re(document,"mousemove",this.If),this.re(document,"mouseup",this.Jf)),this.tf=!0)},this.Kf=function(){this.ue(window,"resize",this.Gf),this.ue(window,"scroll",this.Hf),this.dragDrop&&(this.ue(document,"mousemove",this.If),this.ue(document,"mouseup",this.Jf)),this.tf=!1},this.Lf=function(e){e.target===i.div&&(e.preventDefault(),i.div.style.cursor="move",i.Mf(),i.vf=i.mc(e||window.event),i.uf={x:i.div.offsetLeft,y:i.div.offsetTop})},this.If=function(e){if(i.vf){e=e||window.event;var t=i.mc(e),n=t.x-i.vf.x,a=t.y-i.vf.y;i.div.style.marginLeft="0px",i.div.style.top=i.uf.y+a+"px",i.div.style.left=i.uf.x+n+"px"}},this.Jf=function(e){i.vf&&(i.Nf(),i.div.style.cursor=null,i.vf=null)},this.Mf=function(){if(this.useIframe){var e=document.createElement("div");e.style.backgroundColor="#ffffff",e.style.filter="alpha(opacity=80)",e.style.opacity="0.80",e.style.width="100%",e.style.height=this.height+"px",e.style.position="absolute",e.style.left="0px",e.style.top="0px",this.div.appendChild(e),this.mask=e}},this.Nf=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.Gf=function(){i.Of(),i.Df()},this.Hf=function(){i.Of()},this.Df=function(){!i.left&&i.div&&(i.div.style.marginLeft="-"+Math.floor(i.div.offsetWidth/2)+"px")},this.Of=function(){if(i.hideDiv&&i.div&&"none"!==i.hideDiv.style.display&&"none"!==i.div.style.display){var e=i.Pf.scrollY();i.scrollWithPage||(i.div.style.top=e+i.top+"px")}},this.Pf={},this.Pf.container=function(){return i.container||document.body},this.Pf.scrollY=function(){var e=i.Pf.container();return e===document.body?window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop:e.scrollTop},this.re=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.ue=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},this.mc=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+document.documentElement.scrollLeft,y:e.clientY+document.documentElement.scrollTop}},this.abs=function(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e.offsetParent;)t.x+=(e=e.offsetParent).offsetLeft,t.y+=e.offsetTop;return t},this.wf=function(){var e=i.Pf.container(),t=e===document.body?"fixed":"absolute",n=document.createElement("div");n.id=this.id+"hide",n.style.position=t,n.style.left="0px",n.style.top="0px",n.style.right="0px",n.style.bottom="0px",n.oncontextmenu=function(){return!1},n.onmousedown=function(){return!1},e.appendChild(n);var a=document.createElement("div");a.id=this.id+"popup",a.style.position=t,a.style.left="50%",a.style.top="0px",a.style.backgroundColor="white",a.style.width="50px",a.style.height="50px",this.dragDrop&&(a.onmousedown=this.Lf),a.addEventListener("keydown",function(e){e.stopPropagation()});var o=null;this.useIframe&&((o=document.createElement("iframe")).id=this.id+"iframe",o.name=this.id+"iframe",o.frameBorder="0",o.style.width="100%",o.style.height="50px",a.appendChild(o)),e.appendChild(a),this.div=a,this.iframe=o,this.hideDiv=n},this.setInnerHTML=function(e,t){var n=window.frames[e],a=n.contentWindow||n.document||n.contentDocument;a.document&&(a=a.document),null==a.body&&a.write("<body></body>"),t.nodeType?a.body.appendChild(t):a.body.innerHTML=t,i.autoStretch&&(i.autoStretchFirstLoadOnly&&i.Qf||(i.stretch(),i.Qf=!0))},this.close=function(e){this.result=e,this.hide()},this.closeSerialized=function(){for(var e=i.Bf().querySelectorAll("input, textarea, select"),t={},n=0;n<e.length;n++){var a=e[n],o=a.name;o&&(t[o]=a.value)}i.close(t)},this.hide=function(t){var n={};n.backgroundClick=!!(t=t||{}).backgroundClick,n.result=this.result,n.canceled=void 0===this.result,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(n),n.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),e.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(n):this.closed&&this.closed(),delete this.result,this.disposeOnClose&&(i.Kf(),i.Rf(i.div),i.Rf(i.hideDiv),i.div=null,i.hideDiv=null,i.iframe=null))},this.Rf=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},this.Sf=function(){if(t)for(var e in t)this[e]=t[e]},this.Sf()},e.Modal.alert=function(t,i){(i=i||{}).height=i.height||40,i.useIframe=!1;var n=i.okText||"OK";return e.getPromise(function(a,o){i.onClosed=function(e){a(e)};var r=new e.Modal(i),s=document.createElement("div");s.className=r.theme+"_inner";var l=document.createElement("div");l.className=r.theme+"_content",l.innerHTML=t;var c=document.createElement("div");c.className=r.theme+"_buttons";var d=document.createElement("button");d.innerText=n,d.className=r.theme+"_ok",d.onclick=function(t){e.ModalStatic.close("OK")},c.appendChild(d),s.appendChild(l),s.appendChild(c),r.showHtml(s),r.autoFocus&&d.focus()})},e.Modal.confirm=function(t,i){(i=i||{}).height=i.height||40,i.useIframe=!1;var n=i.okText||"OK",a=i.cancelText||"Cancel";return e.getPromise(function(o,r){i.onClosed=function(e){o(e)};var s=new e.Modal(i),l=document.createElement("div");l.className=s.theme+"_inner";var c=document.createElement("div");c.className=s.theme+"_content",c.innerHTML=t;var d=document.createElement("div");d.className=s.theme+"_buttons";var h=document.createElement("button");h.innerText=n,h.className=s.theme+"_ok",h.onclick=function(t){e.ModalStatic.close("OK")};var u=document.createTextNode(" "),f=document.createElement("button");f.innerText=a,f.className=s.theme+"_cancel",f.onclick=function(t){e.ModalStatic.close()},d.appendChild(h),d.appendChild(u),d.appendChild(f),l.appendChild(c),l.appendChild(d),s.showHtml(l),s.autoFocus&&h.focus()})},e.Modal.prompt=function(t,i,n){"object"==typeof i&&(n=i,i=""),(n=n||{}).height=n.height||40,n.useIframe=!1;var a=n.okText||"OK",o=n.cancelText||"Cancel",r=i||"";return e.getPromise(function(i,s){n.onClosed=function(e){i(e)};var l=new e.Modal(n),c=document.createElement("div");c.className=l.theme+"_inner";var d=document.createElement("div");d.className=l.theme+"_content",d.innerHTML=t;var h=document.createElement("div");h.className=l.theme+"_input";var u=document.createElement("input");u.value=r,u.style.width="100%",u.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:l.close(this.value);break;case 27:l.close();break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},h.appendChild(u);var f=document.createElement("div");f.className=l.theme+"_buttons";var p=document.createElement("button");p.innerText=a,p.className=l.theme+"_ok",p.onclick=function(e){l.close(u.value)};var v=document.createTextNode(" "),m=document.createElement("button");m.innerText=o,m.className=l.theme+"_cancel",m.onclick=function(e){l.close()},f.appendChild(p),f.appendChild(v),f.appendChild(m),c.appendChild(d),c.appendChild(h),c.appendChild(f),l.showHtml(c),l.autoFocus&&u.focus()})};var a=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.Modal.form=function(i,n,r){if(1===arguments.length){var s=i;if(a(s))n={};else{if("object"!=typeof s)throw"Invalid DayPilot.Modal.form() parameter";for(var l in n=i,i=[],n){var c={};c.name=l,c.id=l,i.push(c)}}}var d={};for(var l in r)d[l]=r[l];d.height=d.height||40,d.useIframe=!1;var h=d.okText||"OK",u=d.cancelText||"Cancel";return e.getPromise(function(a,r){d.onClosed=function(e){if(e.result){var i=JSON.parse(JSON.stringify(n));for(var o in e.result)t(i,o,e.result[o]);e.result=i}a(e)};var s=new e.Modal(d),l=document.createElement("div");l.className=s.theme+"_inner";var c=document.createElement("div");c.className=s.theme+"_input";var f=new o({theme:s.theme,form:i,data:n,zIndex:s.zIndex,locale:s.locale,plugins:s.plugins,onKey:function(e){switch(e.key){case"Enter":f.validate()&&s.close(f.serialize());break;case"Escape":s.close()}}}),p=f.create();c.append(p);var v=document.createElement("div");v.className=s.theme+"_buttons";var m=document.createElement("button");m.innerText=h,m.className=s.theme+"_ok",m.onclick=function(e){f.validate()&&s.close(f.serialize())};var g=document.createTextNode(" "),b=document.createElement("button");if(b.innerText=u,b.className=s.theme+"_cancel",b.onclick=function(e){s.close()},b.onmousedown=function(e){f.canceling=!0},v.appendChild(m),v.appendChild(g),v.appendChild(b),l.appendChild(c),l.appendChild(v),s.showHtml(l),s.div.setAttribute("tabindex","-1"),s.div.addEventListener("keydown",function(e){switch(e.keyCode){case 27:s.close();break;case 13:f.validate()&&s.close(f.serialize())}}),s.focus){var y=null;"object"==typeof s.focus?y=f.findViewById(s.focus.id,s.focus.value):"string"==typeof s.focus&&(y=f.findViewById(s.focus)),y&&y.focus()}else{var w=f.firstFocusable();s.autoFocus&&w?w.focus():s.div.focus()}})},e.Modal.close=function(t){var i=e.Modal.opener();i&&i.close(t)},e.Modal.stretch=function(t){var i=e.Modal.opener();if(!i)throw"Unable to find the opener DayPilot.Modal instance.";i.stretch()},e.Modal.closeSerialized=function(){var t=e.Modal.opener()||e.ModalStatic.last();t&&t.closeSerialized()},e.Modal.opener=function(){return void 0!==e&&void 0!==e.ModalStatic&&e.ModalStatic.list.length>0?e.ModalStatic.list[e.ModalStatic.list.length-1]:parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},void 0===e.getPromise&&(e.getPromise=function(t){return"undefined"!=typeof Promise?new Promise(t):(e.Promise=function(t){var i=this;this.then=function(i,n){return t(i=i||function(){},n=n||function(){}),e.getPromise(t)},this.catch=function(n){return i.then(null,n),e.getPromise(t)}},new e.Promise(t))});var o=function(e){for(var t in this.form=[],this.data={},this.theme="form_default",this.zIndex=99999,this.locale="en-us",this.plugins={},this.onKey=null,this.Tf=[],this.Uf=null,this.canceling=!1,this.Vf=[],this.Wf=[],this.c=null,e=e||{})this[t]=e[t]};o.prototype.create=function(){return this.load(),this.render(),this.c},o.prototype.render=function(){var e=this;this.c=document.createElement("div"),this.Tf.forEach(function(t){e.createView(t)}),this.applyState()},o.prototype.createView=function(e){var t=this.theme,i=this,n=document.createElement("div");if(n.className=t+"_form_item "+t+"_form_item_level"+e.level,n.className+=e.interactive||"title"!==e.type?" "+t+"_form_item_"+e.type:" "+t+"_form_title",e.data.cssClass&&(n.className+=" "+e.data.cssClass),!e.isValue){var a=document.createElement("div");a.className=t+"_form_item_label",a.innerText=e.text,n.appendChild(a)}var o=this.createInteractive(e);o.onInput=function(e){i.Xf(o,{debounce:!(e=e||{}).immediate})},o.onBlur=function(){i.canceling||i.Xf(o)},o.apply(e),o.c=n,o.Yf=e,o.element&&n.appendChild(o.element),this.Wf.push(o),this.c.appendChild(n)},o.prototype.validate=function(){var e=this,t=!0;return this.Wf.forEach(function(i){var n=e.Xf(i);t=t&&n}),t},o.prototype.Xf=function(e,t){function i(){e.Zf&&(e.Zf.remove(),e.Zf=null),e.c.classList.add(l);var t=document.createElement("div");t.classList.add(c),t.innerText=s.message,e.Zf=t,e.c.appendChild(t)}var n=(t=t||{}).debounce,a=t.silent,o=e.Yf,r=!0;if("function"==typeof o.data.validate){var s={valid:!0};s.value=e.save()[o.field],s.message="Error",s.values=this.serialize(),o.data.validate(s);var l=this.theme+"_form_item_invalid",c=this.theme+"_form_item_invalid_message";s.valid?(clearTimeout(this.Vf[o.field]),e.Zf&&(e.Zf.remove(),e.Zf=null),e.c.classList.remove(l)):a||(n?(clearTimeout(this.Vf[o.field]),this.Vf[o.field]=setTimeout(function(){i()},1e3)):i()),r=s.valid}return r},o.prototype.load=function(){var e=this;this.form.forEach(function(t){e.processFormItem(t,0)});try{JSON.stringify(this.data)}catch(e){throw new Error("The 'data' object is not serializable: "+e)}var t=i(this.data);for(var n in t)this.setValue(n,t[n])},o.prototype.setValue=function(e,t){this.Tf.forEach(function(i){i.applyValue(e,t)})},o.prototype.updateDependentState=function(){var e=this,t=[!0];(this.Uf?this.Uf:this.Tf).forEach(function(i){var n=e.updateState(i,{enabled:t[i.level]&&!i.data.disabled});n.isValue&&(t[n.level+1]=n.enabled&&n.checked)})},o.prototype.processFormItem=function(e,t){var i=this,n=this.getFieldType(e),a=[];if("radio"===n)e.name&&((o=new r).field=e.id,o.data=e,o.level=t,o.type="label",o.interactive=!1,o.text=e.name,i.Tf.push(o),a.push(o)),e.options.forEach(function(o){var s=new r;s.field=e.id,s.data=o,s.level=t,s.type=n,s.isValue=!0,s.text=o.name,s.resolved=o.id,i.Tf.push(s),a.push(s),o.children&&o.children.forEach(function(e){var n=i.processFormItem(e,t+1);a=a.concat(n)})});else if("title"===n)(o=new r).field=e.id,o.data=e,o.level=t,o.type=n,o.interactive=!1,o.text=e.name,i.Tf.push(o),a.push(o);else if("image"===n)(o=new r).isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=n,o.interactive=!1,o.text=null,i.Tf.push(o),a.push(o);else if("html"===n)(o=new r).isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=n,o.interactive=!1,o.text=null,i.Tf.push(o),a.push(o);else if("scrollable"===n)(o=new r).isValue=!0,o.field=e.id,o.data=e,o.level=t,o.type=n,o.interactive=!1,o.text=null,i.Tf.push(o),a.push(o);else{var o;(o=new r).field=e.id,o.data=e,o.level=t,o.type=n,o.text=e.name,o.children=[],i.Tf.push(o),a.push(o)}return"checkbox"===n&&(o.isValue=!0,o.resolved=!0,e.children&&e.children.forEach(function(e){var n=i.processFormItem(e,t+1);a=a.concat(n)})),a},o.prototype.doOnKey=function(e){"function"==typeof this.onKey&&this.onKey({key:e})},o.prototype.createInteractive=function(t){var i=this,n={label:function(){return new s},title:function(){return new s},image:function(){var e=new s,i=document.createElement("img");return i.src=t.data.image,e.element=i,e},html:function(){var e=new s,i=document.createElement("div");return"string"==typeof t.data.text?i.innerText=t.data.text:"string"==typeof t.data.html&&(i.innerHTML=t.data.html),e.element=i,e},scrollable:function(){var e=new s,n=document.createElement("div");n.className=i.theme+"_form_item_scrollable_scroll",t.data.height&&(n.style.height=t.data.height+"px");var a=document.createElement("div");return a.className=i.theme+"_form_item_scrollable_scroll_content","string"==typeof t.data.text?a.innerText=t.data.text:"string"==typeof t.data.html&&(a.innerHTML=t.data.html),n.appendChild(a),e.element=n,e},text:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.element;i.value=t.value,i.disabled=!t.enabled};var n=document.createElement("input");return n.name=t.field,n.type="text",n.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:i.doOnKey("Enter");break;case 27:i.doOnKey("Escape");break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},n.oninput=function(t){e.onInput()},n.onblur=function(t){e.onBlur()},e.element=n,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus(),e.element.setSelectionRange(0,e.element.value.length)},e.save=function(){var e={};return e[t.field]=n.value,e},e},textarea:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.element;i.value=t.value,i.disabled=!t.enabled};var n=document.createElement("textarea");return n.name=t.field,t.data.height&&(n.style.height=t.data.height+"px"),n.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:t=!1;break;case 27:i.doOnKey("Escape");break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},n.oninput=function(t){e.onInput()},n.onblur=function(t){e.onBlur()},e.element=n,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus(),e.element.setSelectionRange(0,0)},e.save=function(){var e={};return e[t.field]=n.value,e},e},date:function(){var n=new s;n.apply=function(t){n.row=t;var a=n.element,o=n.picker;t.data.dateFormat&&(o.pattern=t.data.dateFormat);var r=t.data.locale||i.locale;r&&(o.locale=r),a.disabled=!t.enabled,o.date=new e.Date(t.value);var s=new e.Date(t.value).toString(t.data.dateFormat||o.pattern,o.locale);a.value=s};var a=document.createElement("input");a.name=t.field;var o=new e.DatePicker({target:a,theme:"navigator_modal",zIndex:i.zIndex+1,resetTarget:!1,targetAlignment:"left",onTimeRangeSelect:function(e){n.onInput({immediate:!0})}});return a.picker=o,a.className=i.theme+"_input_date",a.type="text",a.onkeydown=function(e){var t=!1;switch(e.keyCode){case 13:o.visible?o.close():i.doOnKey("Enter");break;case 27:o.visible?o.close():i.doOnKey("Escape");break;case 9:o.close(),t=!0;break;default:t=!0}t||(e.preventDefault(),e.stopPropagation())},a.onfocus=function(){o.show()},a.onclick=function(){o.show()},a.oninput=function(e){n.onInput()},a.onblur=function(e){n.onBlur()},n.element=a,n.picker=o,n.canFocus=function(){return!n.element.disabled},n.focus=function(){n.element.focus()},n.save=function(){var e=o.date?o.date.toString():null,i={};return i[t.field]=e,i},n},select:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.element;i.value=t.value,i.disabled=!t.enabled};var i=document.createElement("select");return i.name=t.field,t.data.options&&t.data.options.forEach&&t.data.options.forEach(function(e){var t=document.createElement("option");t.innerText=e.name||e.id,t.value=e.id,t.$f=e.id,i.appendChild(t)}),i.onchange=function(t){e.onInput({immediate:!0})},i.onblur=function(t){e.onBlur()},e.element=i,e.canFocus=function(){return!e.element.disabled},e.focus=function(){e.element.focus()},e.save=function(){var e=null,n=i.options[i.selectedIndex];n&&void 0!==n.$f&&(e=n.$f);var a={};return a[t.field]=e,a},e},searchable:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.searchable;i.disabled=!t.enabled,i.select(t.value)};var n=new l({data:t.data.options,name:t.field,theme:i.theme+"_form_item_searchable",listZIndex:i.zIndex+1,onSelect:function(t){t.ui&&e.onInput({immediate:!0})}}),a=n.create();return e.element=a,e.searchable=n,e.canFocus=function(){return!e.searchable.disabled},e.focus=function(){e.searchable.focus()},e.save=function(){var e={};return e[t.field]=n.selected&&n.selected.id,e},e},radio:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.radio;i.checked=t.checked,i.disabled=!t.enabled};var n=document.createElement("label"),a=document.createElement("input");a.type="radio",a.name=t.field,a.$f=t.resolved,a.onchange=function(t){var n=e.row;i.findRowsByField(n.field).forEach(function(e){i.updateState(e,{checked:!1})}),i.updateState(n,{checked:!0}),i.applyState(),e.onInput({immediate:!0})},a.onblur=function(t){e.onBlur()},n.appendChild(a);var o=document.createTextNode(t.text);return n.append(o),e.element=n,e.radio=a,e.canFocus=function(){return!1},e.focus=function(){e.radio.focus()},e.save=function(){if(!a.checked)return{};var e={};return e[t.field]=a.$f,e},e},checkbox:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.checkbox;i.checked=t.checked,i.disabled=!t.enabled};var n=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.name=t.field,a.$f=t.resolved,a.onchange=function(t){i.updateState(e.row,{checked:this.checked}),i.applyState(),e.onInput({immediate:!0})},a.onblur=function(t){e.onBlur()},n.appendChild(a);var o=document.createTextNode(t.text);return n.append(o),e.element=n,e.checkbox=a,e.canFocus=function(){return!1},e.focus=function(){e.checkbox.focus()},e.save=function(){var e={};return e[t.field]=a.checked,e},e},table:function(){var e=new s;e.apply=function(t){e.row=t;var i=e.table;i.disabled=!t.enabled,t.value&&i.load(t.value)};var n=new c({name:t.field,form:t.data.columns,theme:i.theme+"_form_item_tabular"}),a=n.create();return e.element=a,e.table=n,e.canFocus=function(){return!1},e.focus=function(){e.table.focus()},e.save=function(){var e=n.save(),i={};return i[t.field]=e,i},e}};return i.plugins&&i.plugins[t.type]?i.plugins[t.type](t):n[t.type]()},o.prototype.findRowsByField=function(e){return this.Tf.filter(function(t){return t.field===e})},o.prototype.findViewById=function(e,t){return this.Wf.find(function(i){return i.row.field===e&&("radio"!==i.row.type||i.row.resolved===t)})},o.prototype.firstFocusable=function(){return this.Wf.find(function(e){return e.canFocus&&e.canFocus()})},o.prototype.updateState=function(e,t){var i=this.Uf?this.Uf:this.Tf,n=i.indexOf(e);return this.Uf=i.map(function(i){if(i!==e)return i;if(e.propsEqual(t))return e;var n=e.clone();for(var a in t)n[a]=t[a];return n}),this.Uf[n]},o.prototype.updateInteractive=function(e){var t=this.Uf.indexOf(e);this.Wf[t].apply(e)},o.prototype.applyState=function(){var e=this;this.updateDependentState(),this.Uf&&(this.Uf.filter(function(t,i){return e.Tf[i]!==t}).forEach(function(t){e.updateInteractive(t)}),this.Tf=this.Uf,this.Uf=null)},o.prototype.getFieldType=function(e){return-1!==["text","date","select","searchable","radio","checkbox","table","title","image","html","textarea","scrollable"].indexOf(e.type)||e.type&&this.plugins&&this.plugins[e.type]?e.type:e.image?"image":e.html||e.text?"html":e.id?e.options?"searchable":e.dateFormat?"date":e.columns?"table":"text":"title"},o.prototype.serialize=function(){var e={};return this.Wf.forEach(function(t){var i=t.save();for(var n in i)e[n]=i[n]}),e};var r=function(){this.id=this.guid(),this.field=null,this.data=null,this.type=null,this.level=0,this.enabled=!0,this.value=null,this.text=null,this.interactive=!0,this.isValue=!1,this.checked=!1,this.resolved=null};r.prototype.clone=function(){var e=new r;for(var t in this)"id"!==t&&(e[t]=this[t]);return e},r.prototype.propsEqual=function(e){for(var t in e)if(this[t]!==e[t])return!1;return!0},r.prototype.guid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},r.prototype.applyValue=function(e,t){this.field===e&&(this.value=t,this.isValue&&t===this.resolved&&(this.checked=!0))};var s=function(){this.element=null,this.canFocus=function(){return!1},this.apply=function(e){},this.focus=function(){},this.save=function(){return{}}},l=function(e){this.data=[],this.name=null,this.theme="searchable_default",this._f=!1,this.listZIndex=1e5,this.onSelect=null,this.ag=null,this.bg=null,this.cg=!1,this.dg=null,this.Ub=null,this.He=[],this.eg=null,e=e||{};var t=this,i={selected:{post:function(e){"object"==typeof e&&e.id?t.ag=e:"string"!=typeof e&&"number"!=typeof e||t.select(e)}}};for(var n in Object.defineProperty(this,"selected",{get:function(){return this.ag}}),Object.defineProperty(this,"disabled",{get:function(){return this._f},set:function(e){this._f=e,this.dg&&(this.dg.disabled=e,e&&this.fg())}}),e)i[n]||(this[n]=e[n]);for(var n in e)i[n]&&i[n].post(e[n])};l.prototype.select=function(e){return this.ag=this.data.find(function(t){return t.id===e}),this.gg(!1),this},l.prototype.create=function(){function e(){d.style.display="",d.style.top=u.offsetHeight+"px",d.style.left="0px",d.style.width=u.offsetWidth+"px",d.innerHTML="",d.addEventListener("mousedown",function(e){e.preventDefault()}),r.bg=null,r.He=[];var e=null;r.data.forEach(function(n){var a=n.name||n.id;if(-1!==a.toLowerCase().indexOf(u.value.toLowerCase())){var o=document.createElement("div");o.className=r.theme+"_list_item",o.innerText=a,o.item=n,n===r.ag&&(r.bg=o),e||(e=o),o.addEventListener("mousedown",function(e){i(o),e.preventDefault()}),o.addEventListener("mousemove",function(e){r.bg!==o&&(r.bg=o,t({dontScroll:!0}))}),d.appendChild(o),r.He.push(o)}}),r.bg||(r.bg=e),t()}function t(e){var t=!(e=e||{}).dontScroll;document.querySelectorAll("."+r.theme+"_list_item_highlight").forEach(function(e){e.className=e.className.replace(r.theme+"_list_item_highlight","")}),r.bg&&(r.bg.className+=" "+r.theme+"_list_item_highlight",t&&!function(e,t){var i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return i.top>=n.top&&i.bottom<=n.bottom}(r.bg,d)&&r.bg.scrollIntoView())}function i(e){r.ag=e.item,r.gg(!0),r.hg(),a()}function n(){r.fg()}function a(){r.cg=!0,u.setAttribute("readonly","readonly"),u.focus()}function o(){r.cg=!1,u.removeAttribute("readonly"),u.value="",e()}var r=this,s=this,l=document.createElement("div");l.className=this.theme+"_main",l.style.position="relative";var c=document.createElement("div");c.className=this.theme+"_icon",c.style.position="absolute",c.style.right="0",c.style.top="0",c.style.bottom="0",c.style.width="20px",c.addEventListener("mousedown",function(e){e.preventDefault(),r.cg?(r.focus(),o()):(n(),a())});var d=document.createElement("div");d.className=this.theme+"_list",d.style.display="none",d.style.position="absolute",d.style.zIndex=this.listZIndex;var h=document.createElement("input");h.type="hidden",h.name=this.name,h.searchable=s,this.eg=h;var u=document.createElement("input");return u.type="text",u.className=this.theme+"_input",u.disabled=this._f,u.addEventListener("click",function(e){o()}),u.addEventListener("focus",function(t){u.value="",e()}),u.addEventListener("input",function(t){e()}),u.addEventListener("blur",function(e){u.removeAttribute("readonly"),n()}),u.addEventListener("keydown",function(e){if(r.cg){if("Enter"===e.key)return;if("Esc"===e.key||"Escape"===e.key)return;o()}if("ArrowDown"===e.key)(l=s.He.indexOf(s.bg))+1<s.He.length&&(s.bg=s.He[l+1]),t();else if("ArrowUp"===e.key){var l;(l=s.He.indexOf(s.bg))-1>=0&&(s.bg=s.He[l-1]),t()}else"Enter"===e.key?r.bg?(e.stopPropagation(),i(r.bg)):(e.stopPropagation(),n(),a()):"Esc"!==e.key&&"Escape"!==e.key||(e.stopPropagation(),n(),a())}),this.dg=u,this.Ub=d,this.ag||(this.ag=this.data[0],this.ag&&(u.value=this.ag.name)),l.appendChild(u),l.appendChild(c),l.appendChild(h),l.appendChild(d),l},l.prototype.fg=function(){this.hg(),this.ag?this.dg.value=this.ag.name:(this.dg.value="",this.gg(!0))},l.prototype.focus=function(){this.cg=!0,this.dg.setAttribute("readonly","readonly"),this.dg.focus(),this.fg()},l.prototype.hg=function(){this.Ub.style.display="none"},l.prototype.gg=function(e){this.eg.value=this.selected?this.selected.id:null,this.dg.value=this.ag?this.ag.name:"","function"==typeof this.onSelect&&this.onSelect({control:this,ui:e})};var c=function(e){for(var t in this.form=null,this.data=null,this.name=null,this.theme="edit_table_default",this.nav={},this.ig=null,this.Tf=[],e=e||{})this[t]=e[t]};c.prototype.create=function(){var e=this,t=document.createElement("div");t.className=this.theme+"_main",t.style.position="relative";var i=document.createElement("input");i.type="hidden",i.name=e.name,i.table=this,t.appendChild(i);var n=document.createElement("div");n.className=this.theme+"_table";var a=this.jg();n.appendChild(a);var o=e.kg({});o.spacer=!0;var r=this.lg(o);r.classList.add(e.theme+"_spacer"),n.appendChild(r);var s=document.createElement("div");s.className=e.theme+"_tbody",n.appendChild(s),t.appendChild(n);var l=document.createElement("div");t.appendChild(l),this.nav.body=s,this.nav.table=n,this.nav.main=t,this.nav.after=l;var c=document.createElement("div"),d=document.createElement("span");return d.className=this.theme+"_plus",d.addEventListener("click",function(t){if(!e.disabled){var i=e.kg({});e.Tf.push(i),e.mg()}}),c.appendChild(d),t.appendChild(c),t},c.prototype.jg=function(){var e=this,t=document.createElement("div");return t.classList.add(this.theme+"_row"),t.classList.add(this.theme+"_header"),this.form.forEach(function(i){var n=document.createElement("div");n.classList.add(e.theme+"_cell"),n.innerText=i.name,t.appendChild(n)}),t},c.prototype.save=function(){var e=[];return this.Tf.forEach(function(t){var i={};t.cells.forEach(function(e){i[e.id]=e.value}),e.push(i)}),e},c.prototype.load=function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Array expected");this.data=e,this.ng(),this.mg()},c.prototype.og=function(){this.disabled?this.nav.main.classList.add(this.theme+"_disabled"):this.nav.main.classList.remove(this.theme+"_disabled")},c.prototype.ng=function(){var e=this;this.Tf=[],this.data.forEach(function(t){var i=e.kg(t);e.Tf.push(i)})},c.prototype.pg=function(e){var t=this.Tf.indexOf(e);this.Tf.splice(t,1)},c.prototype.kg=function(e){var t=this,i={};return i.data=e,i.cells=[],t.form.forEach(function(n){var a=n.id,o=e[a],r=t.qg(n);if(void 0===o)if("text"===r)o="";else if("number"===r)o=0;else if("select"===r){var s=n.options;o=s&&s[0].id}var l={};l.id=a,l.value=o,l.type=r,l.data=n,i.cells.push(l)}),i},c.prototype.qg=function(e){var t=e.type;return t||(t=e.options?"select":"text"),t},c.prototype.mg=function(){var e=this;if(this.nav.body.innerHTML="",this.nav.after.innerHTML="",this.Tf.forEach(function(t){var i=e.lg(t);e.nav.body.appendChild(i)}),0===this.Tf.length){var t=e.rg();e.nav.after.appendChild(t)}this.og()},c.prototype.rg=function(){var e=document.createElement("div");return e.className=this.theme+"_empty",e},c.prototype.lg=function(e){var t=this,i=document.createElement("div");i.className=t.theme+"_row",e.cells.forEach(function(n){var a=document.createElement("div");a.className=t.theme+"_cell";var o=t.sg(n);if(e.spacer){var r=document.createElement("div");r.style.height="0px",r.style.overflow="hidden",r.appendChild(o),a.appendChild(r)}else a.appendChild(o);i.appendChild(a)});var n=document.createElement("div");n.classList.add(t.theme+"_cell"),n.classList.add(t.theme+"_rowaction");var a=document.createElement("span");return a.className=this.theme+"_delete",a.addEventListener("click",function(i){t.disabled||(t.pg(e),t.mg())}),e.spacer||n.appendChild(a),i.appendChild(n),i},c.prototype.sg=function(e){var t=e.type;if("text"===t||"number"===t){var i=document.createElement("input");return i.type=t,this.disabled&&(i.disabled=!0),e.value&&(i.value=e.value),i.addEventListener("keyup",function(i){e.value="number"===t?Number(this.value):this.value}),i}if("select"===t){var n=document.createElement("select");return this.disabled&&(n.disabled=!0),e.data.options.forEach(function(t){var i=document.createElement("option");i.innerText=t.name,i.value=t.id,i.$f=t.id,n.appendChild(i),e.value===t.id&&i.setAttribute("selected",!0)}),n.addEventListener("change",function(t){var i=n.options[n.selectedIndex];i&&void 0!==i.$f&&(e.value=i.$f)}),n}throw new Error("Unsupported item type: "+t)},c.prototype.focus=function(){}}}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){if(void 0===e.Month){var t={};e.Month=function(i,n){this.v="2021.2.4931",this.nav={};var a=this;this.id=i,this.isMonth=!0,this.api=2,this.S=!1,this.hideUntilInit=!0,this.startDate=new e.Date,this.width=null,this.bubble="function"==typeof e.Bubble?new e.Bubble:null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventEndSpec="DateTime",this.headerHeight=30,this.heightSpec="Auto",this.weekStarts="Auto",this.eventHeight=25,this.cellHeaderHeight=24,this.clientState={},this.afterRender=function(){},this.cssOnly=!0,this.eventsLoadMethod="GET",this.initEventEnabled=!1,this.lineSpace=1,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.viewType="Month",this.weeks=1,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeCellRender=null,this.onBeforeHeaderRender=null,this.onDomAddEvent=null,this.onDomRemoveEvent=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.onBeforeHeaderExport=null,this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.P={},this.P.events={},this.events={},this.R=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.U="javasc",this.la=function(e,t){if((e=JSON.parse(e)).BubbleGuid){var i=e.BubbleGuid,n=this.bubbles[i];return delete this.bubbles[i],a.Ga(),void(void 0!==e.Result.BubbleHTML&&n.updateView(e.Result.BubbleHTML,n))}if(e.CallBackRedirect)document.location.href=e.CallBackRedirect;else{if(void 0!==e.ClientState&&(a.clientState=e.ClientState),"None"===e.UpdateType)return a.Ha(e.CallBackData,!0),e.Message&&a.message(e.Message),void a.Ga();if(e.VsUpdate){var o=document.createElement("input");o.type="hidden",o.name=a.id+"_vsupdate",o.id=o.name,o.value=e.VsUpdate,a.tg.innerHTML="",a.tg.appendChild(o)}a.events.list=e.Events,void 0!==e.TagFields&&(a.tagFields=e.TagFields),void 0!==e.SortDirections&&(a.sortDirections=e.SortDirections),"Full"===e.UpdateType&&(a.cellProperties=e.CellProperties,a.headerProperties=e.HeaderProperties,a.startDate=e.StartDate,void 0!==e.ShowWeekend&&(a.showWeekend=e.ShowWeekend),a.locale=e.Locale?e.Locale:a.locale,a.timeFormat=e.TimeFormat?e.TimeFormat:a.timeFormat,void 0!==e.WeekStarts&&(a.weekStarts=e.WeekStarts),a.hashes=e.Hashes),a.multiselect.clear(!0),a.multiselect.initList=e.SelectedEvents,a.pa(),a.ug(),a.Ma(),"Full"===e.UpdateType&&(a.vg(),a.wg()),a.Ua(),a.Ya(),a.Za(),a.Ha(e.CallBackData,!0),a.bb(),e.Message&&a.message(e.Message),a.Ga()}},this.Ha=function(e,t){window.setTimeout(function(e,t){return function(){if(a.cb()){if("function"==typeof a.onAfterRender){var i={};i.isCallBack=t,i.data=e,a.onAfterRender(i)}}else a.afterRender&&a.afterRender(e,t)}}(e,t),0)},this.cb=function(){return 2===a.api},this.ca=function(t,i){return a.ea.da()?e.Util.escapeTextHtml(t,i):e.Util.isNullOrUndefined(i)?e.Util.isNullOrUndefined(t)?"":t:i},this.G=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.Ma=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var e=this.events.list.length,t=0;t<e;t++)this.ne(t);this.cellMode?this.xg():this.yg()}},this.ia=function(e){var t=e?0:100;a.loadingTimeout&&window.clearTimeout(a.loadingTimeout),a.loadingTimeout=window.setTimeout(function(){a.loadingLabelVisible&&a.nav.loading&&(a.nav.loading.style.top=s.headerHeight()+5+"px",a.nav.loading.innerHTML=a.ca(this.loadingLabelText,this.loadingLabelHtml),a.nav.loading.style.display="")},t)},this.Ga=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),a.nav.loading&&(this.nav.loading.style.display="none")},this.yg=function(){if(this.events.list){for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t];if("object"!=typeof i)throw new e.Exception("Event data item must be an object");if(!i.start)throw new e.Exception("Event data item must specify 'start' property");var n=null;if("function"==typeof a.onBeforeEventRender&&(n=a.P.events[t]),n){if(n.hidden)continue}else if(i.hidden)continue;var o=new e.Date(i.start),r=new e.Date(i.end);if(r=a.zg(r),!(o.getTime()>r.getTime()))for(var s=0;s<this.rows.length;s++)if((h=this.rows[s]).belongsHere(o,r)){var l=new e.Event(i,a);if("function"==typeof a.onEventFilter&&a.events.ve){var c={};if(c.filter=a.events.ve,c.visible=!0,c.e=l,a.onEventFilter(c),!c.visible)break}h.events.push(l),"function"==typeof this.onBeforeEventRender&&(l.cache=this.P.events[t])}}for(var d=0;d<this.rows.length;d++){var h;(h=this.rows[d]).events.sort(this.xe);for(var u=0;u<this.rows[d].events.length;u++){var f=h.events[u],p=h.getStartColumn(f),v=h.getWidth(f);h.putIntoLine(f,p,v,d)}}}},this.xg=function(){this.cellEvents=[];for(var t=0;t<this.Ag();t++){this.cellEvents[t]=[];for(var i=0;i<this.rows.length;i++){var n={},o=this.firstDate.addDays(7*i+t);n.start=o,n.end=o.addDays(1),n.events=[],this.cellEvents[t][i]=n}}for(var r=0;r<this.events.list.length;r++){var s=this.events.list[r];if("object"!=typeof s)throw new e.Exception("Event data item must be an object");if(!s.start)throw new e.Exception("Event data item must specify 'start' property");var l=null;if("function"==typeof a.onBeforeEventRender&&(l=a.P.events[r]),l){if(l.hidden)continue}else if(s.hidden)continue;var c=new e.Date(s.start),d=new e.Date(s.start);if(d=a.zg(d),!(c.getTime()>d.getTime()))for(t=0;t<this.Ag();t++)for(i=0;i<this.rows.length;i++)if(n=this.cellEvents[t][i],c.getTime()>=n.start.getTime()&&c.getTime()<n.end.getTime()){var h=new e.Event(s,a);if("function"==typeof a.onEventFilter&&a.events.ve){var u={};if(u.filter=a.events.ve,u.visible=!0,u.e=h,a.onEventFilter(u),!u.visible)continue}n.events.push(h),"function"==typeof this.onBeforeEventRender&&(h.cache=this.P.events[r])}}for(t=0;t<this.Ag();t++)for(i=0;i<this.rows.length;i++)(n=this.cellEvents[t][i]).events.sort(this.xe)},this.pa=function(){for(var e=0;e<this.elements.events.length;e++){var t=this.elements.events[e];if("function"==typeof a.onDomRemoveEvent){var i=t.domArgs;t.domArgs=null,a.onDomRemoveEvent(i)}t.event=null,t.click=null,t.parentNode.removeChild(t)}this.elements.events=[]},this.Za=function(){this.P.events={},this.cellMode?this.Bg():this.Cg(),this.multiselect.redraw()},this.Bg=function(){this.elements.events=[];for(var e=0;e<this.Ag();e++)for(var t=0;t<this.rows.length;t++)for(var i=this.cellEvents[e][t],n=0;n<i.events.length;n++){var a=i.events[n];a.part.colStart=e,a.part.colWidth=1,a.part.row=t,a.part.line=n,a.part.startsHere=!0,a.part.endsHere=!0,this.Tc(a)}},this.Cg=function(){this.elements.events=[];for(var e=0;e<this.rows.length;e++)for(var t=this.rows[e],i=0;i<t.lines.length;i++)for(var n=t.lines[i],a=0;a<n.length;a++)this.Tc(n[a])},this.we=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.xe=function(e,t){if(!e||!t)return 0;if(!(e.data&&t.data&&e.data.sort&&t.data.sort&&0!==e.data.sort.length&&0!==t.data.sort.length))return a.we(e,t);for(var i=0,n=0;0===i&&void 0!==e.data.sort[n]&&void 0!==t.data.sort[n];)i=e.data.sort[n]===t.data.sort[n]?0:"number"==typeof e.data.sort[n]&&"number"==typeof t.data.sort[n]?e.data.sort[n]-t.data.sort[n]:a.ye(e.data.sort[n],t.data.sort[n],a.sortDirections[n]),n++;return i},this.ye=function(e,t,i){var n="desc"!==i?-1:1,a=-n;if(null===e&&null===t)return 0;if(null===t)return a;if(null===e)return n;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?n:a},this.Dg=function(e,i,n,a,o,r){o||(o=0);var s=a;this.shadow={},this.shadow.list=[],this.shadow.start={x:e,y:i},this.shadow.width=a,this.eventMoveToPosition&&(s=1,this.shadow.position=n);var l=7*i+e-o;l<0&&(s+=l,e=0,i=0);for(var c=o;c>=7;)i--,c-=7;c>e?c>e+(7-this.Ag())?(i--,e=e+7-c):(s=s-c+e,e=0):e-=c,i<0&&(i=0,e=0);var d=null;for(t.resizingEvent?d="w-resize":t.movingEvent&&(d="move"),this.nav.top.style.cursor=d;s>0&&i<this.rows.length;){var h=Math.min(this.Ag()-e,s),u=this.rows[i],f=this.Eg(i),p=u.getHeight();this.eventMoveToPosition&&(f=this.Fg(i,n),p=2);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.style.position="absolute",v.style.left=this.Gg()*e+"%",v.style.width=this.Gg()*h+"%",v.style.top=f+"px",v.style.height=p+"px",v.style.cursor=d;var m=document.createElement("div");m.setAttribute("unselectable","on"),v.appendChild(m),v.className=this.G("_shadow"),m.className=this.G("_shadow_inner"),this.nav.events.appendChild(v),this.shadow.list.push(v),s-=h+7-this.Ag(),e=0,i++}},this.Hg=function(){this.shadow&&(e.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor="")},this.Fg=function(e,t){for(var i=0,n=0;n<e;n++)i+=this.rows[n].getHeight();return(i+=this.cellHeaderHeight)+t*s.lineHeight()},this.Ig=function(e,t){return this.firstDate.addDays(7*t+e)},this.ne=function(e){var t=this.P.events,i=this.events.list[e],n={};for(var a in i)n[a]=i[a];if("function"==typeof this.onBeforeEventRender){var o={};o.e=n,o.data=n,this.onBeforeEventRender(o)}t[e]=n},this.Tc=function(t){var i=this.cellMode,n=t.part.row,r=t.part.line,l=t.part.colStart,c=t.part.colWidth,d=t.cache||t.data,h=i?0:this.Gg()*l,u=i?100:this.Gg()*c,f=i?r*s.lineHeight():this.Fg(n,r);(k=document.createElement("div")).setAttribute("unselectable","on"),k.style.height=s.eventHeight()+"px",k.style.position="relative",k.style.overflow="hidden",k.className=this.G("_event"),d.cssClass&&e.Util.addClass(k,d.cssClass),k.event=t,i?(k.style.marginRight="2px",k.style.marginBottom="2px"):(k.style.width=u+"%",k.style.position="absolute",k.style.left=h+"%",k.style.top=f+"px"),this.showToolTip&&d.toolTip&&!this.bubble&&(k.title=d.toolTip),k.onclick=this.Jg,k.ondblclick=this.Kg,k.oncontextmenu=this.Lg,k.onmousedown=this.Wc,k.onmousemove=this.Uc,k.onmouseout=this.Vc,k.ontouchstart=o.onEventTouchStart,k.ontouchmove=o.onEventTouchMove,k.ontouchend=o.onEventTouchEnd,t.part.startsHere||e.Util.addClass(k,this.G("_event_continueleft")),t.part.endsHere||e.Util.addClass(k,this.G("_event_continueright"));var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.G("_event_inner"),d.fontColor&&(p.style.color=d.fontColor),d.borderColor&&(p.style.borderColor="darker"===d.borderColor&&d.backColor?e.ColorUtil.darker(d.backColor,2):d.borderColor),d.backColor&&(p.style.background=d.backColor),k.appendChild(p);var v=this.ea.locale(),m=a.eventStartEndWidth;if(this.eventStartTime||d.htmlStart){var g="Clock12Hours"===a.ea.timeFormat()?t.start().toString("h tt",v):t.start().toString("H",v),b={left:5,top:3,width:m,bottom:2,v:"Visible",html:d.htmlStart||g,css:a.G("_event_timeleft")},y=e.Areas.createArea(k,t,b);k.appendChild(y),p.style.paddingLeft=m+"px"}if((this.eventEndTime||d.htmlEnd)&&(g="Clock12Hours"===a.ea.timeFormat()?t.end().toString("h tt",v):t.end().toString("H",v),b={right:5,top:3,width:m,bottom:2,v:"Visible",html:d.htmlEnd||g,css:a.G("_event_timeright")},y=e.Areas.createArea(k,t,b),k.appendChild(y),p.style.paddingRight=m+"px"),d.areas)for(var w=d.areas,x=0;x<w.length;x++)e.Areas.isVisible(b=w[x])&&(y=e.Areas.createArea(k,t,b),k.appendChild(y));!function(){var e={};e.e=t,e.element=null,k.domArgs=e,"function"==typeof a.onDomAddEvent&&a.onDomAddEvent(e),e.element?p.appendChild(e.element):p.innerHTML=t.client.innerHTML()}(),this.elements.events.push(k),i?this.cells[l][n].body.appendChild(k):this.nav.events.appendChild(k),a.multiselect.wc(k.event)&&a.multiselect.add(k.event,!0);var k=k;if(a.cb()){if("function"==typeof a.onAfterEventRender){var C={};C.e=k.event,C.div=k,a.onAfterEventRender(C)}}else a.afterEventRender&&a.afterEventRender(k.event,k)},this.Jg=function(e){o.start||a.pb(this,e)},this.Kg=function(e){a.tb(this,e)},this.Uc=function(i){var n=this,o=n.event;if(void 0!==t&&!t.movingEvent&&!t.resizingEvent){var r=e.mo3(n,i);r&&(function(){var t=n;if(!t.active){var i=[];"Disabled"===a.eventDeleteHandling||(o.cache||o.data).deleteDisabled||i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:a.G("_event_delete"),js:function(e){a.zb(e)}});var r=t.event.cache?t.event.cache.areas:t.event.data.areas;r&&r.length>0&&(i=i.concat(r)),e.Areas.showAreas(t,t.event,null,i)}}(),a.Mg(n.event).forEach(function(t){e.Util.addClass(t,a.G("_event_hover"))}),!a.cellMode&&r.x<=6&&o.client.resizeEnabled()?o.part.startsHere?(n.style.cursor="w-resize",n.dpBorder="left"):n.style.cursor="not-allowed":!a.cellMode&&n.clientWidth-r.x<=6&&o.client.resizeEnabled()?o.part.endsHere?(n.style.cursor="e-resize",n.dpBorder="right"):n.style.cursor="not-allowed":n.style.cursor=o.client.clickEnabled()?"pointer":"default",void 0!==e.Bubble&&a.bubble&&"Disabled"!==a.eventHoverHandling&&(t.movingEvent||t.resizingEvent?e.Bubble.hideActive():this.oe&&r.x===this.oe.x&&r.y===this.oe.y||(this.oe=r,a.bubble.showEvent(n.event))))}},this.Vc=function(t){var i=this;void 0!==e.Bubble&&a.bubble&&a.bubble.hideOnMouseOut(),i.style.cursor="",a.Mg(i.event).forEach(function(t){e.Util.removeClass(t,a.G("_event_hover"))}),e.Areas.hideAreas(i,t)},this.Lg=function(){return a.ub(this.event),!1},this.Wc=function(i){if(!o.start){void 0!==e.Bubble&&(e.Bubble.hideActive(),e.Bubble.cancelShowing());var n=this,r=n.event,s=r.part.row,l=r.part.colStart,c=r.part.line,d=r.part.colWidth;i=i||window.event;var h=e.Util.mouseButton(i);if(i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),h.left)if(void 0!==e.Bubble&&a.bubble&&e.Bubble.hideActive(),t.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var u={start:{}};u.start.x=l,u.start.y=s,u.event=n.event,u.width=e.DateUtil.daysSpan(u.event.start(),u.event.end())+1,u.direction=this.style.cursor,t.resizingEvent=u}else if("move"===this.style.cursor||r.client.moveEnabled()){a.Hg();var f=e.mo3(a.nav.events,i);if(!f)return;var p=a.Ng(f.x,f.y);if(!p)return;var v=e.DateUtil.daysDiff(r.start(),a.rows[s].start),m=7*p.y+p.x-(7*s+l);v&&(m+=v);var g={start:{}};g.start.x=l,g.start.y=s,g.start.line=c,g.offset=a.eventMoveToPosition?0:m,g.colWidth=d,g.event=n.event,g.coords=f,t.movingEvent=g}}},this.temp={},this.temp.getPosition=function(){if(!a.coords)return null;if(!(t=a.Ng(a.coords.x,a.coords.y)))return null;var t,i=new e.Date(a.Ig(t.x,t.y));return(t={}).start=i,t.end=i.addDays(1),t},this.Xc={};var o=a.Xc;o.active=!1,o.start=!1,o.timeouts=[],o.onEventTouchStart=function(e){if(!o.active&&!o.start){o.clearTimeouts(),o.start=!0,o.active=!1;var t=this;t.event.client.moveEnabled()&&o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1;var i=o.relativeCoords(e);o.startMoving(t,i),e.preventDefault()},a.tapAndHoldTimeout)),e.stopPropagation()}},o.onEventTouchMove=function(e){o.clearTimeouts(),o.start=!1},o.onEventTouchEnd=function(e){o.clearTimeouts(),o.start&&a.qb(this,e),window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.onMainTouchStart=function(e){o.active||o.start||(o.clearTimeouts(),o.start=!0,o.active=!1,o.timeouts.push(window.setTimeout(function(){o.active=!0,o.start=!1,e.preventDefault();var t=o.relativeCoords(e);o.startRange(t)},a.tapAndHoldTimeout)))},o.onMainTouchMove=function(e){if(o.clearTimeouts(),o.start=!1,o.active){e.preventDefault();var t=o.relativeCoords(e);if(o.moving)return void o.updateMoving(t);o.range&&o.updateRange(t)}},o.onMainTouchEnd=function(t){if(o.clearTimeouts(),o.active){if(o.moving){var i=o.moving.event,n=a.shadow.start,r=a.shadow.position,s=o.moving.offset;a.Hg(),o.moving=null,a.Ib(i,n.x,n.y,s,t,r)}if(o.range){var l=o.range,c=(n=new e.Date(a.Ig(l.from.x,l.from.y))).addDays(l.width);o.range=null,a.Qb(n,c)}}window.setTimeout(function(){o.start=!1,o.active=!1},500)},o.clearTimeouts=function(){for(var e=0;e<o.timeouts.length;e++)clearTimeout(o.timeouts[e]);o.timeouts=[]},o.relativeCoords=function(t){var i=t.touches?t.touches[0]:t,n=i.pageX,o=i.pageY,r=e.abs(a.nav.events);return{x:n-r.x,y:o-r.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},o.startMoving=function(t,i){a.Hg();var n=t.event,r=a.Ng(i.x,i.y);if(r){var s=e.DateUtil.daysDiff(n.start(),a.rows[n.part.row].start),l=7*r.y+r.x-(7*n.part.row+n.part.colStart);s&&(l+=s);var c={start:{}};c.start.x=n.part.colStart,c.start.y=n.part.row,c.start.line=n.part.line,c.offset=a.eventMoveToPosition?0:l,c.colWidth=n.part.colWidth,c.event=n,c.coords=i,o.moving=c,o.updateMoving(i)}},o.updateMoving=function(t){var i=a.Ng(t.x,t.y);if(i){var n=a.Og(i);a.Hg();var r=o.moving.event,s=o.moving.offset,l=a.cellMode?1:e.DateUtil.daysSpan(r.start(),r.end())+1;l<1&&(l=1),a.Dg(i.x,i.y,n,l,s,r)}},o.startRange=function(e){var t=a.Ng(e.x,e.y);if(t){a.Hg();var i={start:{}};i.start.x=t.x,i.start.y=t.y,i.x=t.x,i.y=t.y,i.width=1,o.range=i,o.updateRange(e)}},o.updateRange=function(e){var t=a.Ng(e.x,e.y);if(t){a.Hg();var i=o.range.start,n=7*i.y+i.x,r=7*t.y+t.x,s=Math.abs(r-n)+1;s<1&&(s=1);var l=n<r?i:t;o.range.width=s,o.range.from={x:l.x,y:l.y},a.Dg(l.x,l.y,0,s,0,null)}},this.isWeekend=function(e){return 0===e.dayOfWeek()||6===e.dayOfWeek()},this.Pg=function(){var e=this.startDate.lastDayOfMonth();if(this.showWeekend)return e;for(;this.isWeekend(e);)e=e.addDays(-1);return e},this.ug=function(){if("string"==typeof this.startDate&&(this.startDate=new e.Date(this.startDate)),this.startDate="Month"===this.viewType?this.startDate.firstDayOfMonth():this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(s.weekStarts()),!this.showWeekend){for(var t=this.startDate.addMonths(-1).getMonth(),i=new e.Date(this.firstDate).addDays(6);this.isWeekend(i);)i=i.addDays(-1);i.getMonth()===t&&(this.firstDate=this.firstDate.addDays(7))}var n;if("Month"===this.viewType){var o=this.Pg(),r=e.DateUtil.daysDiff(this.firstDate,o)+1;n=Math.ceil(r/7)}else n=this.weeks;this.days=7*n,this.rows=[];for(var l=0;l<n;l++){var c={};c.start=this.firstDate.addDays(7*l),c.end=c.start.addDays(this.Ag()),c.events=[],c.lines=[],c.index=l,c.minHeight=this.cellHeight,c.calendar=this,c.belongsHere=function(e,t){return t.getTime()===e.getTime()&&e.getTime()===this.start.getTime()||!(t.getTime()<=this.start.getTime()||e.getTime()>=this.end.getTime())},c.getPartStart=function(t){return e.DateUtil.max(this.start,t.start())},c.getPartEnd=function(t){return e.DateUtil.min(this.end,t.rawend())},c.getStartColumn=function(t){var i=this.getPartStart(t);return e.DateUtil.daysDiff(this.start,i)},c.getWidth=function(t){return e.DateUtil.daysSpan(this.getPartStart(t),this.getPartEnd(t))+1},c.putIntoLine=function(e,t,i,n){for(var a=this,o=0;o<this.lines.length;o++)if((r=this.lines[o]).isFree(t,i))return r.addEvent(e,t,i,n,o),o;var r;return(r=[]).isFree=function(e,t){for(var i=!0,n=0;n<this.length;n++){var a=this[n];e+t-1<a.part.colStart||e>a.part.colStart+a.part.colWidth-1||(i=!1)}return i},r.addEvent=function(e,t,i,n,o){e.part.colStart=t,e.part.colWidth=i,e.part.row=n,e.part.line=o,e.part.startsHere=a.start.getTime()<=e.start().getTime(),e.part.endsHere=a.end.getTime()>=e.end().getTime(),this.push(e)},r.addEvent(e,t,i,n,this.lines.length),this.lines.push(r),this.lines.length-1},c.getStart=function(){for(var e=0;e<a.rows.length&&e<this.index;e++)a.rows[e].getHeight()},c.getHeight=function(){return Math.max(this.lines.length*s.lineHeight()+a.cellHeaderHeight+a.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(c)}this.Qg=this.firstDate.addDays(7*n)},this.Rg=function(){switch(this.heightSpec){case"Auto":for(var e=s.headerHeight(),t=0;t<this.rows.length;t++)e+=this.rows[t].getHeight();return e;case"Fixed":return this.height}},this.Sg=function(e,t){return 7*t.y+t.x-(7*e.y+e.x)+1},this.Ae={},this.Ae.scope=null,this.Ae.notify=function(){a.Ae.scope&&a.Ae.scope.$apply()},this.debug=new e.Debug(this),this.ed=function(){var e=this.nav.top;this.nav.top.dp=this,e.setAttribute("unselectable","on"),e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.style.WebkitUserSelect="none",e.style.WebkitTapHighlightColor="rgba(0,0,0,0)",e.style.WebkitTouchCallout="none",e.style.position="relative",this.width&&(e.style.width=this.width),e.onselectstart=function(e){return!1},e.className=this.G("_main"),this.hideUntilInit&&(e.style.visibility="hidden"),this.visible||(e.style.display="none"),e.onmousemove=this.kd,e.ontouchstart=o.onMainTouchStart,e.ontouchmove=o.onMainTouchMove,e.ontouchend=o.onMainTouchEnd,this.tg=document.createElement("div"),this.tg.style.display="none",this.nav.top.appendChild(this.tg);var t=document.createElement("div");t.style.position="relative",t.style.height=s.headerHeight()+"px",t.oncontextmenu=function(){return!1},this.nav.top.appendChild(t),this.nav.header=t;var i=document.createElement("div");i.style.zoom="1";var n=document.createElement("div");n.style.position="relative",i.appendChild(n),this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left="5px",this.nav.loading.className=a.G("_loading"),this.nav.loading.innerHTML=a.ca(this.loadingLabelText,this.loadingLabelHtml),this.nav.loading.style.display="none",this.nav.top.appendChild(i),this.nav.top.appendChild(this.nav.loading),this.nav.scrollable=i,this.nav.events=n},this.kd=function(i){i.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),a.coords=e.mo3(a.nav.events,i);var n=a.coords;if(n){var o=a.Ng(n.x,n.y);if(o){if(t.resizingEvent){a.Hg();var r=t.resizingEvent;if("w-resize"===r.direction){u=o;var s=r.event.rawend();s.getDatePart().getTime()===s.getTime()&&(s=s.addDays(-1));var l=a.Tg(s);f=a.Sg(o,l)}else u=a.Tg(r.event.start()),f=a.Sg(u,o);f<1&&(f=1),a.Dg(u.x,u.y,0,f)}else if(t.movingEvent){if(n.x===t.movingEvent.coords.x&&n.y===t.movingEvent.coords.y)return;var c=a.Og(o);a.Hg();var d=t.movingEvent.event,h=t.movingEvent.offset;(f=a.cellMode?1:e.DateUtil.daysSpan(d.start(),d.rawend())+1)<1&&(f=1),a.Dg(o.x,o.y,c,f,h,d)}else if(t.timeRangeSelecting){t.cancelCellClick=!0,a.Hg();var u,f,p=7*(u=t.timeRangeSelecting).y+u.x,v=7*o.y+o.x;(f=Math.abs(v-p)+1)<1&&(f=1);var m=p<v?u:o;t.timeRangeSelecting.from={x:m.x,y:m.y},t.timeRangeSelecting.width=f,t.timeRangeSelecting.moved=!0,a.Dg(m.x,m.y,0,f,0,null)}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingEvent){var g=e.Date.today(),b=(i={id:t.drag.id,start:g,end:g.addSeconds(t.drag.duration),text:t.drag.text},t.drag.data);if(b){var y=["duration","element","remove","id","text"];for(var w in b)e.contains(y,w)||(i[w]=b[w])}(d=new e.Event(i,a)).external=!0;var x=t.movingEvent={};x.event=d,x.coords=n,x.position=0,x.offset=0,x.external=!0,x.removeElement=t.drag.element}i.cancelBubble=!0}}}},this.Og=function(e){for(var t=e.relativeY,i=a.rows[e.y],n=a.cellHeaderHeight,o=s.lineHeight(),r=i.lines.length,l=0;l<i.lines.length;l++)if(i.lines[l].isFree(e.x,1)){r=l;break}var c=Math.floor((t-n+o/2)/o);return c=Math.min(r,c),Math.max(0,c)},this.message=function(t,i){if(null!==t&&a.S){var n,o={};n="object"==typeof arguments[1]?(o=arguments[1]).delay:i;var r="";r=o.rawHtml?t:e.Util.escapeHtml(t),n=n||this.messageHideAfter||2e3;var l,c=s.headerHeight();if(this.nav.message)l=a.nav.message;else{(l=document.createElement("div")).setAttribute("unselectable","on"),l.style.position="absolute",l.style.right="0px",l.style.left="0px",l.style.top=c+"px",l.style.display="none",l.onmousemove=function(){l.messageTimeout&&!l.status&&clearTimeout(l.messageTimeout)},l.onmouseout=function(){"none"!==a.nav.message.style.display&&(l.messageTimeout=setTimeout(a.nb,500))};var d=document.createElement("div");d.setAttribute("unselectable","on"),d.onclick=function(){a.nav.message.style.display="none"},d.className=this.G("_message"),l.appendChild(d);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.className=this.G("_message_close"),h.onclick=function(){a.nav.message.style.display="none"},l.appendChild(h),this.nav.top.appendChild(l),this.nav.message=l}var u=function(){if(a.nav.message){var t=a.nav.message.firstChild;t.className=a.G("_message"),o.cssClass&&e.Util.addClass(t,o.cssClass),t.innerHTML=r,e.fade(a.nav.message,.2,function(){l.messageTimeout=setTimeout(a.nb,n)})}};clearTimeout(l.messageTimeout),"none"!==this.nav.message.style.display?e.fade(a.nav.message,-.2,u):u()}},this.message.show=function(e){a.message(e)},this.message.hide=function(){a.nb()},this.nb=function(){e.fade(a.nav.message,-.2,function(){a.nav.message.style.display="none"})},this.xa=function(e){"Parent100Pct"===a.heightSpec&&a.Ua()},this.Ua=function(){var e=this.nav.scrollable;"Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(e.style.top=this.headerHeight+"px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.overflow="auto",e.style.position="absolute"):e.style.position="relative",this.nav.top.style.height="Parent100Pct"===this.heightSpec?"100%":this.Rg()+"px";for(var t=0;t<this.cells.length;t++)for(var i=0;i<this.cells[t].length;i++)this.cells[t][i].style.top=this.Eg(i)+"px",this.cells[t][i].style.height=this.rows[i].getHeight()+"px";this.Ug()},this.Ng=function(e,t){for(var i=Math.floor(this.nav.top.clientWidth/this.Ag()),n=Math.min(Math.floor(e/i),this.Ag()-1),a=null,o=0,r=0,s=0,l=0;l<this.rows.length;l++){if(t<(r+=this.rows[l].getHeight())){o=t-s,a=l;break}s=r}null===a&&(a=this.rows.length-1);var c={};return c.x=n,c.y=a,c.relativeY=o,c},this.Tg=function(t){for(var i=e.DateUtil.daysDiff(this.firstDate,t),n={x:0,y:0};i>=7;)n.y++,i-=7;return n.x=i,n},this.Ug=function(){var t=e.sw(this.nav.scrollable);this.nav.header.style.marginRight=t+"px"};var r=null;this.wg=function(){var t=this.nav.header,i=this.nav.events;this.cells=[];for(var n=0;n<this.Ag();n++){this.cells[n]=[];var o=this.headerProperties?this.headerProperties[n]:null,l=n+s.weekStarts();if(l>6&&(l-=7),o||((o={}).html=s.locale().dayNames[l]),"function"==typeof a.onBeforeHeaderRender){var c={header:{}};c.header.dayOfWeek=l;var d=["html","backColor","cssClass"];e.Util.copyProps(o,c.header,d),a.onBeforeHeaderRender(c),e.Util.copyProps(c.header,o,d)}var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.left=this.Gg()*n+"%",h.style.width=this.Gg()+"%",h.style.top="0px",h.style.height=s.headerHeight()+"px",function(e){h.onclick=function(){a.wb(e)}}(l);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.G("_header_inner"),u.innerHTML=o.html,h.appendChild(u),h.className=this.G("_header"),o&&(o.cssClass&&e.Util.addClass(h,o.cssClass),o.backColor&&(u.style.background=o.backColor)),t.appendChild(h);for(var f=0;f<this.rows.length;f++)this.$c(n,f,i)}if(!e.contains(this.nav.top.childNodes,r)&&e.Util.isNullOrUndefined(void 0)){var p=document.createElement("div");p.style.position="absolute",p.style.padding="2px",p.style.top="0px",p.style.left="0px",p.style.backgroundColor="#FF6600",p.style.color="white",p.innerHTML="DEMO",r=p,this.nav.top.appendChild(p)}},this.vg=function(){for(var e=0;e<this.cells.length;e++)for(var t=0;t<this.cells[e].length;t++)this.cells[e][t].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.$c=function(t,i,n){var o,r=this.rows[i],l=this.firstDate.addDays(7*i+t),c=null;if(o=this.cellProperties?this.cellProperties[i*this.Ag()+t]:null)c=o.headerHtml;else{var d=l.getDay();c=1===d?s.locale().monthNames[l.getMonth()]+" "+d:d+""}if(o||((o={}).business=!a.isWeekend(l),o.headerHtml=c),"function"==typeof a.onBeforeCellRender){var h={cell:{}};h.cell.areas=null,h.cell.backColor=null,h.cell.backImage=null,h.cell.backRepeat=null,h.cell.business=a.isWeekend(l),h.cell.headerHtml=c,h.cell.headerBackColor=null,h.cell.cssClass=null,h.cell.html=null,h.cell.start=l,h.cell.end=h.cell.start.addDays(1),h.cell.events=function(){return a.events.forRange(h.cell.start,h.cell.end)},e.Util.copyProps(o,h.cell),a.onBeforeCellRender(h),e.Util.copyProps(h.cell,o,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.cursor="default",u.style.left=this.Gg()*t+"%",u.style.width=this.Gg()+"%",u.style.top=this.Eg(i)+"px",u.style.height=r.getHeight()+"px",u.d=l,u.x=t,u.y=i,u.props=o;var f=this.startDate.addMonths(-1).getMonth(),p=this.startDate.addMonths(1).getMonth(),v=this.startDate.getMonth(),m=document.createElement("div");m.setAttribute("unselectable","on"),u.appendChild(m),m.className=this.G("_cell_inner"),m.className=this.G("_cell_inner"),l.getMonth()===v?u.className=this.G("_cell"):l.getMonth()===f?u.className=this.G("_cell")+" "+this.G("_previous"):l.getMonth()===p&&(u.className=this.G("_cell")+" "+this.G("_next")),o&&(o.cssClass&&e.Util.addClass(u,o.cssClass),o.business&&e.Util.addClass(u,this.G("_cell_business")),o.backColor&&(m.style.backgroundColor=o.backColor),o.backImage&&(m.style.backgroundImage="url('"+o.backImage+"')"),o.backRepeat&&(m.style.backgroundRepeat=o.backRepeat)),u.onmousedown=this.Yb,u.onmousemove=this.hc,u.onmouseout=this.gc,u.oncontextmenu=this.Vg,u.onclick=this.Wg,u.ondblclick=this.Xg;var g=document.createElement("div");if(g.setAttribute("unselectable","on"),g.style.height=this.cellHeaderHeight+"px",o&&o.headerBackColor&&(g.style.background=o.headerBackColor),g.className=this.G("_cell_header"),g.innerHTML=o.headerHtml,m.appendChild(g),o&&o.html){var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.height=r.getHeight()-this.cellHeaderHeight+"px",b.style.overflow="hidden",b.innerHTML=o.html,m.appendChild(b)}if(this.cellMode){var y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=this.cellHeight-this.cellHeaderHeight+"px",y.style.overflow="auto",y.style.position="relative";var w=document.createElement("div");w.setAttribute("unselectable","on"),w.style.paddingTop="1px",w.style.paddingBottom="1px",y.appendChild(w),m.appendChild(y),u.body=w,u.scrolling=y}if(u.props)for(var x=u.props.areas||[],k=0;k<x.length;k++){var C=x[k];if(e.Areas.isVisible(C)){var _=e.Areas.createArea(u,u.props,C);u.appendChild(_)}}this.cells[t][i]=u,n.appendChild(u),"function"==typeof a.onAfterCellRender&&(h.cell.div=u,h.cell.divHeader=g,a.onAfterCellRender(h))},this.hc=function(){var t=this;t.props&&e.Areas.showAreas(t,t.props)},this.gc=function(t){this.props&&e.Areas.hideAreas(this,t)},this.Vg=function(){return function(t){var i=new e.Date(t),n=i.addDays(1),o=new e.Selection(i,n,null,a);a.contextMenuSelection&&a.contextMenuSelection.show(o)}(this.d),!1},this.Xg=function(){var t=this.d;if(a.timeouts){for(var i in a.timeouts)window.clearTimeout(a.timeouts[i]);a.timeouts=null}if("Disabled"!==a.timeRangeDoubleClickHandling){var n=new e.Date(t),o=n.addDays(1);a.Rb(n,o)}},this.Wg=function(){if(!t.cancelCellClick){var i=this.d,n=function(t){var i=new e.Date(t),n=i.addDays(1);a.Qb(i,n)};if("Disabled"!==a.timeRangeSelectedHandling&&"Disabled"===a.timeRangeDoubleClickHandling)return void n(i);a.timeouts||(a.timeouts=[]),a.timeouts.push(window.setTimeout(function(e){return function(){n(e)}}(i),a.doubleClickTimeout))}},this.Yb=function(i){var n=this,o=n.x,r=n.y;if(t.cancelCellClick=!1,n.scrolling){var s=e.mo3(n.scrolling,i),l=e.sw(n.scrolling);if(s.x>n.scrolling.offsetWidth-l)return}"Disabled"!==a.timeRangeSelectedHandling&&(a.Hg(),t.timeRangeSelecting={root:a,x:o,y:r,from:{x:o,y:r},width:1})},this.Ag=function(){return this.showWeekend?7:5},this.Gg=function(){return this.showWeekend?14.285:20},this.Eg=function(e){for(var t=0,i=0;i<e;i++)t+=this.rows[i].getHeight();return t},this.clearSelection=function(){this.Hg()},this.fa=function(e,t,i){var n={};n.action=e,n.parameters=i,n.data=t,n.header=this.ga();var o="JSON"+JSON.stringify(n);__doPostBack(a.uniqueID,o)},this.ha=function(t,i,n,o){if(this.I()){void 0===o&&(o="CallBack"),a.ia();var r={};r.action=t,r.type=o,r.parameters=i,r.data=n,r.header=this.ga();var s="JSON"+JSON.stringify(r);this.backendUrl?e.request(this.backendUrl,this.ja,s,this.ka):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,s,this.la,null,this.callbackError,!0)}else a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning")},this.I=function(){return"javasc"!==a.U&&-1===a.U.indexOf("DCODE")||a.devsb},this.ma=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.ka=function(e){if("function"==typeof a.onAjaxError){var t={};t.request=e,a.onAjaxError(t)}else"function"==typeof a.ajaxError&&a.ajaxError(e)},this.ja=function(e){a.la(e.responseText)},this.ga=function(){var t={};return t.v=this.v,t.control="dpm",t.id=this.id,t.visibleStart=new e.Date(this.firstDate),t.visibleEnd=t.visibleStart.addDays(this.days),t.clientState=this.clientState,t.cssClassPrefix=a.cssClassPrefix,t.startDate=a.startDate,t.showWeekend=this.showWeekend,t.locale=this.locale,t.timeFormat=this.timeFormat,t.weekStarts=this.weekStarts,t.viewType=this.viewType,t.weeks=this.weeks,t.selected=a.multiselect.events(),t.hashes=a.hashes,t},this.visibleStart=function(){return new e.Date(this.firstDate)},this.visibleEnd=function(){return a.visibleStart().addDays(a.days)},this.Ab=function(t,i,n,o){if("PostBack"===t)a.postBack2(i,n,o);else if("CallBack"===t)a.ha(i,n,o,"CallBack");else if("Immediate"===t)a.ha(i,n,o,"Notify");else if("Queue"===t)a.queue.add(new e.Action(this,i,n,o));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===s.notifyType()?a.ha(i,n,o,"Notify"):a.queue.add(new e.Action(a,i,n,o))}},this.Mb=function(e,t){var i=a.Nb(t),n={};n.args=e,n.guid=i,a.ha("Bubble",n)},this.Nb=function(t){var i=e.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[i]=t,i},this.eventClickPostBack=function(e,t){this.fa("EventClick",t,e)},this.eventClickCallBack=function(e,t){this.ha("EventClick",e,t)},this.pb=function(i,n){if(t.movingEvent=null,t.resizingEvent=null,(n=n||window.event).cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),void 0!==e.Bubble&&e.Bubble.hideActive(),"Disabled"!==a.eventDoubleClickHandling){if(a.timeouts){for(var o in a.timeouts)window.clearTimeout(a.timeouts[o]);a.timeouts=[]}else a.timeouts=[];a.timeouts.push(window.setTimeout(function(e,t){return function(){a.qb(e,t)}}(i,n),a.doubleClickTimeout))}else a.qb(i,n)},this.qb=function(e,t){var i=e.event;if(i.client.clickEnabled()){var n=t.ctrlKey,o=t.metaKey;if(a.cb()){var r={};if(r.e=i,r.div=e,r.originalEvent=t,r.meta=t.metaKey,r.ctrl=t.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventClick&&(a.onEventClick(r),r.preventDefault.value))return;switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(i);break;case"CallBack":a.eventClickCallBack(i);break;case"Select":a.sb(e,i,n,o);break;case"ContextMenu":(s=i.client.contextMenu())?s.show(i):a.contextMenu&&a.contextMenu.show(i);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}"function"==typeof a.onEventClicked&&a.onEventClicked(r)}else switch(a.eventClickHandling){case"PostBack":a.eventClickPostBack(i);break;case"CallBack":a.eventClickCallBack(i);break;case"JavaScript":a.onEventClick(i);break;case"Select":a.sb(e,i,n,o);break;case"ContextMenu":var s;(s=i.client.contextMenu())?s.show(i):a.contextMenu&&a.contextMenu.show(i);break;case"Bubble":a.bubble&&a.bubble.showEvent(i)}}},this.zb=function(e){if(a.cb()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDelete&&(a.onEventDelete(t),t.preventDefault.value))return;switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(e);break;case"CallBack":a.eventDeleteCallBack(e);break;case"Update":a.events.remove(e)}"function"==typeof a.onEventDeleted&&a.onEventDeleted(t)}else switch(a.eventDeleteHandling){case"PostBack":a.eventDeletePostBack(e);break;case"CallBack":a.eventDeleteCallBack(e);break;case"JavaScript":a.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.fa("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.ha("EventDelete",e,t)},this.eventDoubleClickPostBack=function(e,t){this.fa("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(e,t){this.ha("EventDoubleClick",e,t)},this.tb=function(t,i){if(void 0!==e.Bubble&&e.Bubble.hideActive(),a.timeouts){for(var n in a.timeouts)window.clearTimeout(a.timeouts[n]);a.timeouts=null}i=i||window.event;var o=t.event;if(a.cb()){var r={};if(r.e=o,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventDoubleClick&&(a.onEventDoubleClick(r),r.preventDefault.value))return;switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(o);break;case"CallBack":a.eventDoubleClickCallBack(o);break;case"Select":a.sb(t,o,i.ctrlKey,i.metaKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(o)}"function"==typeof a.onEventDoubleClicked&&a.onEventDoubleClicked(r)}else switch(a.eventDoubleClickHandling){case"PostBack":a.eventDoubleClickPostBack(o);break;case"CallBack":a.eventDoubleClickCallBack(o);break;case"JavaScript":a.onEventDoubleClick(o);break;case"Select":a.sb(t,o,i.ctrlKey,i.metaKey);break;case"Bubble":a.bubble&&a.bubble.showEvent(o)}},this.sb=function(e,t,i,n){a.Tb(e,t,i,n)},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.fa("EventSelect",i,n)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.ha("EventSelect",n,i)},this.Tb=function(e,t,i,n){var o=a.multiselect,r=o.isSelected(t);if(i||n||!r||1!==o.list.length)if(a.cb()){o.previous=o.events();var s={};if(s.e=t,s.selected=o.isSelected(t),s.ctrl=i,s.meta=n,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventSelect&&(a.onEventSelect(s),s.preventDefault.value))return;switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,l);break;case"Update":o.Xb(e,i)}"function"==typeof a.onEventSelected&&(s.change=o.isSelected(t)?"selected":"deselected",s.selected=o.isSelected(t),a.onEventSelected(s))}else{o.previous=o.events(),o.Xb(e,i);var l=o.isSelected(t)?"selected":"deselected";switch(a.eventSelectHandling){case"PostBack":a.eventSelectPostBack(t,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),a.eventSelectCallBack(t,l);break;case"JavaScript":a.onEventSelect(t,l)}}},this.eventRightClickPostBack=function(e,t){this.fa("EventRightClick",t,e)},this.eventRightClickCallBack=function(e,t){this.ha("EventRightClick",e,t)},this.ub=function(e){if(this.event=e,!e.client.rightClickEnabled())return!1;if(a.cb()){var t={};if(t.e=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventRightClick&&(a.onEventRightClick(t),t.preventDefault.value))return;switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(e);break;case"CallBack":a.eventRightClickCallBack(e);break;case"ContextMenu":(i=e.client.contextMenu())?i.show(e):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(e)}"function"==typeof a.onEventRightClicked&&a.onEventRightClicked(t)}else switch(a.eventRightClickHandling){case"PostBack":a.eventRightClickPostBack(e);break;case"CallBack":a.eventRightClickCallBack(e);break;case"JavaScript":a.onEventRightClick(e);break;case"ContextMenu":var i;(i=e.client.contextMenu())?i.show(e):a.contextMenu&&a.contextMenu.show(this.event);break;case"Bubble":a.bubble&&a.bubble.showEvent(e)}return!1},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.fa("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.ha("EventMenuClick",n,i)},this.Ob=function(e,t,i){switch(i){case"PostBack":a.eventMenuClickPostBack(t,e);break;case"CallBack":a.eventMenuClickCallBack(t,e)}},this.eventMovePostBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=a,this.fa("EventMove",n,o)},this.eventMoveCallBack=function(e,t,i,n,a){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=e,o.newStart=t,o.newEnd=i,o.position=a,this.ha("EventMove",o,n)},this.Ib=function(t,i,n,o,r,s,l){var c=t.start().getTimePart(),d=t.rawend().getDatePart();d.getTime()!==t.rawend().getTime()&&(d=d.addDays(1));var h=e.DateUtil.diff(t.rawend(),d),u=this.Ig(i,n);u=u.addDays(-o);var f=e.DateUtil.daysSpan(t.start(),t.rawend())+1,p=u.addDays(f),v=u.addTime(c),m=p.addTime(h);if(m=a.Yg(m),a.cb()){var g={};if(g.e=t,g.newStart=v,g.newEnd=m,g.position=s,g.ctrl=!1,g.external=l,r&&(g.ctrl=r.ctrlKey),g.shift=!1,r&&(g.shift=r.shiftKey),g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventMove&&(a.onEventMove(g),g.preventDefault.value))return;switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(t,v,m,null,s);break;case"CallBack":a.eventMoveCallBack(t,v,m,null,s);break;case"Notify":a.eventMoveNotify(t,v,m,null,s);break;case"Update":g.external?(t.start(v),t.end(m),t.commit(),a.events.add(t)):(t.start(v),t.end(m),a.events.update(t)),a.Kb()}"function"==typeof a.onEventMoved&&a.onEventMoved(g)}else switch(a.eventMoveHandling){case"PostBack":a.eventMovePostBack(t,v,m,null,s);break;case"CallBack":a.eventMoveCallBack(t,v,m,null,s);break;case"JavaScript":a.onEventMove(t,v,m,r.ctrlKey,r.shiftKey,s);break;case"Notify":a.eventMoveNotify(t,v,m,null,s)}},this.eventMoveNotify=function(t,i,n,o,r){var s=new e.Event(t.copy(),this);t.start(i),t.end(n),t.commit(),a.update(),this.Lb("Notify",s,i,n,o,r)},this.Lb=function(e,t,i,n,a,o){var r={};r.e=t,r.newStart=i,r.newEnd=n,r.position=o,this.Ab(e,"EventMove",r,a)},this.eventResizePostBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.fa("EventResize",n,a)},this.eventResizeCallBack=function(e,t,i,n){if(!t)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=e,a.newStart=t,a.newEnd=i,this.ha("EventResize",a,n)},this.Eb=function(t,i,n){var o=t.start().getTimePart(),r=t.rawend().getDatePart();r!=t.rawend()&&(r=r.addDays(1));var s=e.DateUtil.diff(t.rawend(),r),l=this.Ig(i.x,i.y),c=l.addDays(n),d=l.addTime(o),h=c.addTime(s);if(h=a.Yg(h),a.cb()){var u={};if(u.e=t,u.newStart=d,u.newEnd=h,u.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onEventResize&&(a.onEventResize(u),u.preventDefault.value))return;switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(t,d,h);break;case"CallBack":a.eventResizeCallBack(t,d,h);break;case"Notify":a.eventResizeNotify(t,d,h);break;case"Update":t.start(d),t.end(h),a.events.update(t)}"function"==typeof a.onEventResized&&a.onEventResized(u)}else switch(a.eventResizeHandling){case"PostBack":a.eventResizePostBack(t,d,h);break;case"CallBack":a.eventResizeCallBack(t,d,h);break;case"JavaScript":a.onEventResize(t,d,h);break;case"Notify":a.eventResizeNotify(t,d,h)}},this.eventResizeNotify=function(t,i,n,o){var r=new e.Event(t.copy(),this);t.start(i),t.end(n),t.commit(),a.update(),this.Gb("Notify",r,i,n,o)},this.Gb=function(e,t,i,n,a){var o={};o.e=t,o.newStart=i,o.newEnd=n,this.Ab(e,"EventResize",o,a)},this.timeRangeSelectedPostBack=function(e,t,i){var n={};n.start=e,n.end=t,this.fa("TimeRangeSelected",i,n)},this.timeRangeSelectedCallBack=function(e,t,i){var n={};n.start=e,n.end=t,this.ha("TimeRangeSelected",n,i)},this.Qb=function(e,t){if(t=a.Yg(t),a.cb()){var i={};if(i.start=e,i.end=t,i.control=a,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeSelect&&(a.onTimeRangeSelect(i),i.preventDefault.value))return;switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t),a.clearSelection();break;case"CallBack":a.timeRangeSelectedCallBack(e,t),a.clearSelection()}"function"==typeof a.onTimeRangeSelected&&a.onTimeRangeSelected(i)}else switch(a.timeRangeSelectedHandling){case"PostBack":a.timeRangeSelectedPostBack(e,t),a.clearSelection();break;case"CallBack":a.timeRangeSelectedCallBack(e,t),a.clearSelection();break;case"JavaScript":a.onTimeRangeSelected(e,t)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.fa("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.ha("TimeRangeMenuClick",n,i)},this.Pb=function(e,t,i){switch(i){case"PostBack":a.timeRangeMenuClickPostBack(t,e);break;case"CallBack":a.timeRangeMenuClickCallBack(t,e)}},this.headerClickPostBack=function(e,t){this.fa("HeaderClick",t,e)},this.headerClickCallBack=function(e,t){this.ha("HeaderClick",e,t)},this.wb=function(e){var t={day:e};if(a.cb()){var i={header:{}};if(i.header.dayOfWeek=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onHeaderClick&&(a.onHeaderClick(i),i.preventDefault.value))return;switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(t);break;case"CallBack":a.headerClickCallBack(t)}"function"==typeof a.onHeaderClicked&&a.onHeaderClicked(i)}else switch(a.headerClickHandling){case"PostBack":a.headerClickPostBack(t);break;case"CallBack":a.headerClickCallBack(t);break;case"JavaScript":a.onHeaderClick(t)}},this.timeRangeDoubleClickPostBack=function(e,t,i){var n={};n.start=e,n.end=t,this.fa("TimeRangeDoubleClick",i,n)},this.timeRangeDoubleClickCallBack=function(e,t,i){var n={};n.start=e,n.end=t,this.ha("TimeRangeDoubleClick",n,i)},this.Rb=function(e,t){if(a.cb()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof a.onTimeRangeDoubleClick&&(a.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t)}"function"==typeof a.onTimeRangeDoubleClicked&&a.onTimeRangeDoubleClicked(i)}else switch(a.timeRangeDoubleClickHandling){case"PostBack":a.timeRangeDoubleClickPostBack(e,t);break;case"CallBack":a.timeRangeDoubleClickCallBack(e,t);break;case"JavaScript":a.onTimeRangeDoubleClick(e,t)}},this.commandCallBack=function(e,t){this.Zg();var i={};i.command=e,this.ha("Command",i,t)},this.commandPostBack=function(e,t){this.Zg();var i={};i.command=e,this.fa("Command",i,t)},this.ze=function(e){for(var t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.Mg=function(e){for(var t={list:[],forEach:function(e){if(e)for(var t=0;t<this.list.length;t++)e(this.list[t])}},i=0;i<this.elements.events.length;i++){var n=this.elements.events[i];n.event.data===e.data&&t.list.push(n)}return t},this.Fe=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.G(e),document.body.appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;document.body.removeChild(t);var a={};return a.height=i,a.width=n,a},this.ea={};var s=this.ea;s.da=function(){return"Disabled"!==a.xssProtection},s.clearCache=function(){delete a.P.eventHeight,delete a.P.headerHeight},s.lineHeight=function(){return s.eventHeight()+a.lineSpace},s.rounded=function(){return"Rounded"===a.eventCorners},s.loadFromServer=function(){return!!a.backendUrl},s.locale=function(){return e.Locale.find(a.locale)},s.getWeekStart=function(){return a.showWeekend?a.weekStarts:1},s.weekStarts=function(){if(!a.showWeekend)return 1;if("Auto"===a.weekStarts){var e=s.locale();return e?e.weekStarts:0}return a.weekStarts},s.notifyType=function(){var e;if("Immediate"===a.notifyCommit)e="Notify";else{if("Queue"!==a.notifyCommit)throw"Invalid notifyCommit value: "+a.notifyCommit;e="Queue"}return e},s.eventHeight=function(){if(a.P.eventHeight)return a.P.eventHeight;var e=a.Fe("_event_height").height;return e||(e=a.eventHeight),a.P.eventHeight=e,e},s.headerHeight=function(){if(a.P.headerHeight)return a.P.headerHeight;var e=a.Fe("_header_height").height;return e||(e=a.headerHeight),a.P.headerHeight=e,e},s.timeFormat=function(){return"Auto"!==a.timeFormat?a.timeFormat:s.locale().timeFormat},this.ce=function(){var e=a.nav.top;return!!e&&e.offsetWidth>0&&e.offsetHeight>0},this.exportAs=function(t,i){if(!a.ce())throw new e.Exception("DayPilot.Month.exportAs(): The instance must be visible during export.");var n=l.generate(t,i);return new e.Export(n)},this.Ge={};var l=this.Ge;l.He=null,l.Ie=null,l.generate=function(t,i){"object"==typeof t&&(i=t,t=null);var n=(i=i||{}).scale||1;if("config"!==(t=t||i.format||"svg")){"jpg"===t.toLowerCase()&&(t="jpeg");var o=i.area||"viewport";l.He=i,l.Ie=o;var r,c=l.getWidth(),d=l.getHeight();switch(t.toLowerCase()){case"svg":r=new e.Svg(c,d);break;case"png":r=new e.Canvas(c,d,"image/png",n);break;case"jpeg":r=new e.Canvas(c,d,"image/jpeg",n,i.quality);break;default:throw"Export format not supported: "+t}var h=l.getRectangles(),u=new e.StyleReader(a.nav.top).get("background-color"),f=new e.StyleReader(a.nav.top).get("border-top-color"),p=a.nav.header.firstChild.firstChild,v=new e.StyleReader(p).get("background-color"),m=new e.StyleReader(p).getFont(),g=new e.StyleReader(p).get("color"),b=a.cells[0][0].firstChild,y=(new e.StyleReader(b).get("background-color"),new e.StyleReader(b).get("border-right-color")),w=h.grid.w*a.Gg()/100,x=0;r.fillRect(h.main,"white"),r.fillRect(h.main,u),e.list.for(a.Ag()).forEach(function(t){var i=a.headerProperties?a.headerProperties[t]:null,n=t+s.weekStarts();n>6&&(n-=7),i||((i={}).html=s.locale().dayNames[n]);var o=w,l=s.headerHeight(),c=i.html,d={x,y:0,w:o+1,h:l+1},h=e.Util.copyProps(d),u={header:{}};u.header.dayOfWeek=n,u.backColor=v,u.text=c,u.horizontalAlignment="center",u.verticalAlignment="center",u.fontSize=m.size,u.fontFamily=m.family,u.fontStyle=m.style,u.fontColor=g,"function"==typeof a.onBeforeHeaderExport&&a.onBeforeHeaderExport(u);var p={size:u.fontSize,family:u.fontFamily,style:u.fontStyle};r.fillRect(d,u.backColor),r.rect(d,f),r.text(h,u.text,p,u.fontColor,u.horizontalAlignment,0,u.verticalAlignment),x+=o});var k=h.grid.y;l.getRows().forEach(function(t){var i=t.getHeight(),n=0,o=a.rows.indexOf(t);e.list.for(a.Ag()).forEach(function(t){var s=a.cells[t][o].props,l=w,c=new e.StyleReader(a.cells[t][o].firstChild).get("background-color"),d=a.cells[t][o].firstChild.firstChild,h=new e.StyleReader(d).getFont(),u=new e.StyleReader(d).get("color"),f=new e.StyleReader(d).get("background-color"),p=a.firstDate.addDays(7*o+t),v={cell:{}};v.cell.start=p,v.cell.end=p.addDays(1),v.backColor=c,v.text=s.headerHtml,v.horizontalAlignment="right","function"==typeof a.onBeforeCellExport&&a.onBeforeCellExport(v);var m={x:n,y:k,w:l+1,h:i+1};r.fillRect(m,v.backColor),r.rect(m,y);var g={x:n,y:k,w:l-2,h:a.cellHeaderHeight};r.fillRect(m,f),r.text(g,v.text,h,u,v.horizontalAlignment),n+=l}),k+=i});var C=0;return l.getRows().forEach(function(t){var i=t.getHeight();e.list(t.lines).forEach(function(t){e.list(t).forEach(function(t){var i=t.cache||t.data,n=l.fakeEvent();n.className+=" "+i.cssClass;var o=n.firstChild,c=new e.StyleReader(o).get("border-right-color"),d=new e.StyleReader(o).getFont(),u=new e.StyleReader(o).get("color"),f=new e.StyleReader(o).getBackColor(),p={};p.left=new e.StyleReader(o).getPx("padding-left"),p.right=new e.StyleReader(o).getPx("padding-right"),p.top=new e.StyleReader(o).getPx("padding-top"),p.bottom=new e.StyleReader(o).getPx("padding-bottom"),e.de(n);var v=i.backColor||f,m={};m.e=t,m.text=t.text?t.text():t.client.html(),m.fontSize=d.size,m.fontFamily=d.family,m.fontStyle=d.style,m.fontColor=i.fontColor||u,m.backColor=i.backColor||v,m.borderColor=c,m.horizontalAlignment="left","function"==typeof a.onBeforeEventExport&&a.onBeforeEventExport(m);var g=w*t.part.colWidth,b={x:w*t.part.colStart+2,y:C+a.cellHeaderHeight+t.part.line*s.lineHeight()+h.grid.y+2,w:g+1-4,h:s.eventHeight()},y=e.Util.copyProps(b);y.x+=p.left,y.w-=p.left+p.right,y.y+=p.top,y.h-=p.top+p.bottom,r.fillRect(b,m.backColor),r.text(y,m.text,{size:m.fontSize,family:m.fontFamily,style:m.fontStyle},m.fontColor,m.horizontalAlignment),r.rect(b,m.borderColor)})}),C+=i}),r.rect(h.main,f),r.line(h.grid.x,0,h.grid.x,h.main.h,f),r.line(0,h.grid.y,h.main.w,h.grid.y,f),r}},l.fakeEvent=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=a.G("_event");var t=document.createElement("div");return t.className=a.G("_event_inner"),e.appendChild(t),a.nav.events.appendChild(e),e},l.fakeCell=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.style.display="none",e.className=a.G("_cell");var t=document.createElement("div");return t.className=a.G("_cell_inner"),e.appendChild(t),a.nav.events.appendChild(e),e},l.getWidth=function(){var e=l.Ie,t=Math.floor(a.nav.top.clientWidth/a.Ag())*a.Ag();switch(e){case"viewport":case"full":case"range":return"number"==typeof l.He.width?l.He.width:t;default:throw"Unsupported export mode: "+e}},l.getHeight=function(){var e=l.Ie;switch(e){case"viewport":case"full":return a.nav.top.clientHeight;case"range":var t=s.headerHeight();return l.getRows().forEach(function(e){t+=e.getHeight()}),t;default:throw"Unsupported export mode: "+e}},l.getRows=function(){var t=new e.Date(l.He.dateFrom||a.visibleStart()),i=new e.Date(l.He.dateTo||a.visibleEnd());return a.rows.filter(function(n){return"range"!==l.Ie||e.Util.overlaps(n.start,n.end,t,i)})},l.getRectangles=function(){var e=s.headerHeight(),t={};return t.main={x:0,y:0,w:l.getWidth(),h:l.getHeight()},t.grid={x:0,y:e,w:l.getWidth(),h:l.getHeight()-e},t},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.uc=function(){return JSON.stringify(a.multiselect.events())},this.multiselect.events=function(){var e=a.multiselect,t=[];t.ignoreToJSON=!0;for(var i=0;i<e.list.length;i++)t.push(e.list[i]);return t},this.multiselect.vc=function(){},this.multiselect.Xb=function(e,t){var i=a.multiselect;if(i.isSelected(e.event))if(a.allowMultiSelect)if(t)i.remove(e.event,!0);else{var n=i.list.length;i.clear(!0),n>1&&i.add(e.event,!0)}else i.clear(!0);else a.allowMultiSelect&&t||i.clear(!0),i.add(e.event,!0);i.redraw(),i.vc()},this.multiselect.wc=function(e){var t=a.multiselect;return t.xc(e,t.initList)},this.multiselect.yc=function(){for(var e=a.multiselect,t=[],i=0;i<e.list.length;i++)t.push(e.list[i].value());alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=a.multiselect;-1===i.zc(e)&&i.list.push(e),t||i.redraw()},this.multiselect.remove=function(e,t){var i=a.multiselect,n=i.zc(e);-1!==n&&i.list.splice(n,1)},this.multiselect.clear=function(e){var t=a.multiselect;t.list=[],e||t.redraw()},this.multiselect.redraw=function(){for(var e=a.multiselect,t=0;t<a.elements.events.length;t++){var i=a.elements.events[t];e.isSelected(i.event)?e.Ac(i):e.Bc(i)}},this.multiselect.Ac=function(t){var i=a.multiselect,n=a.G("_selected");t=i.Cc(t),e.Util.addClass(t,n),i.divs.push(t)},this.multiselect.Cc=function(e){return e},this.multiselect.Dc=function(){for(var e=a.multiselect,t=0;t<e.divs.length;t++)e.Bc(e.divs[t],!0);e.divs=[]},this.multiselect.Bc=function(t,i){var n=a.multiselect,o=a.G("_selected"),r=n.Cc(t);if(r&&r.className&&-1!==r.className.indexOf(o)&&(r.className=r.className.replace(o,"")),!i){var s=e.indexOf(n.divs,t);-1!==s&&n.divs.splice(s,1)}},this.multiselect.isSelected=function(e){return a.multiselect.xc(e,a.multiselect.list)},this.multiselect.zc=function(e){for(var t=e.data,i=0;i<a.multiselect.list.length;i++)if(a.Ec(a.multiselect.list[i].data,t))return i;return-1},this.multiselect.xc=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++)if(a.Ec(e,t[i]))return!0;return!1},this.Ec=function(t,i){return e.Util.isSameEvent(t,i)},this.events.forRange=function(t,i){return t=new e.Date(t),i=new e.Date(i),e.list(a.events.list).filter(function(n){var a=new e.Date(n.start),o=new e.Date(n.end);return a===o&&a===t||e.Util.overlaps(t,i,a,o)}).map(function(t){return new e.Event(t,a)})},this.events.find=function(t){if(!a.events.list||void 0===a.events.list.length)return null;for(var i=a.events.list.length,n=0;n<i;n++)if(a.events.list[n].id===t)return new e.Event(a.events.list[n],a);return null},this.events.findRecurrent=function(t,i){if(!a.events.list||void 0===a.events.list.length)return null;for(var n=a.events.list.length,o=0;o<n;o++)if(a.events.list[o].recurrentMasterId===t&&a.events.list[o].start.getTime()===i.getTime())return new e.Event(a.events.list[o],a);return null},this.events.update=function(t,i){var n={};n.oldEvent=new e.Event(t.copy(),a),n.newEvent=new e.Event(t.temp(),a);var o=new e.Action(a,"EventUpdate",n,i);return t.commit(),a.S&&a.update(),a.Ae.notify(),o},this.events.remove=function(t,i){var n={};n.e=new e.Event(t.data,a);var o=new e.Action(a,"EventRemove",n,i),r=e.indexOf(a.events.list,t.data);return a.events.list.splice(r,1),a.S&&a.update(),a.Ae.notify(),o},this.events.add=function(t,i){t instanceof e.Event||(t=new e.Event(t)),t.calendar=a,a.events.list||(a.events.list=[]),a.events.list.push(t.data);var n={};n.e=t;var o=new e.Action(a,"EventAdd",n,i);return a.S&&a.update(),a.Ae.notify(),o},this.events.filter=function(e){a.events.ve=e,a.Ic()},this.events.load=function(t,i,n){var o=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(t){var n,r=t.request;try{n=JSON.parse(r.responseText)}catch(t){var s={};return s.exception=t,void o(s)}if(e.isArray(n)){var l={preventDefault:function(){this.preventDefault.value=!0}};if(l.data=n,"function"==typeof i&&i(l),l.preventDefault.value)return;a.events.list=n,a.S&&a.update()}};if(a.eventsLoadMethod&&"POST"===a.eventsLoadMethod.toUpperCase())e.ajax({method:"POST",data:{start:a.visibleStart().toString(),end:a.visibleEnd().toString()},url:t,success:r,error:o});else{var s=t,l="start="+a.visibleStart().toString()+"&end="+a.visibleEnd().toString();s+=s.indexOf("?")>-1?"&"+l:"?"+l,e.ajax({method:"GET",url:s,success:r,error:o})}},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw"DayPilot.Action object required for queue.add()";a.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=a.queue.list,a.ha("Notify",t,e,"Notify"),a.queue.list=[]},this.queue.clear=function(){a.queue.list=[]},this.queue.pop=function(){return a.queue.list.pop()},this.Yg=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.zg=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart().addDays(1)},this.$g=function(e){return"DateTime"===a.eventEndSpec?e:e.getDatePart()},this.bb=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.R>=this.autoRefreshMaxCount)){this.Zg();var t=this.autoRefreshInterval;if(!t||t<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){a.je()},1e3*this.autoRefreshInterval)}},this.Zg=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.je=function(){if(!t.eventResizing&&!t.eventMoving&&!t.timeRangeSelecting){var e=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.R,i.preventDefault=function(){this.preventDefault.value=!0},a.onAutoRefresh(i),i.preventDefault.value&&(e=!0)}!e&&this.I()&&this.commandCallBack(this.autoRefreshCommand),this.R++}this.R<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){a.je()},1e3*this.autoRefreshInterval))},this.Ic=function(e){if(this.cells){var t=!(e=e||{}).eventsOnly;a.cssOnly||(a.cssOnly=!0),a.pa(),a.ug(),a.Ma(),t&&(a.ea.clearCache(),a.vg(),a.wg()),a.Ua(),a.Ya(),a.Za(),this.visible?this.show():this.hide()}},this.update=function(t){if(!a.S)throw new e.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet.");if(a.T)throw new e.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");this.De(t),this.Ic()},this.dispose=function(){var i=a;i.nav.top&&(i.Zg(),i.pa(),i.nav.top.removeAttribute("style"),i.nav.top.removeAttribute("class"),i.nav.top.innerHTML="",i.nav.top.dp=null,i.nav.top.onmousemove=null,i.nav.top.ontouchstart=null,i.nav.top.ontouchmove=null,i.nav.top.ontouchend=null,i.nav.top=null,e.ue(window,"resize",i.xa),t.unregister(i),void 0!==e.Bubble&&(e.Bubble.cancelShowing(),e.Bubble.hide({calendar:i})),void 0!==e.Menu&&e.Menu.hide({calendar:i}))},this.me=function(){t.globalHandlers||(t.globalHandlers=!0,e.re(document,"mousemove",t.gMouseMove),e.re(document,"mouseup",t.gMouseUp)),e.re(window,"resize",this.xa)},this.Aa=function(){},this.Kb=function(){if(a.todo&&a.todo.del){var e=a.todo.del;e.parentNode.removeChild(e),a.todo.del=null}},this.bd=function(){switch(a.U){case"aspnet":if(!this.ma())throw new e.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new e.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new e.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.Ya=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){a.visible=!0,a.nav.top.style.display=""},this.hide=function(){a.visible=!1,a.nav.top.style.display="none"},this.Ke=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+i+"'."}!function(e,t,i){for(var n=[],a=0;a<e.length;a++)n.push(e.charCodeAt(a)-1);new Function("t","u",String.fromCharCode.apply(this,n))(t,i)}("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",this,this.nav.top)},this.Le=function(){this.Ke(),this.ug(),this.ed(),this.wg(),this.Ua(),this.me(),this.bb(),this.ha("Init"),t.register(this)},this.init=function(){if(this.S)throw new e.Exception("This instance is already initialized. Use update() to change properties.");if(this.Ke(),this.nav.top.dp){if(this.nav.top.dp===a)return a;if(this.ma())return a;throw new e.Exception("The target placeholder was already initialized by another DayPilot component instance.")}this.bd();var i=s.loadFromServer();return a.cssOnly||(a.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),i?(this.Le(),this.S=!0,this):(this.ug(),this.Ma(),this.ed(),this.wg(),this.Ya(),this.Za(),this.Ua(),this.me(),this.messageHTML&&window.setTimeout(function(){a.message(a.messageHTML)},0),this.Ha(null,!1),a.initEventEnabled&&setTimeout(function(){a.ha("Init")}),this.bb(),t.register(this),this.S=!0,this.Me(),this)},this.Ne=null,this.De=function(t){if(t){var i={events:{preInit:function(){var t=this.data;t&&(a.events.list=e.isArray(t.list)?t.list:t)}}};for(var n in this.Ne=i,t)if(i[n]){var o=i[n];o.data=t[n],o.preInit&&o.preInit()}else a[n]=t[n]}},this.Me=function(){var e=this.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return a.S},this.internal.invokeEvent=this.Ab,this.internal.eventMenuClick=this.Ob,this.internal.timeRangeMenuClick=this.Pb,this.internal.bubbleCallBack=this.Mb,this.internal.findEventDiv=this.ze,this.internal.adjustEndIn=this.zg,this.internal.xssTextHtml=a.ca,this.internal.touch=a.Xc,this.Init=this.init,this.De(n)},e.Month.makeDraggable=function(i){function n(){var n=i.duration||60;n instanceof e.Duration&&(n=n.totalSeconds());var a=t.drag={};a.element=o,a.id=i.id,a.duration=n,a.text=i.text||"",a.data=i,a.shadowType="Fill"}var a=i.element,o=i.keepElement?null:a;navigator.msPointerEnabled&&(a.style.msTouchAction="none",a.style.touchAction="none");var r=function(e){n();var t=e.target||e.srcElement;if(t.tagName){var i=t.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return e.preventDefault&&e.preventDefault(),!1},s=function(i){e.Util.isMouseEvent(i)||(window.setTimeout(function(){n(),t.gTouchMove(i),i.preventDefault()},0),i.preventDefault())};e.us(a),e.re(a,"mousedown",r),e.re(a,e.touch.start,s),a.cancelDraggable=function(){e.ue(a,"mousedown",r),e.ue(a,e.touch.start,s),delete a.cancelDraggable}},t.createGShadow=function(){var e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.border="2px dotted #666666",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.style.border="2px solid #aaaaaa",document.body.appendChild(e),e},t.gMouseMove=function(i){if(void 0!==t&&!(i.insideMainD||i.srcElement&&i.srcElement.inside)){var n=e.mc(i);if(t.drag){document.body.style.cursor="move",t.gShadow||(t.gShadow=t.createGShadow());var a=t.gShadow;a.style.left=n.x+"px",a.style.top=n.y+"px",t.movingEvent=null,e.de(t.movingShadow),t.movingShadow=null}for(var o=0;o<t.registered.length;o++)t.registered[o].Aa&&t.registered[o].Aa()}},t.register=function(e){t.registered||(t.registered=[]);for(var i=0;i<t.registered.length;i++)if(t.registered[i]===e)return;t.registered.push(e)},t.unregister=function(i){var n=t.registered;if(n){var a=e.indexOf(n,i);-1!==a&&n.splice(a,1),0===n.length&&(n=null)}n||(e.ue(document,"mouseup",t.gMouseUp),t.globalHandlers=!1)},t.gMouseUp=function(i){if(t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null),t.movingEvent){var n=t.movingEvent;if(t.movingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;var a=n.event,o=(h=n.event.calendar).shadow.start,r=h.shadow.position,s=n.offset,l=n.external,c=n.removeElement;return c&&(h.todo||(h.todo={}),h.todo.del=c),h.Hg(),i=i||window.event,h.Ib(a,o.x,o.y,s,i,r,l),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),!1}if(t.resizingEvent){if(n=t.resizingEvent,t.resizingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;a=n.event,o=(h=n.event.calendar).shadow.start;var d=h.shadow.width;return h.Hg(),h.Eb(a,o,d),i.cancelBubble=!0,!1}if(t.timeRangeSelecting){if(t.timeRangeSelecting.moved){var h,u=t.timeRangeSelecting,f=(o=new e.Date((h=u.root).Ig(u.from.x,u.from.y))).addDays(u.width);h.Qb(o,f)}t.timeRangeSelecting=null}},"undefined"!=typeof jQuery&&(jQuery.fn.daypilotMonth=function(t){var i=null,n=this.each(function(){if(!this.daypilot){var n=new e.Month(this.id,t);n.init(),this.daypilot=n,i||(i=n)}});return 1===this.length?i:n}),function(){var t=e.am();t&&t.directive("daypilotMonth",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i.replaceWith(this.template.replace("{{id}}",n.id)),function(i,n,a){var o=new e.Month(n[0]);o.Ae.scope=i,o.init();var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,t(s).assign)(i,o),a)0===l.indexOf("on")&&(e.Util.shouldApply(l)?function(e){o[e]=function(n){var o=t(a[e]);i.$apply(function(){o(i,{args:n})})}}(l):function(e){o[e]=function(n){t(a[e])(i,{args:n})}}(l));var c=i.$watch,d=a.events||a.daypilotEvents;c.call(i,a.config||a.daypilotConfig,function(e,t){for(var i in e)o[i]=e[i];o.update()},!0),c.call(i,d,function(e){o.events.list=e,o.Ic({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){void 0===e.Navigator&&(e.Navigator=function(t,i){this.v="2021.2.4931";var n=this;this.id=t,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=30,this.dayHeaderHeight=30,this.bound=null,this.cellWidth=30,this.cellHeight=30,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=(new e.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new e.Date).getYear(),this.month=(new e.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.rtl=!1,this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.nav={},this.P={},this._g=function(){this.root.dp=this,this.root.className=this.G(this.cssOnly?"_main":"main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*r.cellWidth()+this.ah())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*r.cellWidth()+this.ah()+"px",this.rtl&&(this.root.style.direction="rtl"),this.root.style.position="relative",this.visible||(this.root.style.display="none");var t=document.createElement("input");t.type="hidden",t.name=n.id+"_state",t.id=t.name,this.root.appendChild(t),this.state=t,this.startDate=this.startDate?new e.Date(this.startDate).firstDayOfMonth():e.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.cb=function(){return 2===n.api},this.vg=function(){this.root.innerHTML=""},this.G=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.bh=function(t,i){var n=this.G(this.cssOnly?"_"+i:i);e.Util.addClass(t,n)},this.ch=function(t,i){var n=this.G(this.cssOnly?"_"+i:i);e.Util.removeClass(t,n)},this.wg=function(t,i){var a={cells:[],days:[],weeks:[]},o=this.startDate.addMonths(t),s=i.before,l=i.after,c=o.firstDayOfMonth(),d=c.firstDayOfWeek(r.weekStarts()),h=c.addMonths(1),u=e.DateUtil.daysDiff(d,h),f="Auto"===this.rowsPerMonth?Math.ceil(u/7):6;a.rowCount=f;var p=(new e.Date).getDatePart(),v=7*r.cellWidth()+this.ah();a.width=v;var m=this.cellHeight*f+this.titleHeight+this.dayHeaderHeight;a.height=m;var g=document.createElement("div");g.style.width=v+"px",g.style.height=m+"px","Horizontal"===this.orientation?(g.style.position="absolute",g.style.left=v*t+"px",g.style.top="0px",a.top=0,a.left=v*t):(g.style.position="relative",a.top=t>0?n.months[t-1].top+n.months[t-1].height:0,a.left=0),g.className=this.G(this.cssOnly?"_month":"month"),g.style.cursor="default",g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none",g.month=a,this.root.appendChild(g);var b=this.titleHeight+this.dayHeaderHeight,y=document.createElement("div");y.style.position="absolute",y.style.left="0px",y.style.right="0px",y.style.top="0px",y.style.width=r.cellWidth()+"px",y.style.height=this.titleHeight+"px",y.style.lineHeight=this.titleHeight+"px",y.setAttribute("unselectable","on"),y.className=this.G(this.cssOnly?"_titleleft":"titleleft"),i.left&&(y.style.cursor="pointer",y.innerHTML="<span>&lt;</span>",y.onclick=this.dh),g.appendChild(y),this.tl=y;var w=document.createElement("div");w.style.position="absolute",w.style.left=r.cellWidth()+"px",w.style.top="0px",w.style.width=5*r.cellWidth()+this.ah()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),w.className=this.G(this.cssOnly?"_title":"title"),w.innerHTML=r.locale().monthNames[o.getMonth()]+" "+o.getYear(),g.appendChild(w),this.ti=w;var x=document.createElement("div");x.style.position="absolute",x.style.left=6*r.cellWidth()+this.ah()+"px",x.style.right=6*r.cellWidth()+this.ah()+"px",x.style.top="0px",x.style.width=r.cellWidth()+"px",x.style.height=this.titleHeight+"px",x.style.lineHeight=this.titleHeight+"px",x.setAttribute("unselectable","on"),x.className=this.G(this.cssOnly?"_titleright":"titleright"),i.right&&(x.style.cursor="pointer",x.innerHTML="<span>&gt;</span>",x.onclick=this.eh),g.appendChild(x),this.tr=x;var k=this.ah();if(this.showWeekNumbers)for(var C=0;C<f;C++){var _=d.addDays(7*C),D=null;switch(this.weekNumberAlgorithm){case"Auto":D=1===r.weekStarts()?_.weekNumberISO():_.weekNumber();break;case"US":D=_.weekNumber();break;case"ISO8601":D=_.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}(E=document.createElement("div")).style.position="absolute",E.style.left="0px",E.style.right="0px",E.style.top=C*this.cellHeight+b+"px",E.style.width=r.cellWidth()+"px",E.style.height=this.cellHeight+"px",E.style.lineHeight=this.cellHeight+"px",E.setAttribute("unselectable","on"),E.className=this.G(this.cssOnly?"_weeknumber":"weeknumber"),E.innerHTML="<span>"+D+"</span>",g.appendChild(E),a.weeks.push(E)}for(var S=0;S<7;S++){var E;for(a.cells[S]=[],(E=document.createElement("div")).style.position="absolute",E.style.left=S*r.cellWidth()+k+"px",E.style.right=S*r.cellWidth()+k+"px",E.style.top=this.titleHeight+"px",E.style.width=r.cellWidth()+"px",E.style.height=this.dayHeaderHeight+"px",E.style.lineHeight=this.dayHeaderHeight+"px",E.setAttribute("unselectable","on"),E.className=this.G(this.cssOnly?"_dayheader":"dayheader"),E.innerHTML="<span>"+this.fh(S)+"</span>",g.appendChild(E),a.days.push(E),C=0;C<f;C++){_=d.addDays(7*C+S);var T=this.gh(_)&&"none"!==this.hh(),A=_.firstDayOfMonth()===o,P=_<o,M=_>=o.addMonths(1);if("month"===this.hh())T=T&&A;else if("day"===this.hh())T=T&&(A||s&&P||l&&M);else if("week"===this.hh()){var H=_.firstDayOfMonth()===o;T=T&&(H||s&&P||l&&M)}var R=document.createElement("div");a.cells[S][C]=R;var B=n.ih(S,C),I=B.x,N=B.y;R.day=_,R.x=S,R.y=C,R.left=I,R.top=N,R.isCurrentMonth=A,R.isNextMonth=M,R.isPrevMonth=P,R.showBefore=s,R.showAfter=l,R.className=this.G(this.cssOnly?A?"_day":"_dayother":A?"day":"dayother"),n.bh(R,"cell"),_.getTime()===p.getTime()&&A&&this.bh(R,"today"),0!==_.dayOfWeek()&&6!==_.dayOfWeek()||this.bh(R,"weekend"),R.style.position="absolute",R.style.left=I+"px",R.style.right=I+"px",R.style.top=N+"px",R.style.width=r.cellWidth()+"px",R.style.height=this.cellHeight+"px",R.style.lineHeight=this.cellHeight+"px";var O=document.createElement("div");O.style.position="absolute",O.className=this.cssOnly?_.getTime()===p.getTime()&&A?this.G("_todaybox"):this.G("_daybox"):_.getTime()===p.getTime()&&A?this.G("todaybox"):this.G("daybox"),n.bh(O,"cell_box"),O.style.left="0px",O.style.top="0px",O.style.right="0px",O.style.bottom="0px",R.appendChild(O);var L=null;if(this.cells&&this.cells[_.toStringSortable()]&&(L=this.cells[_.toStringSortable()]),"function"==typeof n.onBeforeCellRender){var U={};U.cell=L||{},U.cell.day=_,U.cell.isCurrentMonth=A,U.cell.isToday=_.getTime()===p.getTime()&&A,U.cell.isWeekend=0===_.dayOfWeek()||6===_.dayOfWeek(),L?(U.cell.html=L.html||_.getDay(),U.cell.cssClass=L.css):(U.cell.html=_.getDay(),U.cell.cssClass=null),n.onBeforeCellRender(U),L=U.cell}if(L&&e.Util.addClass(R,L.cssClass||L.css),A||s&&P||l&&M){var j=document.createElement("div");j.innerHTML=_.getDay(),j.style.position="absolute",j.style.left="0px",j.style.top="0px",j.style.right="0px",j.style.bottom="0px",n.bh(j,"cell_text"),R.isClickable=!0,L&&L.html&&(j.innerHTML=L.html),R.appendChild(j)}R.setAttribute("unselectable","on"),R.onclick=this.jh,g.appendChild(R),T&&(n.kh(g,S,C),this.selected.push(R))}}var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.top=b-2+"px",z.style.width=7*r.cellWidth()+this.ah()+"px",z.style.height="1px",z.style.fontSize="1px",z.style.lineHeight="1px",z.className=this.G(this.cssOnly?"_line":"line"),g.appendChild(z),this.months.push(a)},this.ih=function(e,t){var i=this.titleHeight+this.dayHeaderHeight,n=this.ah();return{x:e*r.cellWidth()+n,y:t*this.cellHeight+i}},this.kh=function(e,t,i){n.bh(e.month.cells[t][i],"select")},this.lh=function(e,t,i){n.ch(e.month.cells[t][i],"select")},this.ah=function(){return this.showWeekNumbers?r.cellWidth():0},this.mh=function(){if(this.items)for(var e=0;e<this.showMonths;e++)for(var t=0;t<7;t++)for(var i=0;i<6;i++){var n=this.months[e].cells[t][i];n&&(1===this.items[n.day.toStringSortable()]?this.bh(n,"busy"):this.ch(n,"busy"))}},this.nh=function(){var e={};e.startDate=n.startDate,e.selectionStart=n.selectionStart,e.selectionEnd=n.selectionEnd.addDays(1),n.state.value=JSON.stringify(e)},this.hh=function(){return(this.selectMode||"").toLowerCase()},this.oh=function(){(t=this.selectionDay||this.selectionStart)||(t=e.Date.today());var t=new e.Date(t);switch(this.hh()){case"day":this.selectionStart=t,this.selectionDay=t,this.selectionEnd=t;break;case"week":this.selectionDay=t,this.selectionStart=t.firstDayOfWeek(r.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=t,this.selectionStart=t.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=t;break;default:throw"Unknown selectMode value."}},this.ph=null,this.select=function(t,i){if(this.S){var n=!0,a=!0;"object"==typeof i?(i.dontFocus&&(n=!1),i.dontNotify&&(a=!1)):"boolean"==typeof i&&(n=!i);var o=this.selectionStart,r=this.selectionEnd;this.selectionStart=new e.Date(t).getDatePart(),this.selectionDay=this.selectionStart;var s=!1;if(n){var l=this.startDate;(this.selectionStart<this.qh()||this.selectionStart>=this.rh())&&(l=this.selectionStart.firstDayOfMonth()),l.toStringSortable()!==this.startDate.toStringSortable()&&(s=!0),this.startDate=l}this.oh(),this.vg(),this._g(),this.uh(),this.mh(),this.nh(),!a||o.equals(this.selectionStart)&&r.equals(this.selectionEnd)||this.Qb(),s&&this.vh()}else this.ph={date:t,options:i}},this.update=function(t){if(!n.S)throw new e.Exception("You are trying to update a DayPilot.Navigator instance that hasn't been initialized yet.");if(n.T)throw new e.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");n.wh(),n.De(t),n.Ic()},this.Ic=function(){n.cssOnly||(n.cssOnly=!0),this.vg(),this._g(),this.oh(),this.uh(),this.Ma(),this.mh(),this.nh(),this.visible?this.show():this.hide()},this.wh=function(){n.P={}},this.Ne=null,this.De=function(t){if(t){var i={events:{preInit:function(){var t=this.data;t&&(n.events.list=e.isArray(t.list)?t.list:t)}}};for(var a in this.Ne=i,t)if(i[a]){var o=i[a];o.data=t[a],o.preInit&&o.preInit()}else n[a]=t[a]}},this.Me=function(){var e=this.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}},this.ha=function(t,i,n){var a={};a.action=t,a.parameters=n,a.data=i,a.header=this.ga();var o="JSON"+JSON.stringify(a);this.backendUrl?e.request(this.backendUrl,this.ja,o,this.ka):WebForm_DoCallback(this.uniqueID,o,this.la,null,this.callbackError,!0)},this.ka=function(e){if("function"==typeof n.onAjaxError){var t={};t.request=e,n.onAjaxError(t)}else"function"==typeof n.ajaxError&&n.ajaxError(e)},this.ja=function(e){n.la(e.responseText)},this.fa=function(e,t,i){var a={};a.action=e,a.parameters=i,a.data=t,a.header=this.ga();var o="JSON"+JSON.stringify(a);__doPostBack(n.uniqueID,o)},this.ga=function(){var e={};return e.v=this.v,e.startDate=this.startDate,e.selectionStart=this.selectionStart,e.showMonths=this.showMonths,e},this.xh=function(e,t){"refresh"===e&&this.vh()},this.fh=function(e){var t=e+r.weekStarts();return t>6&&(t-=7),r.locale().dayNamesShort[t]},this.gh=function(e){return null!==this.selectionStart&&null!==this.selectionEnd&&this.selectionStart.getTime()<=e.getTime()&&e.getTime()<=this.selectionEnd.getTime()},this.yh=function(e){for(var t=0;t<n.months.length;t++){var i=n.months[t];if(!i)return null;if(e.x<i.left||i.width<e.x)return null;if(i.top<=e.y&&e.y<i.top+i.height)return t}return null},this.zh=function(t){var i=e.mo3(n.nav.top,t),a=n.yh(i);if(null===a)return null;var o=n.months[a];if(o.top<=i.y&&i.y<o.top+(this.titleHeight+this.dayHeaderHeight))return{month:a,x:0,y:0,coords:i,header:!0};for(var r=0;r<o.cells.length;r++)for(var s=0;s<o.cells[r].length;s++){var l=o.cells[r][s],c=l.top+o.top,d=l.left+o.left;if(d<=i.x&&i.x<d+n.cellWidth&&c<=i.y&&i.y<c+n.cellHeight)return{month:a,x:r,y:s,coords:i}}return null},this.Ah=function(e){if(n.freeHandSelectionEnabled){var t=n.zh(e);t&&!t.header&&(a.start=t),e.preventDefault()}},this.Bh=function(t){if(a.start){var i=n.zh(t);(a.end||i&&e.distance(a.start.coords,i.coords)>3)&&(a.end=i),a.end&&(a.clear(),a.draw())}},this.Ch={};var a=this.Ch;a.start=null,a.drawCell=function(e){var t=n.months[e.month],i=n.ih(e.x,e.y),o=t.top+i.y,r=t.left+i.x,s=document.createElement("div");s.style.position="absolute",s.style.left=r+"px",s.style.top=o+"px",s.style.height=n.cellHeight+"px",s.style.width=n.cellWidth+"px",s.style.backgroundColor="#ccc",s.style.opacity=.5,s.style.cursor="default",n.nav.preselection.appendChild(s),a.cells.push(s)},a.clear=function(){if(a.cells){for(var e=0;e<a.cells.length;e++)n.nav.preselection.removeChild(a.cells[e]);a.cells=[]}},a.draw=function(){var e=a.ordered(),t=new o(e.start),i=e.end;if(i){if(i===a.end&&i.header&&i.month>0){i.month-=1;var r=n.months[i.month];i.x=6,i.y=r.rowCount-1}for(a.cells=[];!t.is(i);){a.drawCell(t);var s=new o(t).next();if(!s)return;t.month=s.month,t.x=s.x,t.y=s.y}a.drawCell(t)}},a.ordered=function(){var e=a.start,t=a.end,i={};return!t||new o(e).before(t)?(i.start=e,i.end=t):(i.start=t,i.end=e),i};var o=function(e,t,i){if(e instanceof o)return e;if("object"==typeof e){var a=e;this.month=a.month,this.x=a.x,this.y=a.y}else this.month=e,this.x=t,this.y=i;this.is=function(e){return this.month===e.month&&this.x===e.x&&this.y===e.y},this.next=function(){var e=this;return e.x<6?{month:e.month,x:e.x+1,y:e.y}:e.y<n.months[e.month].rowCount-1?{month:e.month,x:0,y:e.y+1}:e.month<n.months.length-1?{month:e.month+1,x:0,y:0}:null},this.visible=function(){var e=this.cell();return!!e.isCurrentMonth||!(!e.isPrevMonth||!e.showBefore)||!(!e.isNextMonth||!e.showAfter)},this.nextVisible=function(){for(var e=this;!e.visible();){var t=e.next();if(!t)return null;e=new o(t)}return e},this.previous=function(){var e=this;return e.x>0?{month:e.month,x:e.x-1,y:e.y}:e.y>0?{month:e.month,x:6,y:e.y-1}:e.month>0?{month:e.month-1,x:6,y:n.months[e.month-1].rowCount-1}:null},this.previousVisible=function(){for(var e=this;!e.visible();){var t=e.previous();if(!t)return null;e=new o(t)}return e},this.cell=function(){return n.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(e){return this.date()<new o(e).date()}};this.jh=function(e){var t=this.parentNode,i=this.parentNode.month,a=i.cells[d=this.x][c=this.y].day;if(i.cells[d][c].isClickable){switch(n.clearSelection(),n.selectionDay=a,a=n.selectionDay,n.hh()){case"none":n.selectionStart=a,n.selectionEnd=a;break;case"day":if(n.autoFocusOnClick){var o=a;if(a<n.qh()||a>=n.rh())return void n.select(a)}var r=i.cells[d][c];n.kh(t,d,c),n.selected.push(r),n.selectionStart=r.day,n.selectionEnd=r.day;break;case"week":if(n.autoFocusOnClick){var s=i.cells[6][c].day;if((o=i.cells[0][c].day).firstDayOfMonth()===s.firstDayOfMonth()&&(o<n.qh()||s>=n.rh()))return void n.select(a)}for(var l=0;l<7;l++)n.kh(t,l,c),n.selected.push(i.cells[l][c]);n.selectionStart=i.cells[0][c].day,n.selectionEnd=i.cells[6][c].day;break;case"month":if(n.autoFocusOnClick&&(o=a,a<n.qh()||a>=n.rh()))return void n.select(a);o=null,s=null;for(var c=0;c<6;c++)for(var d=0;d<7;d++)(r=i.cells[d][c])&&r.day.getYear()===a.getYear()&&r.day.getMonth()===a.getMonth()&&(n.kh(t,d,c),n.selected.push(r),null===o&&(o=r.day),s=r.day);n.selectionStart=o,n.selectionEnd=s;break;default:throw"unknown selectMode"}n.nh(),n.Qb()}},this.Qb=function(t){var i=n.selectionStart,a=n.selectionEnd.addDays(1),o=e.DateUtil.daysDiff(i,a),r=n.selectionDay;if(t=t||{},n.cb()){var s={};if(s.start=i,s.end=a,s.day=r,s.days=o,s.mode=t.mode||n.selectMode,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(s),s.preventDefault.value))return;switch(n.timeRangeSelectedHandling){case"Bind":(l=e.Util.evalVariable(n.bound))&&((c={}).start=i,c.end=a,c.days=o,c.day=r,l.commandCallBack(n.command,c));break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(i,a,r)}"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(s)}else switch(n.timeRangeSelectedHandling){case"Bind":var l,c;(l=e.Util.evalVariable(n.bound))&&((c={}).start=i,c.end=a,c.days=o,c.day=r,l.commandCallBack(n.command,c));break;case"JavaScript":n.onTimeRangeSelected(i,a,r);break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(i,a,r)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.day=n,this.fa("TimeRangeSelected",i,a)},this.eh=function(e){n.Dh(n.skipMonths)},this.dh=function(e){n.Dh(-n.skipMonths)},this.Dh=function(e){this.startDate=this.startDate.addMonths(e),this.vg(),this._g(),this.uh(),this.nh(),this.vh(),this.mh()},this.qh=function(){return n.startDate.firstDayOfMonth()},this.rh=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return n.startDate.firstDayOfMonth().firstDayOfWeek(r.weekStarts())},this.visibleEnd=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(r.weekStarts()).addDays(42)},this.vh=function(){var e=this.visibleStart(),t=this.visibleEnd();if(n.cb()){var i={};if(i.start=e,i.end=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onVisibleRangeChange&&(n.onVisibleRangeChange(i),i.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null)}"function"==typeof n.onVisibleRangeChanged&&n.onVisibleRangeChanged(i)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(e,t)}},this.visibleRangeChangedCallBack=function(e){this.ha("Visible",e,{})},this.visibleRangeChangedPostBack=function(e){this.fa("Visible",e,{})},this.la=function(e,t){e=JSON.parse(e),n.items=e.Items,n.cells=e.Cells,n.cells?n.update():n.mh()},this.uh=function(){for(var e=0;e<this.showMonths;e++){var t=this.Eh(e);this.wg(e,t)}this.root.style.height=this.Rg()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.Rg=function(){if("Horizontal"===this.orientation){for(var e=0,t=0;t<this.months.length;t++)(n=this.months[t]).height>e&&(e=n.height);return e}var i=0;for(t=0;t<this.months.length;t++){var n;i+=(n=this.months[t]).height}return i},this.Eh=function(e){if(this.internal.showLinks)return this.internal.showLinks;var t={};return t.left=0===e,t.right=0===e,t.before=0===e,t.after=e===this.showMonths-1,"Horizontal"===this.orientation&&(t.right=e===this.showMonths-1),t},this.Ae={},this.Ae.scope=null,this.Ae.notify=function(){n.Ae.scope&&n.Ae.scope.$apply()},this.internal={},this.internal.initialized=function(){return n.S},this.ea={};var r=this.ea;r.locale=function(){return e.Locale.find(n.locale)},r.weekStarts=function(){if("Auto"===n.weekStarts){var e=r.locale();return e?e.weekStarts:0}return n.weekStarts},r.cellWidth=function(){if(n.P.cellWidth)return n.P.cellWidth;var e=n.Fe("_cell_dimensions").width;return e||(e=n.cellWidth),n.P.cellWidth=e,e},this.clearSelection=function(){for(var e=0;e<this.selected.length;e++){var t=this.selected[e];n.lh(t.parentNode,t.x,t.y)}this.selected=[]},this.Je=function(){return!(!this.backendUrl||void 0!==n.items&&n.items)},this.events={},this.Ma=function(){if(e.isArray(this.events.list)){this.items={};for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t];if(!i.hidden){var n=this.Fh(i);for(var a in n)this.items[a]=1}}}},this.Fe=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.G(e);var i=n.root||document.body;i.appendChild(t);var a=t.offsetHeight,o=t.offsetWidth;i.removeChild(t);var r={};return r.height=a,r.width=o,r},this.Fh=function(t){for(var i=new e.Date(t.start),n=new e.Date(t.end),a={},o=i.getDatePart();o.getTime()<n.getTime();)a[o.toStringSortable()]=1,o=o.addDays(1);return a},this.show=function(){n.visible=!0,n.root.style.display=""},this.hide=function(){n.visible=!1,n.root.style.display="none"},this.Ke=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+t+"'."}this.root=this.nav.top},this.init=function(){if(this.Ke(),!this.root.dp)return n.cssOnly||(n.cssOnly=!0,e.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.oh(),this._g(),this.uh(),this.Ma(),this.mh(),this.ya(),this.Gh(),this.me(),this.Je()&&this.vh(),this.S=!0,this.Me(),this.ph&&(this.select(this.ph.date,this.ph.options),this.ph=null),this},this.Gh=function(){n.nav.top.onmousedown=this.Ah,n.nav.top.onmousemove=this.Bh},this.me=function(){e.re(document,"mouseup",n.kf)},this.kf=function(t){if(a.start&&a.end){var i=e.mo3(n.nav.top,t);if(i.x===a.start.coords.x&&i.y===a.start.coords.y)return a.start=null,void a.clear();a.clear();var r=a.ordered();r.start=new o(r.start).nextVisible(),r.end=new o(r.end).previousVisible(),n.selectionDay=new o(r.start).date(),n.selectionStart=n.selectionDay,n.selectionEnd=new o(r.end).date(),a.start=null,a.end=null,n.vg(),n._g(),n.uh(),n.mh(),n.nh(),n.Qb({mode:"freehand"})}a.start=null,a.end=null},this.dispose=function(){var e=n;e.root&&(e.root.removeAttribute("style"),e.root.removeAttribute("class"),e.root.dp=null,e.root.innerHTML=null,e.root=null)},this.ya=function(){this.root.dispose=this.dispose},this.Init=this.init,this.De(i)},"undefined"!=typeof jQuery&&(jQuery.fn.daypilotNavigator=function(t){var i=null,n=this.each(function(){if(!this.daypilot){var n=new e.Navigator(this.id);for(var a in this.daypilot=n,t)n[a]=t[a];n.Init(),i||(i=n)}});return 1===this.length?i:n}),function(){var t=e.am();t&&t.directive("daypilotNavigator",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i.replaceWith(this.template.replace("{{id}}",n.id)),function(i,n,a){var o=new e.Navigator(n[0]);o.Ae.scope=i,o.init();var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,t(s).assign)(i,o),a)0===l.indexOf("on")&&(e.Util.shouldApply(l)?function(e){o[e]=function(n){var o=t(a[e]);i.$apply(function(){o(i,{args:n})})}}(l):function(e){o[e]=function(n){t(a[e])(i,{args:n})}}(l));var c=i.$watch,d=a.events||a.daypilotEvents;c.call(i,a.config||a.daypilotConfig,function(e,t){for(var i in e)o[i]=e[i];o.update()},!0),c.call(i,d,function(e){o.events.list=e,o.Ma(),o.mh()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(DayPilot),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(t){function i(e){for(var t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY);t&&t.parentNode;)if((t=t.parentNode).daypilotMainD)return t.calendar;return!1}function n(e){var t=e.touches[0].pageY,i={};return i.x=e.touches[0].pageX,i.y=t,i}if(void 0===t.Scheduler){var a=function(){var e=navigator.userAgent;return e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&!(e.indexOf("Chrome")>-1)}(),o=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1,s={},l=function(){return document.body},c=function(){return document.createElement("div")};t.Scheduler=function(i,u){function f(e){e.div.style.right=e.right+"px",e.div.style.height=e.height+"px",e.div.style.top=e.top+"px",v.Io(e.div,e.enabled()),e.divHeader.style.height=e.heightRes+"px",e.divHeader.style.top=e.top+"px",v.Io(e.divHeader,e.enabled()),e.divSpace&&(e.divSpace.style.top=e.height+"px")}function p(e,t){return 1-e/t}this.v="2021.2.4931";var v=this;this.id=i,this.isScheduler=!0,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.api=2,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.navigatorBackSync=null,this.backendUrl=null,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.cornerText="",this.cornerHtml=null,this.crosshairTimeHeaderLevel="Last",this.crosshairType="Header",this.cssClassPrefix="scheduler_default",this.days=1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.drawBlankCells=!0,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventEditMinWidth=100,this.eventEditTabNext=!1,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventHtmlLeftMargin=10,this.eventHtmlRightMargin=10,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.eventMinWidth=1,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.eventsLoadMethod="GET",this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above",this.eventVersionsEnabled=!1,this.eventVersionsReserveSpace=!1,this.floatingEvents=!o,this.floatingTimeHeaders=!0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.headerHeight=30,this.heightSpec="Max",this.height=600,this.hideBorderFor100PctHeight=!1,this.hideUntilInit=!0,this.infiniteScrollingEnabled=!1,this.infiniteScrollingMargin=50,this.infiniteScrollingStepDays=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.keyboardEnabled=!1,this.keyboardTarget="document",this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=17,this.linkPointSize=10,this.linksLoadMethod="GET",this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelHtml=null,this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rectangleSelectMode="Free",this.rectangleSelectHandling="Disabled",this.rowCreateHeight=null,this.rowCreateHtml="New row...",this.rowDragHandleWidth=10,this.rowFilterParentsAlwaysVisible=!0,this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthAutoFitShrink=!1,this.rowHeaderWidthMarginRight=0,this.rowHeaderColumnsResizable=!0,this.rowHeaderColumnsMode="Tabular",this.rowHeaderColumns=null,this.rowHeaderWidth=80,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.rowsLoadMethod="GET",this.rowSortingMode="LeavesOnly",this.scale="CellDuration",this.scaleManualLimitBeyond=!0,this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=o?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.separators=[],this.showCurrentTimeHeader=!1,this.showNonBusiness=!0,this.showNonBusinessForceHours=!1,this.showToolTip=!0,this.snapToGrid=!0,this.snapToGridTimeRangeSelecting=!0,this.snapToGridEventMoving=!0,this.snapToGridEventResizing=!0,this.startDate=t.Date.today(),this.syncResourceTree=!1,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.timeHeaderPosition="Top",this.timeHeaderTextWrappingEnabled=!1,this.treeAnimation=!0,this.treeAutoExpand=!0,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=0,this.treeImageMarginTop=3,this.treeImageMarginRight=5,this.treeImageWidth=10,this.treeImageHeight=10,this.treePreventParentUsage=!1,this.timeFormat="Auto",this.timeline=null,this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.zoomLevels=[],this.zoomPosition="left",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowRightClickHandling="ContextMenu",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.bubble="function"==typeof t.Bubble?new t.Bubble:null,this.cellBubble=null,this.resourceBubble=null,this.linkBubble=null,this.contextMenu=null,this.contextMenuResource=null,this.contextMenuSelection=null,this.contextMenuLink=null,t.browser.ie&&(this.scrollDelayCells=100,this.scrollDelayFloats=100),1===v.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseEnter=null,this.onEventMouseLeave=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onIncludeTimeCell=null,this.onLinkClick=null,this.onLinkClicked=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowMouseOver=null,this.onRowMouseOut=null,this.onRowRightClick=null,this.onRowRightClicked=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderColumnResized=null,this.onRowHeaderResized=null,this.onCellMouseEnter=null,this.onCellMouseLeave=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeCornerRender=null,this.onBeforeCornerDomAdd=null,this.onBeforeCornerDomRemove=null,this.onBeforeEventRender=null,this.onBeforeEventDomAdd=null,this.onBeforeEventDomRemove=null,this.onBeforeGridLineRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeTimeHeaderDomAdd=null,this.onBeforeTimeHeaderDomRemove=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeRowHeaderColumnRender=null,this.onBeforeRowHeaderDomAdd=null,this.onBeforeRowHeaderDomRemove=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onAfterEventRender=null,this.onAfterCellRender=null,this.onAfterEventEditRender=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleSelecting=null,this.onRectangleSelect=null,this.onRectangleSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.R=0,this.Hh=!0,this.Ih=!1,this.Jh=!1,this.Kh=!1,this.Lh=-1,this.Mh=-1,this.T=!1,this.Nh=-1,this.Oh=!1,this.Ph=!0,this.rowlist=t.list(),this.itline=t.list(),this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.elements.timeHeader=[],this.P={},this.P.cells=[],this.P.linesVertical={},this.P.linesHorizontal={},this.P.timeHeaderGroups=[],this.P.timeHeader={},this.P.pixels=[],this.P.breaks=[],this.P.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(e){return 0===e.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts","rowHeaderCols"],this.members.noCssOnly=[],this.U="javasc",this.nav={},this.la=function(e,i){if(e=JSON.parse(e),v.onScrollCalled=!1,e.VsUpdate){var n=document.createElement("input");n.type="hidden",n.name=v.id+"_vsupdate",n.id=n.name,n.value=e.VsUpdate,v.tg.innerHTML="",v.tg.appendChild(n)}if(!e.CallBackRedirect){if(e.BubbleGuid){var a=e.BubbleGuid,o=this.bubbles[a];return delete this.bubbles[a],v.Ga(),void 0!==e.Result.BubbleHTML&&o&&o.updateView(e.Result.BubbleHTML,o),void v.Qh()}if("function"==typeof v.onCallBackResult){var r={};if(r.result=e,r.preventDefault=function(){r.preventDefault.value=!0},v.onCallBackResult(r),r.preventDefault.value)return v.Kb(),v.Ga(),v.bb(),e.Message&&v.message&&v.message(e.Message),v.Ha(e.CallBackData,!0),v.Qh(),void v.ba()}return void 0!==t.Bubble&&t.Bubble.hideActive(),void 0!==e.ClientState&&(v.clientState=null===e.ClientState?{}:e.ClientState),"None"===e.UpdateType?(v.Ga(),v.Qh(),e.Message&&v.message(e.Message),void v.Ha(e.CallBackData,!0)):(void 0!==e.TagFields&&(v.tagFields=e.TagFields),void 0!==e.SortDirections&&(v.sortDirections=e.SortDirections),v.P.drawArea=null,"Full"===e.UpdateType&&(v.resources=e.Resources,v.colors=e.Colors,v.palette=e.Palette,v.dirtyColors=e.DirtyColors,v.cellProperties=e.CellProperties,v.cellConfig=e.CellConfig,v.separators=e.Separators,v.timeline=e.Timeline,v.timeHeader=e.TimeHeader,v.timeHeaders=e.TimeHeaders,void 0!==e.Links&&(v.links.list=e.Links),void 0!==e.RowHeaderColumns&&(v.rowHeaderColumns=e.RowHeaderColumns),v.startDate=e.StartDate?new t.Date(e.StartDate):v.startDate,v.days=e.Days?e.Days:v.days,v.cellDuration=e.CellDuration?e.CellDuration:v.cellDuration,v.cellGroupBy=e.CellGroupBy?e.CellGroupBy:v.cellGroupBy,v.cellWidth=e.CellWidth?e.CellWidth:v.cellWidth,void 0!==e.CellWidthSpec&&(v.cellWidthSpec=e.CellWidthSpec),void 0!==e.Scale&&(v.scale=e.Scale),v.viewType=e.ViewType?e.ViewType:v.viewType,void 0!==e.ShowNonBusiness&&(v.showNonBusiness=e.ShowNonBusiness),v.businessBeginsHour=e.BusinessBeginsHour?e.BusinessBeginsHour:v.businessBeginsHour,v.businessEndsHour=e.BusinessEndsHour?e.BusinessEndsHour:v.businessEndsHour,void 0!==e.DynamicLoading&&(v.dynamicLoading=e.DynamicLoading),void 0!==e.TreeEnabled&&(v.treeEnabled=e.TreeEnabled),v.locale=e.Locale?e.Locale:v.locale,void 0!==e.TimeZone&&(v.timeZone=e.TimeZone),v.timeFormat=e.TimeFormat?e.TimeFormat:v.timeFormat,v.rowHeaderCols=e.RowHeaderCols?e.RowHeaderCols:v.rowHeaderCols,void 0!==e.DurationBarMode&&(v.durationBarMode=e.DurationBarMode),void 0!==e.CornerHTML&&(v.cornerHtml=e.CornerHTML),v.hashes=e.Hashes,v.Rh(),v.Sh(),v.Th(),v.La()),"Scroll"!==e.Action&&v.Ma(e.Events),"Full"===e.UpdateType&&(v.Uh(),v.Vh(),v.Wh()),v.Xh(),v.Ya(),v._a(),v.P.drawArea=null,"Scroll"!==e.Action?(v.Yh(),v.Na(),"Auto"!==v.heightSpec&&"Max"!==v.heightSpec||v.Ua(),v.Zh(),v.pa(),v.$h(),v.multiselect.clear(!0),v.multiselect._h(e.SelectedEvents),v.ai(),v.bi(),v.Za()):(v.multiselect.clear(!0),v.multiselect._h(e.SelectedEvents),v.ci(e.Events)),"HoldForever"!==v.timeRangeSelectedHandling&&v.di(),"Full"===e.UpdateType&&(v.setScroll(e.ScrollX,e.ScrollY),v.nh()),v.ei(),v.Kb(),e.SelectedRows&&v.fi(e.SelectedRows),v.Ga(),"Full"===e.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){v.Uh(),v.Ua()},0),v.bb(),e.Message&&v.message&&v.message(e.Message),v.Ha(e.CallBackData,!0),v.Qh(),v.ba(),void("Full"!==e.UpdateType||"Scroll"===e.Action||v.onScrollCalled||setTimeout(function(){v.gi()},0)))}document.location.href=e.CallBackRedirect},this.Kb=function(){if(v.hi&&v.hi.ii){var e=v.hi.ii;e.parentNode.removeChild(e),v.hi.ii=null}},this.Ha=function(e,t){window.setTimeout(function(e,t){return function(){if(v.cb()){if("function"==typeof v.onAfterRender){var i={};i.isCallBack=t,i.isScroll=!1,i.data=e,v.onAfterRender(i)}}else v.afterRender&&v.afterRender(e,t)}}(e,t),0)},this.scrollTo=function(e,i,n){if(v.infiniteScrollingEnabled)return v.S&&!t.Util.overlaps(v.visibleStart(),v.visibleEnd(),e,e)?void v.infinite.scrollTo(e):void v.ji(e,i,n);v.ki.enabled?(v.ki.scrollToRequested=e,setTimeout(function(){var e=v.ki.scrollToRequested;e&&(v.li=null,v.ji(e,i,n))},0)):v.ji(e,i,n)},this.ji=function(e,i,n){if(e){if(!v.S)return void(v.li={date:e,animated:i,position:n});if("Days"===v.viewType){var a=v.mi(new t.Date(e));if(!a)return;return void setTimeout(function(){v.nav.scroll.scrollTop=a.top},100)}var o;if(e instanceof t.Date)o=this.getPixels(e).left;else if("string"==typeof e)o=this.getPixels(new t.Date(e)).left;else{if("number"!=typeof e)throw new t.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");o=e}var r=v.ni.clientWidth,s=v.nav.scroll.clientWidth;switch((n=n||"left").toLowerCase()){case"left":break;case"middle":o-=s/2;break;case"right":o-=s}if(o<0&&(o=0),o>r-s&&(o=r-s),!i)return void v.oi(o);var l=Math.abs(v.nav.scroll.scrollLeft-o)/r,c=50;if("number"==typeof i)c=i;else if("string"==typeof i)switch(i){case"fast":c=30;break;case"normal":c=50;break;case"slow":c=100;break;case"linear":c=Math.floor(100*l)}l>.6&&(c=Math.min(c,80)),v.pi(o,c)}},this.pi=function(e,t){for(var i={steps:[],index:0,delay:10,next:function(){var e=i.steps[i.index];return i.index+=1,e},finished:function(){v.gi()}},n=v.getScrollX(),a=(t=t||100,e-n),o=0;o<t;o++){var r=o/t,s=2*(r-.5)/(Math.pow(2*(r-.5),2)+1)+.5;i.steps.push(n+a*s)}i.steps.push(e),function e(t){var i=t.next();return void 0===i?void(t.finished&&t.finished()):(v.setScrollX(i),window.clearTimeout(v.refreshTimeout),void setTimeout(function(){e(t)},t.delay))}(i)},this.scrollToResource=function(e){t.complete(function(){var i;if("string"==typeof e||"number"==typeof e)i=v.qi(e);else{if(!(e instanceof t.Row))throw new t.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");i=v.qi(e.id)}i&&setTimeout(function(){v.nav.scroll.scrollTop=i.top},100)})},this.ri=function(){if(this.floatingTimeHeaders&&this.timeHeader){var e=v.X();if(e){v.si();for(var t=e.pixels.left+g.vi,i=e.pixels.right+g.vi+e.sw,n=[],a=0;a<this.timeHeader.length;a++)for(var o=0;o<this.timeHeader[a].length;o++){var r=this.timeHeader[a][o],s=r.left,l=r.left+r.width,c=null;if(s<t&&t<l&&((c={}).x=o,c.y=a,c.marginLeft=t-s,c.marginRight=0,c.div=v.P.timeHeader[o+"_"+a],n.push(c)),s<i&&i<l){c||((c={}).x=o,c.y=a,c.marginLeft=0,c.div=v.P.timeHeader[o+"_"+a],n.push(c)),c.marginRight=l-i;break}}for(var d=0;d<n.length;d++)v.wi((c=n[d]).div,c.marginLeft,c.marginRight)}}},this.ei=function(){v.ri(),v.xi()},this.yi={};var m=v.yi;m.zi=function(e,i,n,a){var o=e,r=e+n,s=i,l=i+a;return t.list(v.elements.events).filter(function(e){var i=e.event,n=v.rowlist[i.part.dayIndex].top+i.part.top,a=n+i.part.height;if(t.Util.overlaps(i.part.left,i.part.left+i.part.width,o,r)&&t.Util.overlaps(n,a,s,l))return!0})},m.Ai=function(e){var i=[],n=(e=e||"All",v.X());if(!n)return t.list(i);for(var a=n.pixels.left,o=n.pixels.right,r=0;r<v.elements.events.length;r++){var s=v.elements.events[r],l=s.event,c=l.part.left,d=l.part.left+l.part.width;switch(e){case"Left":c<a&&a<d&&i.push(s);break;case"All":t.Util.overlaps(c,d,a,o)&&i.push(s)}}return t.list(i).addProps({area:n})},this.xi=function(){if(this.floatingEvents){var e=m.Ai("Left");v.Bi(),e.filter(function(e){return"Milestone"!==e.event.data.type}).forEach(function(t){v.Ci(t,e.area.pixels.left-t.event.part.left,0)})}},this.elements.sections=[],this.elements.hsections=[],this.wi=function(e,t,i){var n=c();n.setAttribute("unselectable","on"),n.className=v.G("_timeheader_float"),n.style.position="absolute",n.style.left=t+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var a=c();a.className=v.G("_timeheader_float_inner"),a.setAttribute("unselectable","on");var o=e.cell.th;if(a.innerHTML=v.ca(o.text,o.innerHTML),o.fontColor&&(a.style.color=o.fontColor),n.appendChild(a),e.section=n,e.insertBefore(n,e.firstChild.nextSibling),e.domArgs&&e.domArgs.element){var r=e.firstChild&&e.firstChild.firstChild;r&&(r.style.display="none")}else e.firstChild.innerHTML="";this.elements.hsections.push(e)},this.si=function(){for(var e=0;e<this.elements.hsections.length;e++){var i=this.elements.hsections[e],n=i.cell;if(n&&i.firstChild)if(i.domArgs&&i.domArgs.element){var a=i.firstChild&&i.firstChild.firstChild;a&&(a.style.display="")}else i.firstChild.innerHTML=v.ca(n.th.text,n.th.innerHTML);t.de(i.section),i.section=null}this.elements.hsections=[]},this.Ci=function(e,i,n){var a=c();a.setAttribute("unselectable","on"),a.className=v.G(R.eventFloat),a.style.position="absolute",a.style.left=i+"px",a.style.right=n+"px",a.style.top="0px",a.style.bottom="0px",a.style.overflow="hidden";var o=c();if(o.className=v.G(R.eventFloatInner),o.setAttribute("unselectable","on"),o.innerHTML=e.event.client.html(),a.appendChild(o),e.section=a,e.insertBefore(a,e.firstChild.nextSibling),e.domArgs&&e.domArgs.element){var r=e&&e.firstChild&&e.firstChild.firstChild;r&&(r.style.display="none")}else e.firstChild.innerHTML="";var s=e.event,l=s.cache||s.data,d=s.cache?s.cache.areas:s.data.areas;d=d||[],l.fontColor&&(o.style.color=l.fontColor);var h={offsetX:v.Di(o),eventDiv:e,areas:d.filter(function(e){return!(e.start||e.end)})};t.Areas.attach(a,e.event,h),t.Areas.disable(e),this.elements.sections.push(e)},this.Ei=null,this.Di=function(e){return null===v.Ei&&(v.Ei=parseInt(new t.StyleReader(e).get("padding-left"))),v.Ei},this.Bi=function(){for(var e=0;e<this.elements.sections.length;e++){var i=this.elements.sections[e],n=i.event;if(n)if(i.domArgs&&i.domArgs.element){var a=i&&i.firstChild&&i.firstChild.firstChild;a&&(a.style.display="")}else i.firstChild.innerHTML=n.client.html();t.de(i.section),t.Areas.enable(i),i.section=null}this.elements.sections=[]},this.setScrollX=function(e){v.ki.enabled?(v.ki.scrollXRequested=e,setTimeout(function(){var e=v.ki.scrollXRequested;"number"==typeof e&&v.oi(e)},0)):v.oi(e)},this.oi=function(e){var t=v.nav.scroll,i=v.Fi();t.clientWidth+e>i&&(e=i-t.clientWidth),v.divTimeScroll.scrollLeft=e,t.scrollLeft=e},this.setScrollY=function(e){v.ki.enabled?(v.ki.scrollYRequested=e,setTimeout(function(){var e=v.ki.scrollYRequested;"number"==typeof e&&v.Gi(e)},0)):v.Gi(e)},this.Gi=function(e){var t=v.nav.scroll,i=v.Nh;t.clientHeight+e>i&&(e=i-t.clientHeight),v.divResScroll.scrollTop=e,t.scrollTop=e},this.setScroll=function(e,t){v.setScrollX(e),v.setScrollY(t)},this.Hi=function(){return v.Ii()+O.Ji()-1},this.message=function(e,i){if(null!==e&&v.S){var n,a={};n="object"==typeof arguments[1]?(a=arguments[1]).delay:i;var o="";o=a.rawHtml?e:t.Util.escapeHtml(e),n=n||this.messageHideAfter||2e3;var r,s=v.Ki()+1,l=v.Hi(),d=t.sw(v.nav.scroll)+1,h=t.sh(v.nav.scroll);if(this.nav.message)r=v.nav.message;else{(r=c()).style.position="absolute",r.style.left=l+"px",r.style.right=d+"px",r.style.display="none",t.re(r,t.touch.start,function(e){v.nav.message.style.display="none",e.preventDefault(),e.stopPropagation()}),r.onmousemove=function(){v.messageHideOnMouseOut&&r.messageTimeout&&!r.status&&clearTimeout(r.messageTimeout)},r.onmouseout=function(){v.messageHideOnMouseOut&&"none"!==v.nav.message.style.display&&(r.messageTimeout=setTimeout(v.nb,500))};var u=c();u.onclick=function(){v.nav.message.style.display="none"},u.className=v.G("_message"),r.appendChild(u);var f=c();f.style.position="absolute",f.className=v.G("_message_close"),f.onclick=function(){v.nav.message.style.display="none"},r.appendChild(f),this.nav.top.appendChild(r),this.nav.message=r}var p=function(){if(v.nav.message){var e=v.nav.message.firstChild;e.className=v.G("_message"),a.cssClass&&t.Util.addClass(e,a.cssClass),e.innerHTML=o;var i=t.sw(v.nav.scroll);v.nav.message.style.right=i+"px";var l=v.messageBarPosition||"Top";"Bottom"===l?(v.nav.message.style.bottom=h+"px",v.nav.message.style.top=""):"Top"===l&&(v.nav.message.style.bottom="",v.nav.message.style.top=s+"px"),t.fade(v.nav.message,.2,function(){r.messageTimeout=setTimeout(v.nb,n)})}};clearTimeout(r.messageTimeout),"none"!==this.nav.message.style.display?t.fade(v.nav.message,-.2,p):p()}},this.nb=function(){v.nav&&v.nav.message&&t.fade(v.nav.message,-.2,function(){v.nav.message.style.display="none"})},this.Li=function(){v.nav&&v.nav.message&&(v.nav.message.style.display="none")},this.message.show=function(e){v.message(e)},this.message.hide=function(){v.nb()},this.Mi=null,this.Ua=function(){if(this.nav.scroll){!function(){var e=v.Fi();v.ni.style.height=v.Nh+"px",v.ni.style.width=e+"px","Auto"!==v.cellWidthSpec||v.Ni?v.nav.scroll.style.overflowX=e>v.nav.scroll.clientWidth?"auto":"hidden":(v.nav.scroll.style.overflowX="hidden",v.nav.scroll.scrollLeft=0)}();var e="None"===v.timeHeaderPosition?0:1;null!==this.Mi&&(this.nav.top.style.border=this.Mi,this.Mi=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Mi=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.Ki()-e),this.nav.scroll.style.height="30px";var i=this.dd(),n=i+this.Ki()+e;if(i>=0&&(this.nav.scroll.style.height=i+"px",this.Oi.style.height=i+"px"),this.nav.divider&&((!n||isNaN(n)||n<0)&&(n=0),this.nav.divider.style.height=n+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=n+"px"),v.nav.resScrollSpace){var a=30+v.Pi.bottom.height;"Auto"===v.heightSpec&&(a=t.sh(v.nav.scroll)),v.nav.resScrollSpace.style.height=a+"px"}for(var o=0;o<this.elements.separators.length;o++)this.elements.separators[o].style.height=this.Nh+"px";for(o=0;o<this.elements.linesVertical.length;o++)this.elements.linesVertical[o].style.height=this.Nh+"px";v.Qi(),v.Ri()}},this.Sh=function(){this.startDate=new t.Date(this.startDate).getDatePart(),this.P.pixels=[],this.itline=t.list();var e="Auto"===this.cellWidthSpec;if(function(){if(e){var i=0;v.I()&&v.timeline||"Manual"===v.scale?i=v.timeline.length:(v.Si(),i=v.itline.length,v.itline=t.list());var n=v.Ti();if(i>0&&n>0){var a=n/i;v.cellWidth=t.Util.atLeast(a,v.cellWidthMin),v.Ni=a<v.cellWidthMin}}}(),this.I()&&this.timeline){if(this.timeline){this.itline=t.list();for(var i=null,n=0,a=0;a<this.timeline.length;a++){if((s={}).start=new t.Date((r=this.timeline[a]).start),s.end=r.end?new t.Date(r.end):s.start.addMinutes(this.cellDuration),r.width)s.left=r.left||n,s.width=r.width||this.cellWidth,n+=s.width;else{var o=Math.floor(n+this.cellWidth)-Math.floor(n);s.left=Math.floor(n),s.width=o,n+=this.cellWidth}s.breakBefore=i&&i.ticks!==s.start.ticks,i=s.end,this.itline.push(s)}}e&&this.Ui()}else{if(this.timeHeader=[],"Manual"===this.scale)for(this.itline=t.list(),n=0,i=null,a=0;this.timeline&&a<this.timeline.length;a++){var r,s;if((s={}).start=new t.Date((r=this.timeline[a]).start),s.end=r.end?new t.Date(r.end):s.start.addMinutes(this.cellDuration),i&&s.start.ticks<i.ticks)throw new t.Exception("The timeline must be sequential");var l=r.width||this.cellWidth;o=Math.floor(n+l)-Math.floor(n),s.left=Math.floor(n),s.width=o,n+=l,s.breakBefore=i&&i.ticks!==s.start.ticks,i=s.end,this.itline.push(s)}else this.Si();this.Vi()}},this.infinite={},this.infinite.shiftStart=function(e){g.Wi(e)},this.infinite.scrollTo=function(e){g.Xi(e)},this.Yi={};var g=this.Yi;g.vi=0,g.of=!1,g.Zi=function(){v.$i().forEach(function(e,t){e.start=v.kb(),e.data=null,v._i(e.index,e.grid)})},g.aj=function(){return v.infiniteScrollingEnabled&&!v.I()},g.Xi=function(e){var i=(e=new t.Date(e)).addDays(-v.infiniteScrollingStepDays).getDatePart(),n=new t.Duration(i.getTime()-v.startDate.getDatePart().getTime()).totalDays();g.Wi(n,e)},g.Wi=function(e,i){var n;g.of=!0;var a=v.startDate,o=v.startDate.addDays(e);e>0&&(n=-v.getPixels(o).left),v.startDate=v.startDate.addDays(e),v.itline=t.list(),v.P.pixels=[],v.bj={},v.Si(),g.Zi(),e<0&&(n=v.getPixels(a).left),v.timeHeader=[],v.Vi(),v.Wh(),v.cellProperties={},v.Zh(),v.$h(),v.Ma(),v.pa(),v.Xh(),v.Yh(),v.Ua(),void 0!==i?(v.scrollTo(new t.Date(i)),v.gi()):v.nav.scroll.scrollLeft+=n,v.bi(),v.Za(),g.of=!1},this.Si=function(){!v.S&&g.aj()&&(this.startDate=this.startDate.addDays(-this.infiniteScrollingStepDays));for(var e=this.startDate.addDays("Days"!==this.viewType?this.days:1),i=this.startDate,n=this.cj(i),a=!1,o=0,r=null;n.ticks<=e.ticks&&n.ticks>i.ticks;){var s=i,l=n;v.showNonBusinessForceHours&&"Day"==v.scale&&(s=i.addHours(v.businessBeginsHour),l=i.addHours(v.businessEndsHour));var c=this.dj(s,l,!0);if(!c.cell.start||!c.cell.end)throw new t.Exception("Invalid timeline cell start/end: start and/or end not specified");if(c.cell.start=new t.Date(c.cell.start),c.cell.end=new t.Date(c.cell.end),c.cell.start>=c.cell.end)throw new t.Exception("Invalid timeline cell start/end: end before start");if(r&&r.ticks>c.cell.start.ticks)throw new t.Exception("Invalid timeline cell start/end: overlapping cells");a=!!(r&&r.ticks<c.cell.start.ticks);var d=c.cell.width||v.cellWidth;if(c.cell.visible){var h=Math.floor(o+d)-Math.floor(o),u={};u.start=c.cell.start,u.end=c.cell.end,u.left=Math.floor(o),u.width=h,u.breakBefore=a,this.itline.push(u),o+=d,r=c.cell.end}n=this.cj(i=n)}},this.Ui=function(){if(this.timeHeader)for(var e=0;e<this.timeHeader.length;e++)for(var i=this.timeHeader[e],n=0;n<i.length;n++){var a=i[n];a.left=this.getPixels(new t.Date(a.start)).left;var o=this.getPixels(new t.Date(a.end)).left;a.width=o-a.left}},this.Vi=function(){var e=this.timeHeaders;if(e||(e=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var t=0;t<e.length;t++)this.timeHeader[t]=[]}else{var i=v.ej();for(t=0;t<e.length;t++){var n=e[t].groupBy,a=e[t].format;"Default"===n&&(n=this.cellGroupBy);for(var o=[],r=this.kb();r.ticks<i.ticks;){var s={};if(s.start=r,s.end=this.fj(s.start,n),s.start.ticks===s.end.ticks)break;s.left=this.getPixels(s.start).left;var l=this.getPixels(s.end).left-s.left;if(s.width=l,s.colspan=Math.ceil(l/(1*this.cellWidth)),s.text="string"==typeof a?s.start.toString(a,O.gj()):this.hj(s,n),l>0){if("function"==typeof this.onBeforeTimeHeaderRender){var c={};c.start=s.start,c.end=s.end,c.text=s.text,c.html=null,c.toolTip=v.ca(s.text),c.backColor=null,c.fontColor=null,c.level=this.timeHeader.length,c.cssClass=null;var d={};d.header=c,d.control=v,this.onBeforeTimeHeaderRender(d),s.innerHTML=v.ca(c.text,c.html),s.backColor=c.backColor,s.fontColor=c.fontColor,s.toolTip=c.toolTip,s.areas=c.areas,s.cssClass=c.cssClass}o.push(s)}r=s.end}this.timeHeader.push(o)}}},this.dj=function(e,t){var i={};i.start=e,i.end=t,i.visible=!0,i.width=null;var n={};return n.cell=i,"function"==typeof this.onIncludeTimeCell?(this.onIncludeTimeCell(n),n):(this.showNonBusiness||(n.cell.visible=this.isBusiness({start:e,end:t},"Days"===v.viewType)),n)},this.getPixels=function(e){var i=e.ticks,n=this.P.pixels[i];if(n)return n;var a=2218768416e5;if(0===this.itline.length||i<this.itline[0].start.ticks)return(d={cut:!1,left:0}).boxLeft=d.left,d.boxRight=d.left,d.i=null,d;for(var o=this.ij(e),r=t.Util.atLeast(o.i-1,0);r<this.itline.length;r++){var s=this.itline[r],l=s.start.ticks,c=s.end.ticks;if(l<i&&i<c){(d={cut:!1}).left=s.left+this.Ld(s,i-l),d.boxLeft=s.left,d.boxRight=s.left+s.width,d.i=r;break}if(l===i){(d={cut:!1}).left=s.left,d.boxLeft=d.left,d.boxRight=d.left+s.width,d.i=r;break}if(c===i){(d={cut:!1}).left=s.left+s.width,d.boxLeft=d.left,d.boxRight=d.left,d.i=r+1;break}if(i<l&&i>a){(d={cut:!0}).left=s.left,d.boxLeft=d.left,d.boxRight=d.left,d.i=r;break}a=c}if(!d){var d,h=this.itline[this.itline.length-1];(d={cut:!0}).left=h.left+h.width,d.boxLeft=d.left,d.boxRight=d.left,d.i=null}return this.P.pixels[i]=d,d},this.getDate=function(e,t,i){var n=this.jj(e,i);if(!n)return null;var a=this.itline[n.x];if(!a)return null;var o=i&&!t?a.end:a.start;return t?o.addTime(this.kj(n.cell,n.offset)):o},this.jj=function(e,t){if(0===this.itline.length)return null;for(var i=0,n=0,a=0;a<this.itline.length;a++){if(e<(i+=(r=this.itline[a]).width||this.cellWidth)||t&&e===i)return(o={}).x=a,o.offset=e-n,o.cell=r,o;n=i}var o,r=v.itline.last();return(o={}).x=this.itline.length-1,o.offset=r.width||this.cellWidth,o.cell=r,o},this.lj=function(e){return this.ij(e)},this.ij=function(e){var i=new t.Date(e),n=0;if(i.ticks<this.itline[0].start.ticks)return(s={hidden:!0,previous:null,current:null}).next=this.itline[0],s.i=-1,s;var a=this.itline.length-1,o=this.itline[a];if(i.ticks>o.end.ticks)return(s={past:!0}).previous=this.itline[this.itline.length-1],s.i=this.itline.length,s;if(i.ticks===o.end.ticks)return(s={past:!1}).current=this.itline[this.itline.length-1],s.i=this.itline.length-1,s;for(var r=function(){for(var e,t=v.itline;n<=a;)if(t[e=Math.floor((n+a)/2)].start.ticks>i.ticks)a=e-1;else{if(!(t[e].end.ticks<i.ticks))return e;n=e+1}return n}();r<this.itline.length;r++){var s,l=this.itline[r];if(l.start.ticks<=i.ticks&&i.ticks<l.end.ticks)return(s={hidden:!1}).current=l,s.i=r,s;if(i.ticks<l.start.ticks)return(s={hidden:!0}).previous=r>0?this.itline[r-1]:null,s.current=null,s.next=this.itline[r],s.i=r,s}return(s={past:!0}).previous=this.itline[this.itline.length-1],s.i=this.itline.length,s},this.Ld=function(e,t){return Math.floor((e.width||this.cellWidth)*t/(e.end.ticks-e.start.ticks))},this.kj=function(e,t){return Math.floor(t/(e.width||this.cellWidth)*(e.end.ticks-e.start.ticks))},this.Jg=function(e){t.Global.touch.start||s.mj||(v.nj={},v.pb(this,e))},this.eventClickPostBack=function(e,t){this.fa("EventClick",e,t)},this.eventClickCallBack=function(e,t){this.ha("EventClick",e,t)},this.pb=function(e,i){var n=e.event;if(n){if(void 0!==t.Bubble&&t.Bubble.hideActive(),!n.client.doubleClickEnabled())return void v.qb(e,i);v.oj.click||(v.oj.click=[]),v.oj.click.push(window.setTimeout(function(e,t){return function(){v.qb(e,t)}}(e,i),v.doubleClickTimeout))}},this.pj=function(e){return v.itline[e]},this.qb=function(e,i){if("boolean"==typeof i)throw new t.Exception("Invalid _eventClickSingle parameters");var n=e.event;if(n){var a=i.ctrlKey,o=i.metaKey;if(n.client.clickEnabled())if(v.qj(i),v.cb()){var r={};if(r.e=n,r.div=e,r.originalEvent=i,r.ctrl=a,r.meta=o,r.shift=i.shiftKey,r.preventDefault=function(){this.preventDefault.value=!0},r.control=v,r.toJSON=function(){return t.Util.copyProps(r,{},["e","ctrl","meta","shift"])},"function"==typeof v.onEventClick&&(v.onEventClick(r),r.preventDefault.value))return;switch(v.eventClickHandling){case"PostBack":v.eventClickPostBack(n);break;case"CallBack":v.eventClickCallBack(n);break;case"Edit":v.rb(e);break;case"Select":v.sb(e,n,a,o);break;case"ContextMenu":(s=n.client.contextMenu())?s.show(n):v.contextMenu&&v.contextMenu.show(n);break;case"Bubble":v.bubble&&v.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==O.rj())return B.start(),!1}"function"==typeof v.onEventClicked&&v.onEventClicked(r)}else switch(v.eventClickHandling){case"PostBack":v.eventClickPostBack(n);break;case"CallBack":v.eventClickCallBack(n);break;case"JavaScript":v.onEventClick(n);break;case"Edit":v.rb(e);break;case"Select":v.sb(e,n,a,o);break;case"ContextMenu":var s;(s=n.client.contextMenu())?s.show(n):v.contextMenu&&v.contextMenu.show(n);break;case"Bubble":v.bubble&&v.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==O.rj())return B.start(),!1}}},this.zb=function(e){if(v.cb()){var i={};if(i.e=e,i.preventDefault=function(){this.preventDefault.value=!0},i.control=v,i.toJSON=function(){return t.Util.copyProps(i,{},["e"])},"function"==typeof v.onEventDelete&&(v.onEventDelete(i),i.preventDefault.value))return;switch(v.eventDeleteHandling){case"PostBack":v.eventDeletePostBack(e);break;case"CallBack":v.eventDeleteCallBack(e);break;case"Update":v.events.remove(e),void 0!==t.Bubble&&t.Bubble.hideActive()}"function"==typeof v.onEventDeleted&&v.onEventDeleted(i)}else switch(v.eventDeleteHandling){case"PostBack":v.eventDeletePostBack(e);break;case"CallBack":v.eventDeleteCallBack(e);break;case"JavaScript":v.onEventDelete(e)}},this.eventDeletePostBack=function(e,t){this.fa("EventDelete",e,t)},this.eventDeleteCallBack=function(e,t){this.ha("EventDelete",e,t)},this.setHScrollPosition=function(e){this.nav.scroll.scrollLeft=e},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.sb=function(e,t,i,n){v.Tb(e,t,i,n)},this.eventSelectPostBack=function(e,t,i){var n={};n.e=e,n.change=t,this.fa("EventSelect",n,i)},this.eventSelectCallBack=function(e,t,i){var n={};n.e=e,n.change=t,this.ha("EventSelect",n,i)},this.Tb=function(e,t,i,n){var a=v.multiselect,o=a.isSelected(t);if(i||n||!o||1!==a.Ub.length)if(v.cb()){a.tc=a.events();var r={};if(r.e=t,r.selected=o,r.ctrl=i,r.meta=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onEventSelect&&(v.onEventSelect(r),r.preventDefault.value))return;switch(v.eventSelectHandling){case"PostBack":v.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),v.eventSelectCallBack(t,s);break;case"Update":a.Xb(e,i,n)}"function"==typeof v.onEventSelected&&(r.change=a.isSelected(t)?"selected":"deselected",r.selected=a.isSelected(t),v.onEventSelected(r))}else{a.tc=a.events(),a.Xb(e,i,n);var s=a.isSelected(t)?"selected":"deselected";switch(v.eventSelectHandling){case"PostBack":v.eventSelectPostBack(t,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.Vb="",window.Wb=[],WebForm_InitCallback()),v.eventSelectCallBack(t,s);break;case"JavaScript":v.onEventSelect(t,s)}}},this.eventRightClickPostBack=function(e,t){this.fa("EventRightClick",e,t)},this.eventRightClickCallBack=function(e,t){this.ha("EventRightClick",e,t)},this.ub=function(e){if(!t.Global.touch.active&&!t.Global.touch.start){var i=this.event;if(e.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(v.qj(e),v.cb()){var n={};if(n.e=i,n.div=this,n.originalEvent=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onEventRightClick&&(v.onEventRightClick(n),n.preventDefault.value))return!1;switch(v.eventRightClickHandling){case"PostBack":v.eventRightClickPostBack(i);break;case"CallBack":v.eventRightClickCallBack(i);break;case"ContextMenu":(a=i.client.contextMenu())?a.show(i):v.contextMenu&&v.contextMenu.show(this.event);break;case"Bubble":v.bubble&&v.bubble.showEvent(i)}"function"==typeof v.onEventRightClicked&&v.onEventRightClicked(n)}else switch(v.eventRightClickHandling){case"PostBack":v.eventRightClickPostBack(i);break;case"CallBack":v.eventRightClickCallBack(i);break;case"JavaScript":v.onEventRightClick(i);break;case"ContextMenu":var a;(a=i.client.contextMenu())?a.show(i):v.contextMenu&&v.contextMenu.show(this.event);break;case"Bubble":v.bubble&&v.bubble.showEvent(i)}return!1}},this.eventDoubleClickPostBack=function(e,t){this.fa("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(e,t){this.ha("EventDoubleClick",e,t)},this.tb=function(e){if(void 0!==t.Bubble&&t.Bubble.hideActive(),v.oj.click){for(var i in v.oj.click)window.clearTimeout(v.oj.click[i]);v.oj.click=null}var n=this.event;if(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,v.cb()){var a={};if(a.e=n,a.originalEvent=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onEventDoubleClick&&(v.onEventDoubleClick(a),a.preventDefault.value))return;switch(v.eventDoubleClickHandling){case"PostBack":v.eventDoubleClickPostBack(n);break;case"CallBack":v.eventDoubleClickCallBack(n);break;case"Edit":v.rb(this);break;case"Select":v.sb(div,n,e.ctrlKey,e.metaKey);break;case"Bubble":v.bubble&&v.bubble.showEvent(n);break;case"ContextMenu":(o=n.client.contextMenu())?o.show(n):v.contextMenu&&v.contextMenu.show(n)}"function"==typeof v.onEventDoubleClicked&&v.onEventDoubleClicked(a)}else switch(v.eventDoubleClickHandling){case"PostBack":v.eventDoubleClickPostBack(n);break;case"CallBack":v.eventDoubleClickCallBack(n);break;case"JavaScript":v.onEventDoubleClick(n);break;case"Edit":v.rb(this);break;case"Select":v.sb(div,n,e.ctrlKey,e.metaKey);break;case"Bubble":v.bubble&&v.bubble.showEvent(n);break;case"ContextMenu":var o;(o=n.client.contextMenu())?o.show(n):v.contextMenu&&v.contextMenu.show(n)}},this.eventResizePostBack=function(e,t,i,n){this.Gb("PostBack",e,t,i,n)},this.eventResizeCallBack=function(e,t,i,n){this.Gb("CallBack",e,t,i,n)},this.Gb=function(e,t,i,n,a){var o={};if(t&&t.preventDefault){var r=t;o.e=r.e,o.newStart=r.newStart,o.newEnd=r.newEnd,o.multiresize=[],r.multiresize.forEach(function(e){var t={};t.e=e.event,t.newStart=e.start,t.newEnd=e.end,o.multiresize.push(t)})}else o.e=t,o.newStart=i,o.newEnd=n;this.Ab(e,"EventResize",o,a)},this.Eb=function(e,i,n,a){if("Disabled"!==this.eventResizeHandling){n=v.Yg(n);var o={};o.e=e,o.async=!1,o.loaded=function(){s()},o.newStart=i,o.newEnd=n,o.what=a,o.preventDefault=function(){this.preventDefault.value=!0},o.multiresize=t.list(C.list),o.control=v,o.toJSON=function(){return t.Util.copyProps(o,{},["e","async","newStart","newEnd","multiresize"])};var r={};if(r.event=e,r.start=i,r.end=n,o.multiresize.splice(0,0,r),v.cb()){var s=function(){if(P.hg(),!o.preventDefault.value){switch(o.loaded={},i=o.newStart,n=o.newEnd,v.eventResizeHandling){case"PostBack":v.eventResizePostBack(o);break;case"CallBack":v.eventResizeCallBack(o);break;case"Notify":v.eventResizeNotify(o);break;case"Update":v.sj(o)}"function"==typeof v.onEventResized&&v.onEventResized(o)}};"function"==typeof v.onEventResize&&v.onEventResize(o),o.async?v.blockOnCallBack&&P.Ya():s()}else switch(v.eventResizeHandling){case"PostBack":v.eventResizePostBack(o);break;case"CallBack":v.eventResizeCallBack(o);break;case"JavaScript":v.onEventResize(e,i,n);break;case"Notify":v.eventResizeNotify(o);break;case"Update":v.sj(o)}}},this.eventMovePostBack=function(e,t,i,n,a,o){this.Lb("PostBack",e,t,i,n,a,o)},this.eventMoveCallBack=function(e,t,i,n,a,o){this.Lb("CallBack",e,t,i,n,a,o)},this.Lb=function(e,t,i,n,a,o,r){var s={};if(t&&t.preventDefault){var l=t;s.e=l.e,s.newStart=l.newStart,s.newEnd=l.newEnd,s.newResource=l.newResource,s.position=l.position,s.multimove=[],l.multimove.forEach(function(e){var t={};t.e=e.event,t.newStart=e.start,t.newEnd=e.end,t.newResource=e.event.resource(),t.e===l.e||t.e.data.id==l.e.data.id?t.newResource=l.newResource:_.rowoffset&&(t.newResource=v.rowlist[e.event.part.dayIndex+_.rowoffset].id),s.multimove.push(t)})}else s.e=t,s.newStart=i,s.newEnd=n,s.newResource=a,s.position=r;this.Ab(e,"EventMove",s,o)},this.tj=function(e,t,i){var n={};n.start=t.start,n.end=t.end,n.resource=t.resource,n.multirange=[],t.multirange.forEach(function(e){var t={};t.start=e.start,t.end=e.end,t.resource=e.resource,n.multirange.push(t)}),this.Ab(e,"TimeRangeSelected",n,i)},this.Ab=function(e,i,n,a){if("PostBack"===e)v.fa(i,n,a);else if("CallBack"===e)v.ha(i,n,a,"CallBack");else if("Immediate"===e)v.ha(i,n,a,"Notify");else if("Queue"===e)v.queue.add(new t.Action(this,i,n,a));else{if("Notify"!==e)throw new t.Exception("Invalid event invocation type");"Notify"===O.uj()?v.ha(i,n,a,"Notify"):v.queue.add(new t.Action(v,i,n,a))}},this.eventMoveNotify=function(e,i,n,a,o,r){if(e&&e.preventDefault){var s=e;s.old=new t.Event(s.e.copy(),v),s.multimove.forEach(function(e){e.old=new t.Event(e.event.copy(),v)}),v.sj(s),s.e=s.old,delete s.old,s.multimove.forEach(function(e){e.event=e.old,delete e.old})}else{e=new t.Event(e.copy(),v);var l=v.events.vj(e.data);e.start(i),e.end(n),e.resource(a),e.commit(),l=l.concat(v.events.wj(e.data)),v.xj(l),v.yj(),v.zj(l)}this.Lb("Notify",e,i,n,a,o,r)},this.eventResizeNotify=function(e,i,n,a){if(e&&e.preventDefault){var o=e;o.old=new t.Event(o.e.copy(),v),o.multiresize.forEach(function(e){e.old=new t.Event(e.event.copy(),v)}),v.sj(o),o.e=o.old,delete o.old,o.multiresize.forEach(function(e){e.event=e.old,delete e.old})}else{e=new t.Event(e.copy(),v);var r=v.events.vj(e.data);e.start(i),e.end(n),e.commit(),r=r.concat(v.events.wj(e.data)),v.xj(r),v.yj(),v.zj(r)}this.Gb("Notify",e,i,n,a)},this.zoom={},this.zoom.active=-1,this.zoom.setActive=function(e,i){var n;if("number"==typeof e)n=v.zoomLevels[e];else{if("string"!=typeof e)throw new t.Exception("Unexpected parameter type (string or number required): "+typeof e);var a=v.zoom.Aj(e);n=v.zoomLevels[a]}if(!n)throw new t.Exception("Zoom level not found: "+e);if(e!==v.zoom.active){var o=v.zoom.zh(i);v.zoom.Bj(e,o),v.S&&v.update(),o&&v.scrollTo(o,null,i||v.zoomPosition)}},this.zoom.Aj=function(e){return t.list(v.zoomLevels).findIndex(function(t){return t.id===e})},this.zoom.zh=function(e){e=e||v.zoomPosition||"left";var t=null;if(!v.nav.scroll)return null;var i=v.getViewPort();switch(e){case"left":t=i.start;break;case"middle":t=i.start&&i.start.addTime((v.getViewPort().end.getTime()-v.getViewPort().start.getTime())/2);break;case"right":t=i.end}return t},this.zoom.Bj=function(e,i){var n=v.zoomLevels.length-1;e>n&&(e=n),e<0&&(e=0),v.zoom.active=e;var a=v.zoomLevels[e],o={};return o.date=i||new t.Date(v.startDate),o.level=a,t.Util.ownPropsAsArray(a.properties).forEach(function(e){if(0!==e.key.indexOf("on"))return"function"==typeof e.val?void(v[e.key]=e.val(o)):void(v[e.key]=e.val)}),o},this.multiselect={},this.multiselect.Ub=[],this.multiselect.sc=[],this.multiselect.tc=[],this.multiselect._h=function(e){v.multiselect.Ub=t.list(e).map(function(e){return new t.Event(e,v)})},this.multiselect.uc=function(){return JSON.stringify(v.multiselect.events())},this.multiselect.events=function(){var e=v.multiselect,i=t.list();i.ignoreToJSON=!0;for(var n=0;n<e.Ub.length;n++)i.push(e.Ub[n]);return i},this.multiselect.get=function(){return v.multiselect.events()},this.multiselect.vc=function(){},this.multiselect.Xb=function(e,t,i){var n=v.multiselect;if(n.isSelected(e.event))if(v.allowMultiSelect)if(t||i)n.remove(e.event,!0);else{var a=n.Ub.length;n.clear(),a>1&&n.add(e.event,!0)}else n.clear();else v.allowMultiSelect&&(t||i)||n.clear(),n.add(e.event,!0);n.Ic(e),n.vc()},this.multiselect.wc=function(e){var t=v.multiselect;return t.xc(e,t.Ub)},this.multiselect.yc=function(){for(var e=v.multiselect,t=[],i=0;i<e.Ub.length;i++)t.push(e.Ub[i].value());alert(t.join("\n"))},this.multiselect.add=function(e,t){var i=v.multiselect;-1===i.zc(e)&&i.Ub.push(e),t||i.Cj(e)},this.multiselect.remove=function(e,t){var i=v.multiselect,n=i.zc(e);-1!==n&&i.Ub.splice(n,1),t||i.Cj(e)},this.multiselect.clear=function(e){var t=v.multiselect;t.Ub=[],e||t.redraw()},this.multiselect.redraw=function(){var e=v.multiselect;e.sc=[];for(var t=0;t<v.elements.events.length;t++){var i=v.elements.events[t];i.event&&i.event.isEvent&&(e.isSelected(i.event)?e.Ac(i):e.Bc(i))}},this.multiselect.Ic=function(e){if(e){var t=v.multiselect;t.isSelected(e.event)?t.Ac(e):t.Bc(e)}},this.multiselect.Cj=function(e){var t=v.multiselect,i=v.ze(e);t.Ic(i)},this.multiselect.Ac=function(e){var i=v.multiselect,n=v.G("_selected");e=i.Cc(e),t.Util.addClass(e,n),i.sc.push(e)},this.multiselect.Cc=function(e){return e},this.multiselect.Dc=function(){for(var e=v.multiselect,t=0;t<e.sc.length;t++)e.Bc(e.sc[t],!0);e.sc=[]},this.multiselect.Bc=function(e,i){var n=v.multiselect,a=v.G("_selected");if(t.Util.removeClass(e,a),!i){var o=t.indexOf(n.sc,e);-1!==o&&n.sc.splice(o,1)}},this.multiselect.isSelected=function(e){return!!e&&!!e.isEvent&&v.multiselect.xc(e,v.multiselect.Ub)},this.multiselect.zc=function(e){for(var t=e.data,i=0;i<v.multiselect.Ub.length;i++)if(v.Ec(v.multiselect.Ub[i].data,t))return i;return-1},this.multiselect.xc=function(e,t){if(!t)return!1;for(var i=0;i<t.length;i++)if(v.Ec(e,t[i]))return!0;return!1},this.multiselect.startRectangle=function(){B.start()},this.Dj=function(){this.$h(),this.bi()},this.Ej=function(){v.Fj(),v.Uh(),v.Yh(),v.Gj(),v.progressiveRowRendering&&v.Hj()},this.Ic=function(e){var t=!(e=e||{}).eventsOnly;window.clearTimeout(v.Ij),t&&(this.I()||(v.timeHeader=null,v.cellProperties={}),v.bj={},v.Rh(),v.Sh(),e&&e.dontLoadResources||v.Th(),v.Jj!==v.timeHeaderPosition&&v.Kj(),v.events.Lj(),v.ea.wh(),v.clearSelection()),this.Ma(),this.Mj(),v.Xh(),v.Uh(),t&&(v.Ce(),v.Vh(),v.Wh(),v.fi(v.selectedRows),v.Nj()),v.Yh(),v.Gj(),v.Na(),y.Oj(),this.pa(),this.Zh(),this.ba(),this.La(),v.Ua(),this.ai(),this.Dj(),e.immediateEvents||e.eventsOnly?v.Za():setTimeout(function(){v.Za()},100),this.visible?v.Ph!=v.visible&&this.show():this.hide(),this.Ph=this.visible,this.ei(),v.Ae.scope||v.ki.enabled?v.S?v.gi():g.aj()||v.gi():v.gi(),this.Pj(),this.bb()},this.Pj=function(){"function"==typeof v.onAfterUpdate&&v.onAfterUpdate({})},this.update=function(e){if(!v.S)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(v.T)throw new t.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");b.request(e)};var b={timeout:null,options:null,enabled:!1,request:function(e){b.enabled?(clearTimeout(b.timeout),b.Qj(e),b.timeout=setTimeout(b.doit)):(b.Qj(e),b.doit())},Qj:function(e){if(e)for(var t in b.options||(b.options={}),e)b.options[t]=e[t]},doit:function(){var e=b.options;return b.options=null,v.S?t.Util.isOnlyProperty(e,"events")?(v.events.list=e.events,v.Ic({eventsOnly:!0}),void N.Rj()):t.Util.isOnlyProperty(e,"separators")?(v.separators=e.separators,void v.Dj()):t.Util.isOnlyProperty(e,"rowHeaderColumns")&&!v.Sj()?(v.rowHeaderColumns=e.rowHeaderColumns,void v.Ej()):(v.De(e),v.Ic({immediateEvents:!0}),v.Me(),N.Rj(),void v.Ha(null,!1)):void v.De(e)}};this.Tj=function(e){e.forEach(function(e){v.Uj(e.index,e.grid)})},this.Vj=function(e){return e&&0!==e.length?e[0].isRow?e:e.map(function(e){return v.rowlist[e]}):[]},this.zj=function(e,i,n){e=t.ua(e),e=v.Vj(e),v.Tj(e),this.Wj?(this.Xh(),this.Yh(),this.Zh(),this.$h(),e.forEach(function(e){v.Xj(e.index,e.grid)}),e.forEach(function(e){v.Yj(e.index,e.grid)}),this.ai(),this.bi(),this.Zj()):(e.forEach(function(e){i||v.Xj(e.index,e.grid),v.Yj(e.index,e.grid)}),e.forEach(function(e){v.$j(e.index,e.grid)}),v.ai()),v.xi(),y._j(),v.multiselect.redraw(),n&&n(),this.ba()},this.Yg=function(e){return"DateTime"===v.eventEndSpec?e:e.getDatePart().ticks===e.ticks?e.addDays(-1):e.getDatePart()},this.zg=function(e){return"DateTime"===v.eventEndSpec?e:e.getDatePart().addDays(1)},this.$g=function(e){return"DateTime"===v.eventEndSpec?e:e.getDatePart()},this.Ib=function(e,i,n,a,o,r,s){if(v.Ca=null,"Disabled"!==v.eventMoveHandling){n=v.Yg(n);var l={};l.e=e,l.newStart=i,l.newEnd=n,l.newResource=a,l.external=o,l.ctrl=!1,l.meta=!1,l.shift=!1,r&&(l.shift=r.shiftKey,l.ctrl=r.ctrlKey,l.meta=r.metaKey),l.multimove=t.list(_.list),l.areaData=t.Global.movingAreaData,l.control=v,l.toJSON=function(){return t.Util.copyProps(l,{},["e","newStart","newEnd","newResource","external","ctrl","meta","shift","multimove","areaData"])};var c={};if(c.event=e,c.start=i,c.end=n,c.overlapping=!1,c.resource=a,l.multimove.splice(0,0,c),l.position=s,l.preventDefault=function(){this.preventDefault.value=!0},v.cb()){var d=function(){if(l.loaded=function(){},P.hg(),l.preventDefault.value)v.Jb();else{switch(i=l.newStart,n=l.newEnd,v.eventMoveHandling){case"PostBack":v.eventMovePostBack(l);break;case"CallBack":v.eventMoveCallBack(l);break;case"Notify":v.eventMoveNotify(l);break;case"Update":v.sj(l)}v.Jb(),"function"==typeof v.onEventMoved&&v.onEventMoved(l)}};l.async=!1,l.loaded=function(){d()},"function"==typeof v.onEventMove&&v.onEventMove(l),l.async?v.blockOnCallBack&&P.Ya():d()}else{switch(v.eventMoveHandling){case"PostBack":v.eventMovePostBack(l);break;case"CallBack":v.eventMoveCallBack(l);break;case"JavaScript":v.onEventMove(e,i,n,a,o,!!r&&r.ctrlKey,!!r&&r.shiftKey,s);break;case"Notify":v.eventMoveNotify(l);break;case"Update":v.sj(l)}v.Jb()}}},this.sj=function(e){var t=e.e,i=e.newEnd,n=e.newResource,a=e.external;t.start(e.newStart),t.end(i),t.resource(n),a?(t.commit(),v.events.add(t)):v.events.update(t),e.multimove&&!e.multimove.isEmpty()&&e.multimove.forEach(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.resource(e.resource),e.event.commit(),v.events.update(e.event))}),e.multiresize&&!e.multiresize.isEmpty()&&e.multiresize.forEach(function(e){e.event!==t&&(e.event.start(e.start),e.event.end(e.end),e.event.commit(),v.events.update(e.event))}),v.events.ak(),v.Kb()},this.Mb=function(e,t){var i=v.Nb(t),n={};n.args=e,n.guid=i,v.ha("Bubble",n)},this.Nb=function(e){var i=t.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[i]=e,i},this.eventMenuClickPostBack=function(e,t,i){var n={};n.e=e,n.command=t,this.fa("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(e,t,i){var n={};n.e=e,n.command=t,this.ha("EventMenuClick",n,i)},this.Ob=function(e,t,i){switch(i){case"PostBack":v.eventMenuClickPostBack(t,e);break;case"CallBack":v.eventMenuClickCallBack(t,e)}},this.timeRangeSelectedPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.fa("TimeRangeSelected",a,n)},this.timeRangeSelectedCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.ha("TimeRangeSelected",a,n)},this.bk=function(e){if(e){if(e.disabled)return void v.clearSelection();if(e.args)v.Qb(e.args.start,e.args.end,e.args.resource);else{var t=v.ck(e);if(!t)return;v.Qb(t.start,t.end,t.resource)}}},this.Qb=function(e,i,n){if("Disabled"!==v.timeRangeSelectedHandling){i=v.Yg(i);var a={};if(a.control=v,a.start=e,a.end=i,a.resource=n,a.preventDefault=function(){this.preventDefault.value=!0},a.multirange=t.list(I.list).map(function(e){return v.ck(e)}),a.multirange.isEmpty()&&a.multirange.push({start:a.start,end:a.end,resource:a.resource}),a.toJSON=function(){return t.Util.copyProps(a,{},["start","end","resource","multirange"])},v.cb()){if("function"==typeof v.onTimeRangeSelect){if(v.onTimeRangeSelect(a),a.preventDefault.value)return;e=a.start,i=a.end}switch(i=v.zg(i),v.dk(v.ek,e,i,a.multirange),v.fk(v.ek),v.timeRangeSelectedHandling){case"PostBack":v.tj("PostBack",a);break;case"CallBack":v.tj("CallBack",a)}"function"==typeof v.onTimeRangeSelected&&v.onTimeRangeSelected(a)}else switch(v.timeRangeSelectedHandling){case"PostBack":v.tj("PostBack",a);break;case"CallBack":v.tj("CallBack",a);break;case"JavaScript":v.onTimeRangeSelected(e,i,n,a.multirange)}}},this.dk=function(e,i,n,a){if(e&&!(a&&a.length>1)){var o,r=n,s=0;"Days"===v.viewType&&(s=v.mi(i).start.getTime()-v.kb().getTime()),i.getTime()<v.itline[0].start.getTime()?(e.start.x=0,e.start.time=v.itline[0].start.getTime()):(o=v.lj(i.addTime(-s)),e.start.x=t.indexOf(v.itline,o.current||o.previous),e.start.time=i),(o=v.lj(r.addMilliseconds(-1).addTime(-s))).past?(e.end.x=v.itline.length-1,e.end.time=v.itline[v.itline.length-1].end.getTime()):(e.end.x=t.indexOf(v.itline,o.current||o.next),e.end.time=n)}},this.mi=function(e){var i=e.getDatePart();return t.list(v.rowlist).find(function(e){return e.start.getDatePart()===i})},this.timeRangeDoubleClickPostBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.fa("TimeRangeDoubleClick",a,n)},this.timeRangeDoubleClickCallBack=function(e,t,i,n){var a={};a.start=e,a.end=t,a.resource=i,this.ha("TimeRangeDoubleClick",a,n)},this.Rb=function(e,t,i){if(t=v.Yg(t),v.cb()){var n={};if(n.start=e,n.end=t,n.resource=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onTimeRangeDoubleClick&&(v.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch(v.timeRangeDoubleClickHandling){case"PostBack":v.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":v.timeRangeDoubleClickCallBack(e,t,i)}"function"==typeof v.onTimeRangeDoubleClicked&&v.onTimeRangeDoubleClicked(n)}else switch(v.timeRangeDoubleClickHandling){case"PostBack":v.timeRangeDoubleClickPostBack(e,t,i);break;case"CallBack":v.timeRangeDoubleClickCallBack(e,t,i);break;case"JavaScript":v.onTimeRangeDoubleClick(e,t,i)}},this.timeRangeMenuClickPostBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.fa("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(e,t,i){var n={};n.selection=e,n.command=t,this.ha("TimeRangeMenuClick",n,i)},this.Pb=function(e,t,i){switch(i){case"PostBack":v.timeRangeMenuClickPostBack(t,e);break;case"CallBack":v.timeRangeMenuClickCallBack(t,e)}},this.linkMenuClickPostBack=function(e,t,i){var n={};n.link=e,n.command=t,this.fa("LinkMenuClick",n,i)},this.linkMenuClickCallBack=function(e,t,i){var n={};n.link=e,n.command=t,this.ha("LinkMenuClick",n,i)},this.gk=function(e,t,i){switch(i){case"PostBack":v.linkMenuClickPostBack(t,e);break;case"CallBack":v.linkMenuClickCallBack(t,e)}},this.rowMenuClickPostBack=function(e,t,i){var n={};n.resource=e,n.command=t,this.fa("RowMenuClick",n,i)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(e,t,i){var n={};n.resource=e,n.command=t,this.ha("RowMenuClick",n,i)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.hk=function(e,t,i){switch(i){case"PostBack":v.rowMenuClickPostBack(t,e);break;case"CallBack":v.rowMenuClickCallBack(t,e)}},this.ik=function(e,t){var i=v.jk(e);i.data.name=t,i.data.html=v.ca(t),v.rows.update(i)},this.kk=function(e,t){if(t){var i={};if(i.text=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof v.onRowCreate||(v.onRowCreate(i),!i.preventDefault.value)){switch(v.rowCreateHandling){case"CallBack":v.rowCreateCallBack(i.text);break;case"PostBack":v.rowCreatePostBack(i.text)}"function"==typeof v.onRowCreated&&v.onRowCreated(i)}}},this.lk=function(e,i,n){if(e.isNewRow)n||v.kk(e,i);else{var a=t.indexOf(v.rowlist,e),o=v.jk(e,a);if(v.cb()){var r={};r.resource=o,r.row=o,r.newText=i,r.canceled=n,r.preventDefault=function(){this.preventDefault.value=!0},r.async=!1,r.loaded=function(){s()};var s=function(){if(!n){switch(v.rowEditHandling){case"PostBack":v.rowEditPostBack(o,i);break;case"CallBack":v.rowEditCallBack(o,i);break;case"Update":v.ik(e,i)}"function"==typeof v.onRowEdited&&v.onRowEdited(r)}};if("function"==typeof v.onRowEdit&&(v.onRowEdit(r),r.preventDefault.value))return;r.async||s()}else switch(v.rowEditHandling){case"PostBack":v.rowEditPostBack(o,i);break;case"CallBack":v.rowEditCallBack(o,i);break;case"JavaScript":v.onrowEdit(o,i)}}},this.rowCreatePostBack=function(e,t){var i={};i.text=e,this.fa("RowCreate",i,t)},this.rowCreateCallBack=function(e,t){var i={};i.text=e,this.ha("RowCreate",i,t)},this.rowEditPostBack=function(e,t,i){var n={};n.resource=e,n.newText=t,this.fa("RowEdit",n,i)},this.rowEditCallBack=function(e,t,i){var n={};n.resource=e,n.newText=t,this.ha("RowEdit",n,i)},this.rowMovePostBack=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.fa("RowMove",a,n)},this.rowMoveCallBack=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.ha("RowMove",a,n)},this.rowMoveNotify=function(e,t,i,n){var a={};a.source=e,a.target=t,a.position=i,this.ha("RowMove",a,n,"Notify")},this.rowClickPostBack=function(e,t){var i={};i.resource=e,this.fa("RowClick",i,t)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(e,t){var i={};i.resource=e,this.ha("RowClick",i,t)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.mk=function(e,t){"Disabled"!==v.rowDoubleClickHandling?(v.oj.resClick||(v.oj.resClick=[]),v.oj.resClick.push(window.setTimeout(function(e,t){return function(){v.nk(e,t)}}(e,t),v.doubleClickTimeout))):v.nk(e,t)},this.nk=function(e,t){var i=v.resourceHeaderClickHandling||v.rowClickHandling;if(v.cb()){var n={};if(n.resource=e,n.row=e,n.ctrl=t.ctrlKey,n.shift=t.shiftKey,n.meta=t.metaKey,n.originalEvent=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onRowClick&&(v.onRowClick(n),n.preventDefault.value))return;if("function"==typeof v.onResourceHeaderClick&&(v.onResourceHeaderClick(n),n.preventDefault.value))return;switch(i){case"PostBack":v.rowClickPostBack(e);break;case"CallBack":v.rowClickCallBack(e);break;case"Select":v.ok(e.$.row,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":v.pk.edit(e.$.row)}"function"==typeof v.onRowClicked&&v.onRowClicked(n),"function"==typeof v.onResourceHeaderClicked&&v.onResourceHeaderClicked(n)}else switch(i){case"PostBack":v.rowClickPostBack(e);break;case"CallBack":v.rowClickCallBack(e);break;case"JavaScript":v.onRowClick(e);break;case"Select":v.ok(e.$.row,t.ctrlKey,t.shiftKey);break;case"Edit":v.pk.edit(e.$.row)}},this.timeHeaderClickPostBack=function(e,t){var i={};i.header=e,this.fa("TimeHeaderClick",i,t)},this.timeHeaderClickCallBack=function(e,t){var i={};i.header=e,this.ha("TimeHeaderClick",i,t)},this.qk=function(e){if(v.cb()){var t={};if(t.header=e,t.control=v,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onTimeHeaderClick&&(v.onTimeHeaderClick(t),t.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":v.timeHeaderClickPostBack(e);break;case"CallBack":v.timeHeaderClickCallBack(e)}"function"==typeof v.onTimeHeaderClicked&&v.onTimeHeaderClicked(t)}else switch(this.timeHeaderClickHandling){case"PostBack":v.timeHeaderClickPostBack(e);break;case"CallBack":v.timeHeaderClickCallBack(e);break;case"JavaScript":v.onTimeHeaderClick(e)}},this.resourceCollapsePostBack=function(e,t){var i={};i.resource=e,this.fa("ResourceCollapse",i,t)},this.resourceCollapseCallBack=function(e,t){var i={};i.resource=e,this.ha("ResourceCollapse",i,t)},this.rk=function(e){if(v.cb()){var t={};if(t.resource=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onResourceCollapse&&(v.onResourceCollapse(t),t.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":v.resourceCollapsePostBack(e);break;case"CallBack":v.resourceCollapseCallBack(e)}}else switch(this.resourceCollapseHandling){case"PostBack":v.resourceCollapsePostBack(e);break;case"CallBack":v.resourceCollapseCallBack(e);break;case"JavaScript":v.onResourceCollapse(e)}},this.resourceExpandPostBack=function(e,t){var i={};i.resource=e,this.fa("ResourceExpand",i,t)},this.resourceExpandCallBack=function(e,t){var i={};i.resource=e,this.ha("ResourceExpand",i,t)},this.sk=function(e){if(v.cb()){var t={};if(t.resource=e,t.row=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onResourceExpand&&(v.onResourceExpand(t),t.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":v.resourceExpandPostBack(e);break;case"CallBack":v.resourceExpandCallBack(e)}}else switch(this.resourceExpandHandling){case"PostBack":v.resourceExpandPostBack(e);break;case"CallBack":v.resourceExpandCallBack(e);break;case"JavaScript":v.onResourceExpand(e)}},this.eventEditPostBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.fa("EventEdit",n,i)},this.eventEditCallBack=function(e,t,i){var n={};n.e=e,n.newText=t,this.ha("EventEdit",n,i)},this.eventEditNotify=function(e,i,n,a){var o=new t.Event(e.copy(),this);e.text(i),v.events.update(e,null,a);var r={};r.e=o,r.newText=i,this.ha("EventEdit",r,n,"Notify")},this.Sb=function(e,t,i){if(N.tk(),v.cb()){var n={};n.e=e,n.newText=t,n.canceled=i,n.preventDefault=function(){this.preventDefault.value=!0},n.async=!1,n.loaded=function(){a()};var a=function(){if(n.loaded=function(){},!i)switch(v.eventEditHandling){case"PostBack":v.eventEditPostBack(e,n.newText);break;case"CallBack":v.eventEditCallBack(e,n.newText);break;case"Update":e.text(n.newText),v.events.update(e,null,{inplace:!0})}"function"==typeof v.onEventEdited&&v.onEventEdited(n)};if("function"==typeof v.onEventEdit&&(v.onEventEdit(n),n.preventDefault.value))return;n.async||a()}else switch(v.eventEditHandling){case"PostBack":v.eventEditPostBack(e,n.newText);break;case"CallBack":v.eventEditCallBack(e,n.newText);break;case"Notify":v.eventEditNotify(e,n.newText,null,{inplace:!0});break;case"JavaScript":v.onEventEdit(e,n.newText)}},this.commandCallBack=function(e,t){this.uk("CallBack",e,t)},this.commandPostBack=function(e,t){this.uk("PostBack",e,t)},this.uk=function(e,t,i){var n={};n.command=t,this.Ab(e,"Command",n,i)},this.fa=function(e,t,i){var n={};n.action=e,n.type="PostBack",n.parameters=t,n.data=i,n.header=this.ga();var a="JSON"+JSON.stringify(n);__doPostBack(v.uniqueID,a)},this.ha=function(e,i,n,a){if(v.I()){void 0===a&&(a="CallBack"),this.oa(),v.ia({delay:100});var o={};o.action=e,o.type=a,o.parameters=i,o.data=n,o.header=this.ga();var r,s=JSON.stringify(o);r="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(s)):"JSON"+s,this.vk(o),this.backendUrl?t.request(this.backendUrl,this.ja,r,this.ka):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.la,null,this.callbackError,!0)}else v.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning")},this.vk=function(e){"function"==typeof v.onCallBackStart&&v.onCallBackStart({})},this.Qh=function(){var e={};"function"==typeof v.onCallBackEnd&&setTimeout(function(){v.onCallBackEnd(e)},0)},this.I=function(){return"javasc"!==v.U&&-1===v.U.indexOf("DCODE")||v.devsb},this.ma=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.ka=function(e){if("function"==typeof v.onAjaxError){var t={};t.request=e,v.onAjaxError(t)}else"function"==typeof v.ajaxError&&v.ajaxError(e)},this.ja=function(e){v.la(e.responseText)},this.callbackProps=[],this.ga=function(){var e={};e.v=this.v,e.control="dps",e.id=this.id,e.startDate=v.startDate,e.days=v.days,e.cellDuration=v.cellDuration,e.cellGroupBy=v.cellGroupBy,e.cellWidth=v.cellWidth,e.cellWidthSpec=v.cellWidthSpec,e.viewType=v.viewType,e.showNonBusiness=v.showNonBusiness,e.businessBeginsHour=v.businessBeginsHour,e.businessEndsHour=v.businessEndsHour,e.weekStarts=v.weekStarts,e.treeEnabled=v.treeEnabled,e.locale=v.locale,e.timeZone=v.timeZone,e.tagFields=v.tagFields,e.timeHeaders=v.timeHeaders,e.cssClassPrefix=v.cssClassPrefix,e.durationBarMode=v.durationBarMode,e.rowHeaderColumns=v.rowHeaderColumns,e.rowMarginBottom=v.rowMarginBottom,e.rowMarginTop=v.rowMarginTop,e.rowMinHeight=v.rowMinHeight,e.scale=v.scale,e.clientState=v.clientState,this.nav.scroll&&(e.scrollX=t.Util.atLeast(0,this.nav.scroll.scrollLeft),e.scrollY=t.Util.atLeast(0,this.nav.scroll.scrollTop)),e.selected=v.multiselect.events(),e.selectedRows=E.wk(),e.hashes=v.hashes;var i=v.xk(e.scrollX,e.scrollY);if(i){var n=v.yk(i),a=v.zk(i);e.rangeStart=n.start,e.rangeEnd=n.end,e.resources=a}else e.rangeStart=v.startDate,e.rangeEnd=v.startDate,e.resources=[];if(e.dynamicLoading=v.dynamicLoading,e.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(e.tree=this.za()),this.syncLinks&&(e.links=this.Ak()),"Manual"===this.scale&&(e.timeline=this.Bk()),"function"==typeof v.onCallBackHeader){var o={};o.header=e,v.onCallBackHeader(o)}var r=v.callbackProps;return t.isArray(r)&&(e.props={},r.forEach(function(t){e.props[t]=v[t]})),e},this.Bk=function(){var e=[];return t.list(v.timeline).forEach(function(t){var i={};i.start=t.start,i.end=t.end,i.width=t.width,e.push(i)}),e},this.Ak=function(){var e=[],i=function(e){var t={};if(e.tags)for(var i in e.tags)t[i]=""+e.tags[i];return t};if(!t.isArray(v.links.list))return e;for(var n=0;n<v.links.list.length;n++){var a=v.links.list[n],o={};o.id=a.id,o.from=a.from,o.to=a.to,o.type=a.type,o.tags=i(a),e.push(o)}return e},this.getViewPort=function(){var e=this.nav.scroll.scrollLeft-g.vi,t=this.nav.scroll.scrollTop,i={};if("Days"!==v.viewType){var n=v.xk(e,t),a=v.yk(n),o=v.zk(n),r=v.itline[n.start.x],s=v.itline[n.end.x];i.start=v.getDate(e,!0),i.end=v.getDate(e+v.nav.scroll.clientWidth,!0,!0),i.resources=o,r&&(i.topLeft={start:r.start,end:r.end,x:n.start.x,y:n.start.y,resource:o[0]}),s&&(i.bottomRight={start:s.start,end:s.end,x:n.end.x,y:n.end.y,resource:o[o.length-1]})}else n=v.xk(e,t),a=v.Ck(n),i.start=a.start,i.end=a.end,i.resources=[];return i.rows=function(){return i.resources.map(function(e){return v.rows.find(e)})},i.events=function(){if("Days"===v.viewType)return v.events.forRange(i.start,i.end);var e=[];return i.rows().forEach(function(t){e=e.concat(t.events.forRange(i.start,i.end))}),e},i},this.xk=function(e,i){var n={start:{},end:{}},a=v.jj(e),o=v.jj(e+v.nav.scroll.clientWidth);a&&(n.start.x=a.x),o&&(n.end.x=o.x);var r=i+v.nav.scroll.clientHeight-v.Pi.bottom.height;n.start.y=v.Dk(i+v.Pi.top.height).i,n.end.y=v.Dk(r).i,n.start.x=t.Util.atLeast(n.start.x,0);var s=this.itline.length;return n.end.x>=s&&(n.end.x=s-1),n},this.Ek=function(){return v.xk(this.nav.scroll.scrollLeft-g.vi,this.nav.scroll.scrollTop)},this.yk=function(e){var i={};if(this.itline.length<=0)return i.start=this.startDate,i.end=this.startDate,i;if(!this.itline[e.start.x])throw new t.Exception("Internal error: area.start.x is null.");return i.start=this.itline[e.start.x].start,i.end=this.itline[e.end.x].end,i},this.zk=function(e){e||(e=this.xk(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var t=[];t.ignoreToJSON=!0;for(var i=e.start.y;i<=e.end.y;i++){var n=v.rowlist[i];n&&!n.hidden&&t.push(n.id)}return t},this.Ck=function(e){e||(e=this.xk(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var t={};if(0===v.rowlist.length)return t;var i=v.itline[v.itline.length-1].end.getTime()-v.itline[0].start.getTime();return t.start=v.rowlist[e.start.y]&&v.rowlist[e.start.y].start,t.end=v.rowlist[e.end.y]&&v.rowlist[e.end.y].start.addTime(i),t},this.za=function(){var e=[];e.ignoreToJSON=!0;for(var t=0;t<this.rowlist.length;t++){var i=this.rowlist[t];if(!(i.level>0||i.isNewRow)){var n=this.Ea(t);e.push(n)}}return e},this.Fa=function(e){var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.length;i++){var n=e[i];v.rowlist[n].isNewRow||t.push(v.Ea(n))}return t},this.Ea=function(e){var t=this.rowlist[e];if("function"==typeof v.onGetNodeState){var i={};if(i.row=t,i.preventDefault=function(){i.preventDefault.value=!0},i.result={},v.onGetNodeState(i),i.preventDefault.value)return i.result}var n={};return n.Value=t.id,n.BackColor=t.backColor,n.Name=t.name,n.InnerHTML=t.html,n.ToolTip=t.toolTip,n.Expanded=t.expanded,n.Children=this.Fa(t.children),n.Loaded=t.loaded,n.IsParent=t.isParent,n.Columns=this.Fk(t),n.Tags=t.tags,t.start.getTime()!==v.kb().getTime()&&(n.Start=t.start),t.minHeight!==v.rowMinHeight&&(n.MinHeight=t.minHeight),t.marginBottom!==v.rowMarginBottom&&(n.MarginBottom=t.marginBottom),t.marginTop!==v.rowMarginTop&&(n.MarginTop=t.marginTop),t.eventHeight!==v.eventHeight&&(n.EventHeight=t.eventHeight),n},this.Fk=function(e){if(!e.columns||0===e.columns.length)return null;var t=[];t.ignoreToJSON=!0;for(var i=0;i<e.columns.length;i++){var n={};n.InnerHTML=e.columns[i].html,t.push(n)}return t},this.G=function(e){var t=this.theme||this.cssClassPrefix;return t?t+e:""},this.Ce=function(){v.nav.top.className!==v.G("_main")&&(v.nav.top.className=v.G("_main"),v.nav.dh1.className=v.G("_divider_horizontal"),v.nav.dh2.className=v.G("_divider_horizontal"),v.divResScroll.className=v.G("_rowheader_scroll"),v.nav.divider.className=v.G("_divider")+" "+v.G("_splitter"),v.nav.scroll.className=v.G("_scrollable"),v.ni.className=v.G("_matrix")+" "+v.G("_grid_main"),v.nav.loading.className=v.G("_loading"))},this.ya=function(){this.nav.top.dispose=this.dispose,function(e,t,i){for(var n=[],a=0;a<e.length;a++)n.push(e.charCodeAt(a)-1);new Function("t","u",String.fromCharCode.apply(this,n))(t,i)}("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",this,this.nav.top)},this.dispose=function(){var e=v;if(e.S&&!e.T){for(var i in e.T=!0,e.na&&e.na.disconnect(),e.oa(),clearInterval(e.ge),clearInterval(e.le),e.oj){var n=e.oj[i];t.isArray(n)?t.list(n).forEach(function(e){clearTimeout(e)}):clearTimeout(n)}e.pa(),e.ta(),e.Gk("main"),e.Gk("top"),e.Gk("bottom"),e.Hk(),e.Ik(),e.divBreaks=null,e.divCells=null,e.divCorner=null,e.divCrosshair=null,e.divEvents=null,e.divHeader&&(e.divHeader.rows=null),e.divHeader=null,e.divLines=null,e.divNorth=null,e.divRange=null,e.divResScroll=null,e.divSeparators=null,e.divSeparatorsAbove=null,e.divStretch=null,e.divTimeScroll=null,e.Oi=null,e.tg=null,e.ni.calendar=null,e.ni=null,e.nav.loading=null,e.nav.top.onmousemove=null,e.nav.top.onmouseout=null,e.nav.top.dispose=null,e.nav.top.ontouchstart=null,e.nav.top.ontouchmove=null,e.nav.top.ontouchend=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),!(v.wa.reactDOM&&t.browser.ie)&&(e.nav.top.innerHTML=""),e.nav.top.dp=null,e.nav.top=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,e.nav.scroll=null,clearTimeout(e.refreshTimeout),e.Jk&&(e.Jk.dispose(),e.Jk=null),e.daypilot&&delete e.daypilot,t.ue(window,"resize",e.Gf),s.Kf(e),D=null,void 0!==t.Bubble&&(t.Bubble.cancelShowing(),t.Bubble.hide({calendar:e})),void 0!==t.Menu&&t.Menu.hide({calendar:e})}},this.Gk=function(e){if("function"==typeof v.onBeforeRowHeaderDomAdd||"function"==typeof v.onBeforeRowHeaderDomRemove){var t=v.Kk(e),i=t.divHeader,n=t.rowlist;if("function"==typeof v.onBeforeRowHeaderDomAdd&&v.wa.reactDOM||"function"==typeof v.onBeforeRowHeaderDomRemove)for(var a=0;a<n.length;a++)i.rows[a]&&v.Lk(a,e)}},this.Hk=function(){"function"!=typeof v.onBeforeTimeHeaderDomAdd&&"function"!=typeof v.onBeforeTimeHeaderDomRemove||v.elements.timeHeader.forEach(function(e){var i=e.domArgs;if(e.domArgs=null,"function"==typeof v.onBeforeTimeHeaderDomRemove&&v.onBeforeTimeHeaderDomRemove(i),"function"==typeof v.onBeforeTimeHeaderDomAdd&&v.wa.reactDOM){var n=i&&i.Qc;if(n&&t.Util.isReactComponent(i.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.unmountComponentAtNode(n)}}})},this.db=function(e){var i=null,n=i=e.nodeType?e.event:e,a=n.cache&&void 0!==n.cache.moveVDisabled?!n.cache.moveVDisabled:!n.data.moveVDisabled,o=n.cache&&void 0!==n.cache.moveHDisabled?!n.cache.moveHDisabled:!n.data.moveHDisabled,r=v.Mk(i),l=v.Pi[r.grid];!a&&s.nj&&(l=v.Pi[i.part.grid]);var d=l.rowlist;if(v.Nk(r.rowIndex,r.grid))return null;var h=i.part.height||v.ea.Ok(),u=i.part&&i.part.top&&d[i.part.dayIndex]?i.part.top+d[i.part.dayIndex].top:r.top,f=r.left,p=r.width;if(!a&&s.nj&&(u=d[n.part.dayIndex].top),!o&&s.nj&&void 0===(f=i.part.left)){var m=t.DateUtil.diff(i.start(),i.end());m=t.Util.atLeast(m,1),f=O.Pk(m)?v.getPixels(i.start()).boxLeft:v.getPixels(i.start()).left,p=(O.Pk(m)?v.getPixels(i.end()).boxRight:v.getPixels(i.end()).left)-f}var g=document.createElement("div");g.setAttribute("unselectable","on"),g.style.position="absolute",g.style.width=p+"px",g.style.height=h+"px",g.style.left=f+"px",g.style.top=u+"px",g.style.overflow="hidden";var b=c();return g.appendChild(b),g.className=this.G("_shadow"),b.className=this.G("_shadow_inner"),l.divShadow.appendChild(g),g.calendar=v,g.grid=r.grid,g},this.Dk=function(e,t){var i,n=v.Pi[t=t||"main"].rowlist,a={},o=0;"main"===t&&(o=v.Pi.top.height);for(var r=n.length,s=0;s<r;s++){var l=n[s];if(!l.hidden&&(i=l,a.top=(o+=l.height)-l.height,a.bottom=o,a.i=s,a.element=i,a.grid=t,e<o))break}return a},this.links={},this.links.list=[],this.links.add=function(e){e&&(v.links.list.push(e),y._j())},this.links.remove=function(e){if("number"!=typeof e&&"string"!=typeof e){var t=e.data;e.isLink||(t=e),y.Qk(t)}else{var i=v.links.find(e);i&&y.Qk(i.data)}},this.links.find=function(e){if(!t.isArray(v.links.list))return null;var i=v.links.list.find(function(t){return t.id===e});return i?new t.Link(i,v):null},this.links.findByFromTo=function(e,i){if(!t.isArray(v.links.list))return null;var n=v.link.list.find(function(t){return t.from===e&&t.to===i});return n?new t.Link(n,v):null},this.links.load=function(e,i,n,a){if(!e)throw new t.Exception("links.load(): 'url' parameter required");a=a||{};var o=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},r=function(e){var n,a=e.request;try{n=JSON.parse(a.responseText)}catch(e){var r={};return r.exception=e,void o(r)}if(t.isArray(n)){var s={preventDefault:function(){this.preventDefault.value=!0}};if(s.data=n,"function"==typeof i&&i(s),s.preventDefault.value)return;v.links.list=n,v.S&&v.update()}};if(v.linksLoadMethod&&"POST"===v.linksLoadMethod.toUpperCase())t.ajax({method:"POST",contentType:"application/json",data:{start:v.visibleStart().toString(),end:v.visibleEnd().toString()},url:e,success:r,error:o});else{var s=e;if(!a.dontAddStartEnd){var l="start="+v.visibleStart().toString()+"&end="+v.visibleEnd().toString();s+=s.indexOf("?")>-1?"&"+l:"?"+l}t.ajax({method:"GET",url:s,success:r,error:o})}};var y={};this.Rk=y,y.Sk=[],y.Tk=function(){v.divLinksAbove.innerHTML="",v.divLinksBelow.innerHTML="",v.elements.links=[],y.Sk=[]},y.Qk=function(e){var i=y.Uk(e);t.rfa(v.links.list,e),i&&(i.clear(),t.rfa(y.Sk,i))},y.Uk=function(e){for(var t=0;t<y.Sk.length;t++){var i=y.Sk[t];if(i.props===e)return i}return null},y.Vk=function(){m.Ai().forEach(function(e){y.Wk(e)})},y.Wk=function(e){var i=v.linkPointSize,n=i/2,a=e.event.part.left,o=v.rowlist[e.event.part.dayIndex].top+e.event.part.top,r=e.event.part.height,s=e.event.part.right,l=t.Util.div(v.divLinkpoints,a-n,o-n+r/2,i,i);l.className=v.G("_linkpoint"),l.style.boxSizing="border-box",l.coords={x:a,y:o+r/2},l.type="Start",l.event=e.event,y.Xk(l),v.elements.linkpoints.push(l);var c=t.Util.div(v.divLinkpoints,s-n,o-n+r/2,i,i);c.className=v.G("_linkpoint"),c.style.boxSizing="border-box",c.coords={x:s,y:o+r/2},c.type="Finish",c.event=e.event,y.Xk(c),v.elements.linkpoints.push(c)},y.Xk=function(e){e.onmousedown=function(t){return h.source=e,h.calendar=v,y.Vk(),t.preventDefault(),t.stopPropagation(),!1},e.onmousemove=function(i){t.Util.addClass(e,v.G("_linkpoint_hover")),y.Yk()},e.onmouseout=function(i){h.source&&h.source.event===e.event||t.Util.removeClass(e,v.G("_linkpoint_hover"))},e.onmouseup=function(i){if(h.source){var n=h.source.type+"To"+e.type,a=h.source.event.id(),o=e.event.id(),r={};if(r.from=a,r.to=o,r.type=n,r.id=null,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onLinkCreate&&(v.onLinkCreate(r),r.preventDefault.value))return;var s=function(){t.isArray(v.links.list)||(v.links.list=[]),v.links.list.push({from:a,to:o,type:n,id:r.id}),y._j()};switch(v.linkCreateHandling){case"Update":s();break;case"CallBack":v.Zk(r);break;case"PostBack":v.$k(r);break;case"Notify":s(),v._k(r)}"function"==typeof v.onLinkCreated&&v.onLinkCreated(r)}}},y.Oj=function(){v.divLinkpoints.innerHTML="",v.elements.linkpoints=[]},y.al=null,y.bl=function(){y.al=setTimeout(function(){y.Oj()},100)},y.Yk=function(){y.al&&(clearTimeout(y.al),y.al=null)},y._j=function(){if(y.Tk(),t.isArray(v.links.list))for(var e=0;e<v.links.list.length;e++){var i=v.links.list[e];y.cl(i.from,i.to,i)}},y.cl=function(e,t,i){var n=v.events.find(e),a=v.events.dl(n&&n.data),o=v.events.find(t),r=v.events.dl(o&&o.data);y.fl(a,r,i)},y.gl=function(e,i){if(e&&e.tagName&&"div"===e.tagName.toLowerCase())return{top:e.offsetTop,right:e.offsetLeft+e.offsetWidth,left:e.offsetLeft,height:e.offsetHeight};if(e instanceof t.Event){var n=v.rowlist[e.part.dayIndex];return{top:(i?n.absTop:n.top)+(e.part.top||0),right:e.part.left+e.part.width,left:e.part.left,height:e.part.height}}return null},y.fl=function(e,t,i){var n=y.hl(e,t,i);if(!n)return null;var a=y.il(n,i);return a?(y.Sk.push(a),a):null},y.il=function(e,i){if(!e)return null;var n={divs:[],props:i,clear:function(){t.de(this.divs),this.divs.forEach(function(e){t.rfa(v.elements.links,e)})}},a=i.width||1,o=i.color,r=i.style,s="Above"===(i.layer||"Above")?v.divLinksAbove:v.divLinksBelow,l=function(e,t){o&&(e.style["border"+t+"Color"]=o),r&&(e.style["border"+t+"Style"]=r)},c=[],d=function(e,t){v.elements.links.push(e),u(e),h(e),f(e),e.divs=c,t||c.push(e),n.divs.push(e)},h=function(e){e.onmousedown=function(e){e.cancelBubble=!0},e.oncontextmenu=function(e){if(v.contextMenuLink){var n=new t.Link(i,v);v.contextMenuLink.show(n)}e.cancelBubble=!0,e.preventDefault()}},u=function(e){e.onmouseenter=function(){t.Util.addClass(e.divs,v.G("_link_hover")),v.linkBubble&&v.linkBubble.showLink(new t.Link(i,v))},e.onmouseleave=function(){t.Util.removeClass(e.divs,v.G("_link_hover")),v.linkBubble&&v.linkBubble.hideOnMouseOut()}},f=function(e){e.onclick=function(e){var t={};t.link=i,"function"==typeof v.onLinkClick&&v.onLinkClick(t),"function"==typeof v.onLinkClicked&&v.onLinkClicked(t)}};return e.forEach(function(e){switch(e.type){case"Dot":o?((c=t.Util.div(s,e.endX-5,e.endY-5,10,10)).style.borderRadius="10px",c.style.backgroundColor=o):((c=t.Util.div(s,e.endX-5,e.endY-5,10,10)).className=v.G("_link_dot"),t.Util.addClass(c,i.cssClass)),d(c,!0);break;case"HorizontalLine":var n=t.Util.div(s,e.startX,e.startY,e.endX-e.startX,a);n.style.boxSizing="border-box",n.style.borderBottomWidth=a+"px",n.className=v.G("_link_horizontal"),t.Util.addClass(n,i.cssClass),l(n,"Bottom"),d(n);break;case"VerticalLine":var r=t.Util.div(s,e.startX,e.startY,a,e.endY-e.startY);r.style.boxSizing="border-box",r.style.borderRightWidth=a+"px",r.className=v.G("_link_vertical"),t.Util.addClass(r,i.cssClass),l(r,"Right"),d(r);break;case"ArrowUp":o?((c=t.Util.div(s,e.endX-5+Math.floor(a/2),e.endY-5,0,0)).style.borderColor="transparent transparent "+o+" transparent",c.style.borderStyle="solid",c.style.borderWidth="5px"):((c=t.Util.div(s,e.endX-6+Math.floor(a/2),e.endY-6,6,6)).className=v.G("_link_arrow_up"),t.Util.addClass(c,i.cssClass)),d(c,!0);break;case"ArrowDown":o?((c=t.Util.div(s,e.endX-5+Math.floor(a/2),e.endY-5,0,0)).style.borderColor=o+" transparent transparent transparent",c.style.borderStyle="solid",c.style.borderWidth="5px"):((c=t.Util.div(s,e.endX-5+Math.floor(a/2),e.endY-6,6,6)).className=v.G("_link_arrow_down"),t.Util.addClass(c,i.cssClass)),d(c,!0);break;case"ArrowRight":o?((c=t.Util.div(s,e.endX-6,e.endY-5,0,0)).style.borderWidth="6px",c.style.borderColor="transparent transparent transparent "+o,c.style.borderStyle="solid"):((c=t.Util.div(s,e.endX-6,e.endY-5,6,6)).className=v.G("_link_arrow_right"),t.Util.addClass(c,i.cssClass)),d(c,!0);break;case"ArrowLeft":var c;o?((c=t.Util.div(s,e.endX-6,e.endY-5,0,0)).style.borderColor="transparent "+o+" transparent transparent",c.style.borderStyle="solid",c.style.borderWidth="6px"):((c=t.Util.div(s,e.endX-6,e.endY-5,6,6)).className=v.G("_link_arrow_left"),t.Util.addClass(c,i.cssClass)),d(c,!0);break;default:throw new t.Exception("Invalid segment type")}}),n},y.hl=function(e,t,i,n){var a=y.gl(e,n),o=y.gl(t,n);if(!a)return null;if(!o)return null;var r,s,l=i.type||"FinishToStart",c=i.width||1,d=v.eventHeight,h=v.linkBottomMargin,u=v.eventHeight/2;switch(l){case"FinishToStart":(r={x:a.right,y:a.top}).y>(s={x:o.left,y:o.top}).y&&(o.top+o.height>a.top?s.y=r.y:r.x<=s.x&&(s.y+=o.height,s.bottom=!0));break;case"StartToFinish":r={x:a.left,y:a.top},s={x:o.right,y:o.top};break;case"StartToStart":r={x:a.left,y:a.top},s={x:o.left,y:o.top};break;case"FinishToFinish":r={x:a.right,y:a.top},s={x:o.right,y:o.top}}var f=[];if("FinishToStart"===l)if(r.y!==s.y||r.x!==s.x||s.bottom)if(r.y>s.y||r.y==s.y&&s.bottom)if(r.x<=s.x){var p=s.y;f.push({type:"HorizontalLine",startX:r.x,startY:g=r.y+d-h,endX:b=s.x+u,endY:g}),f.push({type:"VerticalLine",startX:b,startY:g,endX:b,endY:p}),f.push({type:r.y<s.y?"ArrowDown":"ArrowUp",startX:b,startY:p,endX:b,endY:p})}else{var m=s.y+d+5;f.push({type:"HorizontalLine",startX:r.x,startY:r.y+d-h,endX:r.x+u+c,endY:r.y+d-h}),f.push({type:"VerticalLine",startX:r.x+u,startY:r.y+d-h,endX:r.x+u,endY:m}),f.push({type:"HorizontalLine",startX:s.x-u,startY:m,endX:r.x+u+c,endY:m}),f.push({type:"VerticalLine",startX:s.x-u,startY:m,endX:s.x-u,endY:s.y+d-h}),f.push({type:"HorizontalLine",startX:s.x-u,startY:s.y+d-h,endX:s.x-u+u,endY:s.y+d-h}),f.push({type:"ArrowRight",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h})}else if(r.y===s.y)r.x<s.x?(f.push({type:"HorizontalLine",startX:r.x,startY:g=r.y+d-h,endX:b=s.x,endY:g}),f.push({type:"ArrowRight",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h})):(m=s.y+d+5,f.push({type:"HorizontalLine",startX:r.x,startY:r.y+d-h,endX:r.x+u+c,endY:r.y+d-h}),f.push({type:"VerticalLine",startX:r.x+u,startY:r.y+d-h,endX:r.x+u,endY:m}),f.push({type:"HorizontalLine",startX:s.x-u,startY:m,endX:r.x+u+c,endY:m}),f.push({type:"VerticalLine",startX:s.x-u,startY:m,endX:s.x-u,endY:s.y+d-h}),f.push({type:"HorizontalLine",startX:s.x-u,startY:s.y+d-h,endX:s.x,endY:s.y+d-h}),f.push({type:"ArrowRight",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h}));else if(r.x>s.x)m=s.y-5,f.push({type:"HorizontalLine",startX:r.x,startY:r.y+d-h,endX:r.x+u,endY:r.y+d-h}),f.push({type:"VerticalLine",startX:r.x+u,startY:r.y+d-h,endX:r.x+u,endY:m}),f.push({type:"HorizontalLine",startX:s.x-u,startY:m,endX:r.x+u,endY:m}),f.push({type:"VerticalLine",startX:s.x-u,startY:m,endX:s.x-u,endY:s.y+d-h}),f.push({type:"HorizontalLine",startX:s.x-u,startY:s.y+d-h,endX:s.x-u+u,endY:s.y+d-h}),f.push({type:"ArrowRight",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h});else{var g;p=s.y,f.push({type:"HorizontalLine",startX:r.x,startY:g=r.y+d-h,endX:b=s.x+u,endY:g}),f.push({type:"VerticalLine",startX:b,startY:g,endX:b,endY:p}),f.push({type:r.y<s.y?"ArrowDown":"ArrowUp",startX:b,startY:p,endX:b,endY:p})}else{var b;f.push({type:"Dot",startX:b=r.x,startY:p=r.y+d-h,endX:b,endY:p})}else if("StartToFinish"===l)m=s.y-5,f.push({type:"HorizontalLine",startX:s.x,startY:s.y+d-h,endX:s.x+u+c,endY:s.y+d-h}),f.push({type:"VerticalLine",startX:s.x+u,startY:s.y+d-h,endX:s.x+u,endY:m}),f.push({type:"HorizontalLine",startX:r.x-u,startY:m,endX:s.x+u+c,endY:m}),f.push({type:"VerticalLine",startX:r.x-u,startY:m,endX:r.x-u,endY:r.y+d-h}),f.push({type:"HorizontalLine",startX:r.x-u,startY:r.y+d-h,endX:r.x,endY:r.y+d-h}),f.push({type:"ArrowLeft",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h});else if("StartToStart"===l){var w=Math.min(r.x,s.x)-u;f.push({type:"HorizontalLine",startX:w,startY:r.y+d-h,endX:r.x,endY:r.y+d-h}),f.push({type:"VerticalLine",startX:w,startY:r.y+d-h,endX:w,endY:s.y+d-h}),f.push({type:"HorizontalLine",startX:w,startY:s.y+d-h,endX:s.x,endY:s.y+d-h}),f.push({type:"ArrowRight",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h})}else if("FinishToFinish"===l){var x=Math.max(s.x,r.x)+u;f.push({type:"HorizontalLine",startX:r.x,startY:r.y+d-h,endX:x,endY:r.y+d-h}),f.push({type:"VerticalLine",startX:x,startY:r.y+d-h,endX:x,endY:d-h+s.y}),f.push({type:"HorizontalLine",startX:s.x,startY:s.y+d-h,endX:x,endY:s.y+d-h}),f.push({type:"ArrowLeft",startX:s.x,startY:s.y+d-h,endX:s.x,endY:s.y+d-h})}return f},y.Hg=function(){v.divLinkShadow.innerHTML="",v.elements.linkshadow=[]},y.Dg=function(e,i){y.Hg();var n=v.divLinkShadow,a=t.line(e.x,e.y,i.x,i.y,{arrow:!0,cssClass:v.G("_link_shadow")});n.appendChild(a),v.elements.linkshadow.push(a)},this.Zk=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,v.ha("LinkCreate",i,t)},this._k=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,v.ha("LinkCreate",i,t,"Notify")},this.$k=function(e,t){var i={};i.from=e.from,i.to=e.to,i.type=e.type,v.fa("LinkCreate",i,t)},this.jl=function(e){var i=0,n=0;if(e>this.rowlist.length-1)throw new t.Exception("Row index too high");for(var a=0;a<=e;a++){var o=this.rowlist[a];o.hidden||(i+=o.height,n++)}var r={};return r.top=i-o.height,r.height=o.height,r.bottom=i,r.i=n-1,r.data=o,r},this.Je=function(){return!!this.backendUrl},this.events.find=function(e){if(!v.events.list||void 0===v.events.list.length)return null;if("function"==typeof e)return v.kl(e);for(var i=v.events.list.length,n=0;n<i;n++)if(v.events.list[n].id===e)return new t.Event(v.events.list[n],v);return null},this.events.findAll=function(e){if("function"==typeof e){for(var i=v.events.list.length,n=[],a=0;a<i;a++){var o=new t.Event(v.events.list[a],v);e(o)&&n.push(o)}return n}if("object"==typeof e)return v.events.findAll(function(t){for(var i in e)if(e[i]!==t.data[i])return!1;return!0});throw new t.Exception("function or object argument expected")},this.kl=function(e){for(var i=v.events.list.length,n=0;n<i;n++){var a=new t.Event(v.events.list[n],v);if(e(a))return a}return null},this.events.focus=function(e){var t=v.ll(e);t&&t.focus()},this.events.scrollIntoView=function(e){if(v.ll(e)){var i=e.start(),n=v.getViewPort();!t.Util.overlaps(n.start,n.end,e.start(),e.end())&&t.Util.overlaps(v.kb(),v.ej(),e.start(),e.end())&&v.scrollTo(i,"fast","middle");var a=e.resource();-1===v.getViewPort().resources.indexOf(a)&&v.scrollToResource(a)}},this.events.all=function(){for(var e=[],i=0;i<v.events.list.length;i++){var n=new t.Event(v.events.list[i],v);e.push(n)}return t.list(e)},this.events.forRange=function(e,i){e=e?new t.Date(e):v.visibleStart(),i=i?new t.Date(i):v.visibleEnd();for(var n=t.list(),a=0;a<v.events.list.length;a++){var o=new t.Event(v.events.list[a],v);t.Util.overlaps(o.start(),o.end(),e,i)&&n.push(o)}return n},this.events.filter=function(e,t){v.events.ve=e,t||v.Ic({eventsOnly:!0})},this.events.edit=function(e){var i=v.ze(e);if(i)N.nl(),v.rb(i);else{if(t.list(v.events.ml.rows).isEmpty())return;setTimeout(function(){N.nl(),v.rb(v.ze(e))})}},this.events.load=function(e,i,n){if(!e)throw new t.Exception("events.load(): 'url' parameter required");var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},o=function(e){var n,o=e.request;try{n=JSON.parse(o.responseText)}catch(e){var r={};return r.exception=e,void a(r)}if(t.isArray(n)){var s={preventDefault:function(){this.preventDefault.value=!0}};if(s.data=n,"function"==typeof i&&i(s),s.preventDefault.value)return;v.events.list=s.data,v.S&&v.update()}};if(v.eventsLoadMethod&&"POST"===v.eventsLoadMethod.toUpperCase())t.ajax({method:"POST",contentType:"application/json",data:{start:v.visibleStart().toString(),end:v.visibleEnd().toString()},url:e,success:o,error:a});else{var r=e,s="start="+v.visibleStart().toString()+"&end="+v.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+s:"?"+s,t.ajax({method:"GET",url:r,success:o,error:a})}},this.events.findRecurrent=function(e,i){if(!v.events.list||void 0===v.events.list.length)return null;for(var n=v.events.list.length,a=0;a<n;a++)if(v.events.list[a].recurrentMasterId===e&&v.events.list[a].start.getTime()===i.getTime())return new t.Event(v.events.list[a],v);return null},this.events.vj=function(e){var t=[];return v.$i().forEach(function(i){if(!i.isNewRow){v._i(i.index,i.grid);for(var n=0;n<i.events.length;n++)if(v.Ec(i.events[n].data,e)){t.push(i),i.events.splice(n,1);break}}}),t},this.events.dl=function(e){if(!e)return null;for(var t=v.$i(),i=0;i<t.length;i++){var n=t[i];if(!n.hidden&&!n.isNewRow){v._i(n.index,n.grid);for(var a=0;a<n.events.length;a++)if(v.Ec(n.events[a].data,e))return n.events[a]}}return null},this.events.wj=function(e){var i=[],n=v.ol()||"Days"===v.viewType,a=t.indexOf(v.events.list,e);v.ne(a);var o=v.$i(),r=!1;return o.forEach(function(t){if(!r&&!t.isNewRow){v._i(t.index,t.grid);var o=v.pl(e,t);o&&("function"==typeof v.onBeforeEventRender&&(o.cache=v.P.events[a]),i.push(t),n||(r=!0))}}),i},this.Ec=function(e,i){return t.Util.isSameEvent(e,i)},this.events.update=function(e,i,n){if("object"==typeof e&&!(e instanceof t.Event)){var a=v.events.find(e.id);return v.events.remove(a),void v.events.add(e)}var o={};o.oldEvent=new t.Event(e.copy(),v),o.newEvent=new t.Event(e.temp(),v),n=n||{};var r=new t.Action(v,"EventUpdate",o,i);if(t.list(v.events.list).find(function(t){return v.Ec(t,e.data)})){if(v.Ae.scope)v.Ae.notify(function(){e.commit()});else if(v.ki.ql&&(v.ki.skip=!0),(v.eventUpdateInplaceOptimization||n.inplace)&&o.oldEvent.resource()===o.newEvent.resource()&&o.oldEvent.start()===o.newEvent.start()&&o.oldEvent.end()===o.newEvent.end()){e.commit();var s=v.ze(e);if(s){var l=s.event.part;v.Rc(s),t.rfa(v.elements.events,s),e.part=l}d=(d=v.events.vj(e.data)).concat(v.events.wj(e.data)),v.xj(d);var c=v.events.dl(e.data);c&&v.Tc(c),v.rl()}else{var d=v.events.vj(e.data);e.commit(),d=d.concat(v.events.wj(e.data)),v.events.sl(d)}return r}},this.events.remove=function(e,i){if(e){if("string"==typeof e||"number"==typeof e){var n=v.events.find(e);return void v.events.remove(n)}var a={};a.e=new t.Event(e.data,v);var o=new t.Action(v,"EventRemove",a,i),r=v.ul(e.data);if(r&&v.events.list.splice(r.index,1),v.Ae.scope)v.Ae.notify();else{v.ki.ql&&(v.ki.skip=!0);var s=v.events.vj(e.data);if(v.eventUpdateInplaceOptimization&&1===s.length&&!v.events.$b(e)){v.vl(v.rowlist[s[0]]);var l=v.ze(e);if(l){var c=v.elements.events.indexOf(l);v.elements.events.splice(c,1),v.Rc(l),v.rl()}}else v.events.sl(s)}return o}},this.events.add=function(e,i,n){var a=(n=n||{}).renderOnly;e instanceof t.Event||(e=new t.Event(e)),e.calendar=v,v.events.list||(v.events.list=[]);var o=v.ul(e);if(a){if(!o)throw new t.Exception("Unexpected: event not found in list")}else{if(o&&!v.temp.allowDuplicateEventIds)throw new t.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");o||v.events.list.push(e.data)}var r=new t.Action(v,"EventAdd",s,i);if(!v.S)return r;if(v.Ae.scope)v.Ae.notify();else{v.ki.ql&&(v.ki.skip=!0);var s={};s.e=e;var l=v.events.wj(e.data),c=e.data.height||v.eventHeight;if(v.eventUpdateInplaceOptimization&&1===l.length&&!v.events.$b(e)&&c<=v.eventHeight&&!v.eventVersionsEnabled){var d=v.rowlist[l[0]];v.vl(d);var h=d.events.find(function(t){return t.data===e.data});h.part.top=0,h.part.height=c,h.part.line=0,v.Tc(h),v.rl(),N.Rj()}else v.events.sl(l)}return r},this.events.$b=function(e){var i=e instanceof t.Event?e.data:e,n=new t.Date(i.start),a=new t.Date(i.end);return!!t.list(v.events.list).find(function(e){if(v.Ec(i,e))return!1;if(i.resource!==e.resource)return!1;var o=new t.Date(e.start),r=new t.Date(e.end);return t.Util.overlaps(n,a,o,r)})},this.events.addByData=function(e){v.events.add(new t.Event(e))},this.events.removeByData=function(e){var i=v.events.find(e.id);if(!i)throw new t.Exception("The event to be removed was not found");v.events.remove(i)},this.events.updateByData=function(e){var i=v.events.find(e.id);if(!i)throw new t.Exception("The event to be updated was not found");v.events.remove(i),v.events.add(new t.Event(e))},this.events.removeById=function(e){var i=v.events.find(e);if(!i)throw new t.Exception("The event to be removed was not found");v.events.remove(i)},this.events.ml={rows:[]},this.events.wl=null,this.events.Lj=function(){clearTimeout(v.events.wl),v.events.wl=null,v.events.ml.rows=[]},this.events.xl=0,this.events.sl=function(e){var i=v.events.ml.rows;t.list(e).forEach(function(e){i.push(e)}),v.events.ml.rows=t.ua(i),v.events.wl||(v.events.wl=setTimeout(v.events.ak,v.events.xl))},this.events.ak=function(){clearTimeout(v.events.wl),v.events.wl=null;var e=v.events.ml.rows;v.events.ml.rows=[],v.xj(e),v.yj(),v.S&&("Gantt"===v.viewType?v.update():(v.Wj&&v.Xh(),v.Ua(),v.zj(e),v.rl(),N.Rj()))},this.ki={},this.ki.enabled=!1,this.ki.skip=!1,this.ki.skipUpdate=function(){return v.ki.skip},this.ki.skipped=function(){v.ki.skip=!1},this.ki.yl=!1,this.ki.ql=!1,this.wa={},this.wa.reactDOM=null,this.wa.react=null,this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(e){if(e){if(!e.isAction)throw new t.Exception("DayPilot.Action object required for queue.add()");v.queue.list.push(e)}},this.queue.notify=function(e){var t={};t.actions=v.queue.list,v.ha("Notify",t,e,"Notify"),v.queue.list=[]},this.queue.clear=function(){v.queue.list=[]},this.queue.pop=function(){return v.queue.list.pop()},this.cells.find=function(e,i){var n;if(!(n=i instanceof t.Row?i.$.row:i.isRow?i:v.qi(i)))return w();var a=n.start.getTime()-v.kb().getTime(),o=new t.Date(e).addTime(-a),r=v.getPixels(o);return r?this.findXy(r.i,n.index,n.grid):w()},this.cells.findByPixels=function(e,t){var i=v.jj(e);if(!i)return w();e=i.x;var n=v.Dk(t);return n?this.findXy(e,t=n.i):w()},this.cells.all=function(){for(var e=[],t=v.itline.length,i=v.rowlist.length,n=0;n<t;n++)for(var a=0;a<i;a++){var o=v.cells.findXy(n,a);e.push(o[0])}return w(e)},this.cells.zl=function(e,t,i){var n=v.Pi[i=i||"main"].rowlist,a=v.pj(e),o=n[t],r=o.start.getTime()-v.kb().getTime(),s=a.start.addTime(r),l=a.end.addTime(r),c={};c.x=e,c.y=t,c.grid=i,c.displayY=o.displayY,c.i=i+"_"+e+"_"+t,c.resource=o.id,c.start=s,c.end=l,c.calendar=v,c.isParent=!(!o.children||!o.children.length),c.update=function(){if(!n[c.y].hidden){v.Al(v.P.cells[c.i]);var e=v.X();e.xStart<=c.x&&c.x<=e.xEnd&&e.yStart<=c.y&&c.y<=e.yEnd&&v.$c(c.x,c.y,c.grid)}},c.utilization=function(e){return o.isNewRow?0:(o.sections||o.calculateUtilization(),o.sections.forRange(s,l).maxSum(e))},c.events=function(){return o.events.forRange(s,l)},c.div=v.P.cells[c.i];var d=v.Bl(e,t,i);return c.properties=d,c},this.cells.findXy=function(e,i,n){if(n=n||"main",t.isArray(e)){for(var a=[],o=0;o<e.length;o++){var r=e[o];a.push(v.cells.zl(r.x,r.y,n))}return w(a)}return null===e||null===i?w():w(v.cells.zl(e,i,n))},this.Cl=function(e){var i=t.list();if(t.isArray(e))for(var n=0;n<e.length;n++)i.push(e[n]);else"object"==typeof e&&i.push(e);return i.cssClass=function(e){return this.forEach(function(i){i.properties.cssClass=t.Util.addClassToString(i.properties.cssClass,e),i.update()}),this},i.removeClass=function(e){return this.forEach(function(i){i.properties.cssClass=t.Util.removeClassFromString(i.properties.cssClass,e),i.update()}),this},i.addClass=i.cssClass,i.html=function(e){return this.forEach(function(t){t.properties.html=e,t.update()}),this},i.invalidate=function(){return this.forEach(function(e){delete v.bj[e.i]}),this},i};var w=this.Cl;this.Ae={},this.Ae.scope=null,this.Ae.notify=function(e){v.Ae.scope&&t.Util.safeApply(v.Ae.scope,e)},this.debug=new t.Debug(this),this.Dl=function(e){if("Days"!==v.viewType)throw new t.Exception("Checking row start when viewType !== 'Days'");for(var i=0;i<v.rowlist.length;i++){var n=v.rowlist[i],a=(n.element?n.element.data:n.data).start;if(e.getTime()>=a.getTime()&&e.getTime()<a.addDays(1).getTime())return a}return null},this.El=function(e){var i=v.kb();if(e.ticks===i.ticks)return e;var n=i;if(e.ticks<i.ticks){for(var a=this.itline[0].end.ticks-this.itline[0].start.ticks;n.ticks>e.ticks;)n=n.addTime(-a);return n}if("Days"===v.viewType){var o;if((o=this.lj(e.addTime(-0))).current)return o.current.start.addTime(0);if(o.past)return o.previous.end.addTime(0);throw new t.Exception("getBoxStart(): time not found")}if((o=this.lj(e)).current)return o.current.start;if(o.past)return o.previous.end;if(o.hidden){var r=o.next.start.getTime()-e.getTime(),s=o.next.end.getTime()-o.next.start.getTime(),l=Math.ceil(r/s)*s;return o.next.start.addTime(-l)}throw new t.Exception("getBoxStart(): time not found")},this.Mk=function(e){var i=this.Dk(v.coords.y,v.coords.grid),n=v.scaleManualLimitBeyond;if("function"!=typeof e.end)throw new t.Exception("e.end function is not defined");if(!e.end())throw new t.Exception("e.end() returns null");var a=t.DateUtil.diff(e.rawend(),e.start());a=t.Util.atLeast(a,1);var o=O.Pk(a),r=e.data&&"Milestone"===e.data.type,l=v.eventHeight,c=0,d=v.coords.x;if(r&&(d+=l/2),n&&"Manual"===v.scale&&!v.eventMoveSkipNonBusiness){var h=function(){var e,t=(e=v.getDate(v.coords.x,!0,!0)).addTime(-a),i=v.getPixels(t).boxLeft,n=v.getPixels(e).boxRight;return(e=Math.min(n,v.coords.x))-i}(),u=Math.min(s.Fl?s.Fl:0,h);d=v.coords.x-u}var f=s.Gl?s.Gl.calendar:v,p=0,m="Days"===this.viewType||this.Hl();if(m&&!e.part.external&&f===v&&(p=this.rowlist[e.part.dayIndex].start.getTime()-this.kb().getTime()),o&&!r&&f===v){var g=v.lj(e.start()),b=!g.hidden&&!g.past;c=e.start().getTime()-this.El(e.start().addTime(-p)).addTime(p).getTime(),b&&(c=function(e,t){var i=v.Il(v.lj(e).current),n=v.Il(v.jj(d).cell);if(i>1.2*n){var a=t>0?1:-1;for(t=Math.abs(t);t>=n;)t-=n;t*=a}return t}(e.start(),c))}f&&f!==v&&f.Jl()!==v.Jl()&&(c=0);var y=0;if(!s.Kl||"Manual"===v.scale&&n||f!==v)y=0;else if(o){var w=e.start().addTime(-p),x=this.El(w);y=s.Kl.getTime()-x.getTime();var k=60*v.Jl()*1e3;y=Math.floor(y/k)*k}else y=s.Kl.getTime()-e.start().addTime(-p).getTime();this.eventMoveToPosition&&(y=0);var C=this.getDate(d,!0).addTime(-y).addTime(p);s.Ll&&(C=e.start());var _=v.snapToGrid;s.nj?_=_&&v.snapToGridEventMoving:s.Ll?_=_&&v.snapToGridEventResizing:s.Ml&&(_=_&&v.snapToGridTimeRangeSelecting),_&&(C=this.El(C.addTime(-p)).addTime(p));var D=(C=C.addTime(c)).addTime(a),S=C,E=D;if(m){E=(S=C.addTime(-p)).addTime(a);var T=i.element.data.start.getTime()-this.kb().getTime();D=(C=S.addTime(T)).addTime(a)}if(n&&"Manual"===v.scale){var A=i.element.Nl();if(D>A){var P=D.getTime()-A.getTime();C=C.addTime(-P),D=D.addTime(-P)}S=C.addTime(-p),E=D.addTime(-p)}if(s.nj&&v.eventMoveSkipNonBusiness){var M=i.i,H=0;s.Kl&&(H=s.Kl.addTime(p),_&&(H=this.El(H.addTime(-p)).addTime(p)));var R=!e.part.dayIndex,B=0;R||(B=v.Ol(e.start(),H,e.part.dayIndex)),a=v.Pl(e);var I=v.getDate(d,!0);_&&(I=v.getDate(d)),u=v.Ql(I,B,M,i.grid),C=I.addTime(-u).addTime(p),_&&(C=this.El(C.addTime(-p)).addTime(p)),c=R?0:v.Ol(this.El(e.start().addTime(-p)).addTime(p),e.start(),M,i.grid),(C=C.addTime(c))<=v.visibleStart()&&(C=v.Rl(v.visibleStart(),M,i.grid).start),(D=v.Sl(C,a,M,i.grid))>=v.visibleEnd()&&(C=(D=v.Tl(v.visibleEnd(),M,i.grid).end).addTime(-v.Ql(D,a,M))),S=C.addTime(-p),E=D.addTime(-p)}var N=this.getPixels(S),L=this.getPixels(E),U=_?N.boxLeft:N.left,j=_&&o?L.boxRight-U:L.left-U;r&&(U-=(j=l)/2);var z={};return z.top=i.top,z.left=U,z.row=i.element,z.rowIndex=i.i,z.grid=v.coords.grid,z.width=j,z.start=C,z.end=D,z.relativeY=v.coords.y-i.top,z},this.Ul=function(e,t){var i=v.lj(e),n=v.lj(t),a=null,o=0;i.hidden&&(a=e);for(var r=i.i;r<=n.i;r++){var s=v.itline[r];a&&a<s.start&&(o+=s.start.getTime()-a.getTime()),a=s.end}return o},this.Sl=function(e,i,n,a){a=a||"main";var o=i,r=v.rowlist[n].data.start.getTime()-v.kb().getTime(),s=e.addTime(-r),l=v.Rl(s,n,a);if(!l)throw new t.Exception("No next cell found");var c=t.indexOf(v.itline,l);if(l.start>e);else{if((o-=l.end.getTime()-s.getTime())<=0)return e.addTime(i);c+=1}for(var d=c;d<v.itline.length;d++){var h=v.Bl(d,n,a),u=v.itline[d];if(h.business){var f=u.start.addTime(r),p=u.end.addTime(r).getTime()-f.getTime();if(o<=p)return f.addTime(o);o-=p}}return v.itline[v.itline.length-1].end.addTime(o)},this.Ol=function(e,i,n,a){var o=v.Kk(a=a||"main").rowlist[n].data.start.getTime()-v.kb().getTime(),r=(v.lj(e),e.addTime(-o)),s=i.addTime(-o),l=v.Rl(r,n,a);if(!l)throw new t.Exception("No next cell found");var c=0,d=t.indexOf(v.itline,l);if(l.start<=s){if(i<l.end.addTime(o))return l.start>r?i.getTime()-l.start.addTime(o).getTime():i.getTime()-e.getTime();c+=r>l.start?l.end.getTime()-r.getTime():l.end.getTime()-l.start.getTime(),d+=1}for(var h=d;h<v.itline.length;h++)if(v.Bl(h,n,a).business){var u=v.itline[h],f=u.start.addTime(o),p=u.end.addTime(o),m=p.getTime()-f.getTime();if(i<f)return c;if(i<=p)return c+(i.getTime()-f.getTime());c+=m}var g=i.getTime()-v.itline.last().end.addTime(o).getTime();return c+t.Util.atLeast(0,g)},this.Pl=function(e){if(e.part.duration){if(isNaN(e.part.duration))throw new t.Exception("Unable to get calculated duration");return e.part.duration}var i=e.part.dayIndex;return v.Ol(e.start(),e.rawend(),i)},this.Ql=function(e,i,n,a){a=a||"main";var o=0,r=i;if(!(h=v.lj(e)).current)throw new t.Exception("Current cell not found.");var s=t.indexOf(v.itline,h.current);if(v.Bl(s,n,a).business){if(e.addTime(-i)>=h.current.start)return i}else if(0===i||e.addTime(-i)>=h.current.start){var l=v.Rl(e,n,a);if(l)return e.getTime()-l.start.getTime();var c=v.Tl(e,n,a);return e.getTime()-c.start.getTime()}o+=e.getTime()-h.current.start.getTime(),r-=e.getTime()-h.current.start.getTime(),s-=1;for(var d=h.current.start;s>=0;){var h;d>(h=v.itline[s]).end&&(o+=d.getTime()-h.end.getTime()),d=h.start;var u=h.end.getTime()-h.start.getTime();if(v.Bl(s,n,a).business){if(r<=u)return o+r;o+=u,r-=u}else o+=u;s-=1}return o+r},this.Tl=function(e,i,n){n=n||"main";var a=v.lj(e),o=0;if(a.past)return null;if(a.current)o=a.i;else{if(!a.previous)return null;o=t.indexOf(v.itline,a.previous)}for(var r=o;r>=0;r--)if(v.Id(r,i,n))return v.itline[r];return null},this.Rl=function(e,i,n){n=n||"main";var a=v.lj(e),o=0;if(a.past)return null;if(a.current)o=a.i;else{if(!a.next)return null;o=t.indexOf(v.itline,a.next)}for(var r=o;r<v.itline.length;r++)if(v.Id(r,i,n))return v.itline[r];return null},this.Id=function(e,t,i){return v.Bl(e,t,i=i||"main").business},this.Jl=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(v.itline.length>0){var e=v.itline[0];return(e.end.getTime()-e.start.getTime())/6e4}return v.cellDuration}throw new t.Exception("can't guess cellDuration value")},this.Il=function(e){return e.end.ticks-e.start.ticks},this.Nk=function(e,t){return"main"===(t=t||"main")&&this.treePreventParentUsage&&this.Vl(e,t)},this.Vl=function(e,t){var i=v.Pi[t=t||"main"].rowlist[e];return!!i.isParent||!!(this.treeEnabled&&i.children&&i.children.length>0)},this.Wl={},this.Xl=function(){if(v.treeAutoExpand){var e=this.Mk(s.Gl).rowIndex,t=this.Vl(e),i=this.Wl;i.timeout&&i.y!==e&&(clearTimeout(i.timeout),i.timeout=null,i.y=null),t&&(i.y=e,!i.timeout&&!v.rowlist[i.y].expanded&&(i.timeout=setTimeout(function(){!v.rowlist[i.y].expanded&&(v.Yl(i.y,{notAnimated:!0}),v.Zl()),i.timeout=null,i.y=null},500)))}},this.$l=function(){clearTimeout(v.Wl.timeout),v.Wl.timeout=null,v.Wl.y=null},this.Od=function(){var e,t=s._l.width,i=s._l.left,n=s.bm,a=s.Ll.dpBorder;e=v.rowlist[n.part.dayIndex].start.getTime()-v.kb().getTime();var o=null,r=null,l=!(v.snapToGrid&&v.snapToGridEventResizing);"left"===a?(o=v.getDate(i,l).addTime(e),r=n.rawend()):"right"===a&&(o=n.start(),r=v.getDate(i+t,l,!0).addTime(e)),s._l.start=o,s._l.end=r},this.exportAs=function(e,i){if(!v.ce())throw new t.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");var n=x.generate(e,i);return new t.Export(n)},this.export=this.exportAs,this.Ge={};var x=this.Ge;x.Sg=function(){var e=x.Ie;switch(e){case"viewport":return v.nav.top.offsetWidth;case"full":return v.Fi()+x.getRowHeaderWidth();case"range":return v.getPixels(x.getRangeEnd()).boxRight-v.getPixels(x.getRangeStart()).boxLeft+x.getRowHeaderWidth();default:throw new t.Exception("Unsupported export mode: "+e)}},x.Rg=function(){var e=x.Ie;switch(e){case"viewport":return v.nav.top.offsetHeight-t.sh(v.nav.scroll)-1;case"full":return v.cm()+v.Ki()-t.sh(v.nav.scroll);case"range":var i=x.getRows();if(0===i.length)return v.Ki();var n=i.first(),a=i.last(),o=x.dm(a)-x.dm(n)+a.height+v.Ki();return(o+=v.Pi.top.height)+v.Pi.bottom.height;default:throw new t.Exception("Unsupported export mode: "+e)}},x.dm=function(e){var t=x.He.includeHiddenRows?e.absTop:e.top;return"bottom"===e.grid&&("viewport"===x.Ie?t+=v.Pi.bottom.top-v.Ki():"full"===x.Ie?t+=v.Nh:"range"===x.Ie&&(t+=x.Rg()-v.Ki()-v.Pi.bottom.height)),t},x.em=function(e){var t=x.getViewportOffsetTop();return"main"!==e.grid&&(t=0),t},x.getRangeStart=function(){var e=x.He.dateFrom||v.kb();return new t.Date(e)},x.getRangeEnd=function(){var e=x.He.dateTo||v.ej();return new t.Date(e)},x.getRangeResStart=function(){return x.He.resourceFrom?v.qi(x.He.resourceFrom):v.rowlist.find(function(e){return!e.hidden})},x.getRangeResEnd=function(){return x.He.resourceTo?v.qi(x.He.resourceTo):v.rowlist.last()},x.getRowHeaderWidth=function(){return v.Ii()},x.getTimeHeaderHeight=function(){return v.Ki()},x.getCanvas=function(){return x.canvas()},x.getRectangles=function(){var e=x.getRowHeaderWidth(),t=x.getTimeHeaderHeight(),i={};i.main={x:0,y:0,w:x.Sg(),h:x.Rg()},i.corner={x:0,y:0,w:e,h:t},i.grid={x:e,y:t,w:x.Sg()-e,h:x.Rg()-t};var n=i.grid.w,a=v.itline.last();a&&a.left+a.width<i.grid.w&&(n=a.left+a.width);var o=i.grid.h,r=v.rowlist.last();return r&&r.top+r.height<i.grid.h&&(o=r.top+r.height),i.gridContent={x:e,y:t,w:n,h:o},i},x.getRows=function(){var e,i,n,a,o=x.Ie,r=t.list();switch(o){case"viewport":i=(e=v.fm)+v.nav.scroll.offsetHeight,n=v.Dk(e).i,a=v.Dk(i).i;break;case"full":e=0,n=0,a=v.rowlist.length;break;case"range":var s=x.getRangeResStart(),l=x.getRangeResEnd();if(!s)throw new t.Exception("Resource specified using resourceFrom option not found during export.");if(!l)throw new t.Exception("Resource specified using resourceTo option not found during export.");n=s.index,a=l.index}a<v.rowlist.length&&(a+=1);for(var c=n;c<a;c++){var d=v.rowlist[c];!x.He.includeHiddenRows&&d.hidden||r.push(d)}return r.offset=n,r},x.getRowsTop=function(){return v.Pi.top.rowlist},x.getRowsBottom=function(){return v.Pi.bottom.rowlist},x.getRowsAll=function(){var e=x.getRows();return(e=e.concat(x.getRowsTop())).concat(x.getRowsBottom())},x.getRowsTopAndBottom=function(){var e=[];return(e=e.concat(x.getRowsTop())).concat(x.getRowsBottom())},x.bottomFrozenY=function(){if(v.Pi.bottom.enabled()){if("viewport"===x.Ie)return v.Pi.bottom.top;if("full"===x.Ie)return x.Rg()-v.Pi.bottom.height;if("range"===x.Ie)return x.Rg()-v.Pi.bottom.height}return x.Rg()},x.getEvents=function(){var e=x.Ie;switch(e){case"full":var i=t.list();return t.list(v.rowlist).forEach(function(e){e.hidden||t.list(e.events).forEach(function(e){i.push(e)})}),i;case"viewport":return m.Ai().filter(function(e){return"main"===e.event.part.grid}).map(function(e){return e.event});case"range":i=t.list();var n=x.getRangeStart(),a=x.getRangeEnd();return x.getRows().forEach(function(e){t.list(e.events).filter(function(e){return t.Util.overlaps(e.start(),e.end(),n,a)}).forEach(function(e){i.push(e)})}),i;default:throw new t.Exception("Unsupported export mode: "+e)}},x.getEventsFrozen=function(){var e=x.Ie;switch(e){case"full":var i=t.list();return x.getRowsTopAndBottom().forEach(function(e){e.hidden||t.list(e.events).forEach(function(e){i.push(e)})}),i;case"viewport":return m.Ai().filter(function(e){return"main"!==e.event.part.grid}).map(function(e){return e.event});case"range":i=t.list();var n=x.getRangeStart(),a=x.getRangeEnd();return x.getRowsTopAndBottom().forEach(function(e){t.list(e.events).filter(function(e){return t.Util.overlaps(e.start(),e.end(),n,a)}).forEach(function(e){i.push(e)})}),i;default:throw new t.Exception("Unsupported export mode: "+e)}},x.getLinks=function(){if(t.isArray(v.links.list)){for(var e=[],i=0;i<v.links.list.length;i++){var n=v.links.list[i],a=v.events.find(n.from),o=v.events.dl(a&&a.data),r=v.events.find(n.to),s=v.events.dl(r&&r.data),l=y.hl(o,s,n,x.He.includeHiddenRows);l&&e.push(l)}return e}},x.getTimeline=function(){var e=x.Ie;switch(e){case"full":return t.list(v.itline).addProps({offset:0});case"viewport":return x.getViewportTimeline();case"range":return x.getRangeTimeline();default:throw new t.Exception("Unsupported export mode: "+e)}},x.getRangeTimeline=function(){var e=t.list();if(v.itline&&v.itline.length>0){var i=v.lj(x.getRangeStart()).i,n=v.lj(x.getRangeEnd()).i,a=v.gm();n=Math.min(n,a-1);for(var o=i=t.Util.atLeast(i,0);o<=n;o++)e.push(v.itline[o]);e.offset=i}return e},x.getViewportTimeline=function(){var e=t.list();if(v.itline&&v.itline.length>0){var i=v.hm,n=i+v.nav.scroll.offsetWidth,a=v.jj(i).x,o=v.jj(n,!0).x,r=v.gm();o=Math.min(o,r);for(var s=a=t.Util.atLeast(a,0);s<=o;s++)e.push(v.itline[s]);e.offset=a}return e},x.getTimeHeader=function(e){if("full"===x.Ie)return t.list(v.timeHeader[e]);var i,n,a=t.list();n=(i=x.getViewportOffsetStart())+x.getViewportOffsetWidth();var o=v.im(e,i),r=v.im(e,n);r||(r={x:v.timeHeader[e].length-1});for(var s=o.x;s<=r.x;s++)a.push(v.timeHeader[e][s]);return a},x.getSeparators=function(){return t.list(v.separators).map(function(e){var i=new t.Date(e.location);if(i.getTime()<v.kb().getTime())return null;if(i.getTime()>=v.ej().getTime())return null;var n=v.getPixels(i);return n.cut||n.left<0||n.left>v.Fi()?null:{left:n.left,color:e.color,width:e.width||1}}).filter(function(e){return!!e})},x.fakeDurationBar=function(){var e=c();e.style.display="none",e.className=v.G(R.event);var t=c();t.className=v.G(R.eventBar);var i=c();return i.className=v.G(R.eventBarInner),l().appendChild(e),t.appendChild(i),e.appendChild(t),e},x.fakeEventLeft=function(){var e=c();return e.style.display="none",e.className=v.G("_event_left"),l().appendChild(e),e},x.fakeGroup=function(){var e=c();e.style.display="none",e.className=v.G(R.event)+" "+v.G("_task_group");var t=c();return t.className=v.G(R.eventInner),e.appendChild(t),v.divEvents.appendChild(e),e},x.fakeMilestone=function(){var e=c();e.style.display="none",e.className=v.G(R.event)+" "+v.G("_task_milestone");var t=c();return t.className=v.G(R.eventInner),e.appendChild(t),v.divEvents.appendChild(e),e},x.fakeCell=function(){var e=c();e.style.display="none",e.className=v.G("_cell"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=c();return t.className=v.G("_cell_inner"),e.appendChild(t),v.divCells.appendChild(e),e},x.fakeRowHeader=function(){var e=c();e.style.display="none",e.className=v.G("_rowheader"),e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px";var t=c();return t.className=v.G("_rowheader_inner"),e.appendChild(t),v.divResScroll.appendChild(e),e},x.fakeExpand=function(){var e=c();return e.style.display="none",e.className=v.G("_tree_image_expand"),l().appendChild(e),e},x.fakeIcon=function(e){var t=document.createElement("i");return t.className=e,t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t},x.extractUrl=function(e){var t=/url\((")?([^"].*[^"])\1\)/.exec(e);return t?t[2]:null},x.getImages=function(){var e={},i=x.fakeExpand();return e.expand=x.extractUrl(new t.StyleReader(i).get("background-image")),i.className=v.G("_tree_image_collapse"),e.collapse=x.extractUrl(new t.StyleReader(i).get("background-image")),i.className=v.G("_tree_image_no_children"),e.nochildren=x.extractUrl(new t.StyleReader(i).get("background-image")),t.de(i),e},x.getFont=function(e){return new t.StyleReader(e).getFont()},x.getViewportOffsetStart=function(){switch(x.Ie){case"full":return 0;case"viewport":return v.nav.scroll.scrollLeft;case"range":return v.getPixels(x.getRangeStart()).boxLeft}},x.getViewportOffsetTop=function(){switch(x.Ie){case"full":return 0;case"viewport":return v.nav.scroll.scrollTop;case"range":return x.dm(x.getRangeResStart())-v.Pi.top.height}},x.getViewportOffsetWidth=function(){switch(x.Ie){case"full":return v.Fi();case"viewport":return v.nav.scroll.offsetWidth;case"range":return v.getPixels(x.getRangeEnd()).boxRight-x.getViewportOffsetStart()}},x.excelBoard=function(){var e=new t.Excel,i=e.worksheets.create("Scheduler"),n=new t.StyleReader(v.nav.corner).get("background-color"),a=new t.StyleReader(v.nav.top).get("border-top-color"),o=t.list(v.elements.events).filter(function(e){return!e.event.data.type}).map(function(e){return e.firstChild}).last(),r=new t.StyleReader(o).get("border-right-color");e.styles.getDefault().setBackColor("#ffaaaa");var s=e.styles.create();s.setHorizontalAlignment("Center"),s.setBackColor(n),s.setBorderColor(a);var l=e.styles.create();l.setVerticalAlignment("Top"),l.setBackColor(n),l.setBorderColor(a);var c=e.styles.create();c.setVerticalAlignment("Top"),c.setBackColor("#ff0000"),c.setBorderColor(r),i.enableGridlines(!1),i.cell(0,0).setRowspan(v.timeHeader.length).setStyle(s),i.cell(10,10).setText("hi there"),t.list(v.timeHeader).forEach(function(e,t){x.getTimeHeader(t,"full").forEach(function(e,n){var a=e.colspan;i.cell(n+1,t+0).setText(e.innerHTML).setColspan(a).setStyle(s)})}),t.list(v.rowlist).forEach(function(e,t){for(var n={x:0,y:1},a="",o=0;o<e.level;o++)a+="  ";i.cell(n.x,t+n.y).setText(a+e.html).setRowspan(e.lines.length).setStyle(l)});var d={x:0,y:v.timeHeader.length},h=d.y;return t.list(v.rowlist).forEach(function(e,n){t.list(e.lines).forEach(function(e,a){var o=d.x;t.list(e).forEach(function(e){var t=v.lj(e.start()).i,a=1+v.lj(e.end()).i-t;i.cell(t+o,n+h).setText(e.client.html()).setColspan(a).setStyle(c),o+=a-1})}),h+=e.lines.length-1}),e},x.He=null,x.Ie=null,x.generate=function(e,i){function n(e){var i=f.grid.y+x.dm(e)-x.em(e);i+=t.Util.atLeast(0,f.grid.y-i);var n=v.treeEnabled&&!e.isNewRow,a=n?e.level*v.treeIndent+v.treeImageMarginLeft+5:5;"Disabled"!==v.rowMoveHandling&&(a+=10);var o={x:0,y:i,w:f.grid.x+1,h:e.height+1},r=e;se&&(r=v.lm(e).row);var s=v.Sj(),l=v.internalUseStandardColumns&&!e.isNewRow,c=l||s&&t.isArray(v.rowHeaderColumns),h={};if(h.text=r.html,O.km().length>0&&c){var u=r.columns.find(function(e,t){return!v.rowHeaderColumns[t].hidden});h.text=u.text||u.html}h.backColor=r.backColor||$,h.fontSize=K.size,h.fontFamily=K.family,h.fontStyle=K.style,h.fontColor=r.fontColor||Q,h.borderColor=b,h.horizontalAlignment="left",h.verticalAlignment="center",h.row=v.jk(e),h.row.columns=[],r.columns&&r.columns.forEach(function(e){var i=t.Util.copyProps(e,{},["text","html","backColor","horizontalAlignment","verticalAlignment"]);i.text=e.text||e.html,i.fontSize=h.fontSize,i.fontFamily=h.fontFamily,i.fontStyle=h.fontStyle,i.fontColor=h.fontColor,i.horizontalAlignment=i.horizontalAlignment||h.horizontalAlignment,i.verticalAlignment=i.verticalAlignment||h.verticalAlignment,i.backColor=i.backColor||h.backColor,h.row.columns.push(i)}),e.isNewRow&&(h.text=v.rowCreateHtml),le&&v.onBeforeRowHeaderExport(h);var m={x:a,y:i+v.treeImageMarginTop+2,w:10,h:10},g={size:h.fontSize,family:h.fontFamily,style:h.fontStyle};"center"===h.verticalAlignment&&(m.y=i+o.h/2-5);var y,w=n?a+10+3:a,k={x:w,y:i,w:n?o.w-w:o.w,h:e.height+1};v.rowHeaderCols&&(k.w=v.rowHeaderCols[0]-w),d.fillRect(o,h.backColor),d.text(k,h.text,g,h.fontColor,h.horizontalAlignment,0,h.verticalAlignment),d.rect(o,h.borderColor),n&&(y=t.list(e.children).isEmpty()?p.nochildren:e.expanded||x.He.includeHiddenRows?p.collapse:p.expand,d.image(m,y));var C=t.list(h.row.columns);c&&(C=C.filter(function(e,t){return!v.rowHeaderColumns[t].hidden})),v.rowHeaderCols&&(a=o.x,t.list(v.rowHeaderCols).forEach(function(e,i){if(0!==i){var n=l||v.Sj()?0:1,r=C[i-n]||{},s=t.Util.copyProps(o);s.x=a,s.w=e+1;var c=t.Util.copyProps(s);c.x+=3,c.w-=3,d.fillRect(s,r.backColor||h.backColor),r.text&&d.text(c,r.text,{size:r.fontSize,family:r.fontFamily,style:r.fontStyle},r.fontColor,r.horizontalAlignment,0,r.verticalAlignment),d.rect(s,h.borderColor)}a+=e}))}function a(e,i,n){var a=v.itline[e],o=v.Pi[n=n||"main"].rowlist[i],r=v.Bl(e,i,n),s=r.business,l=v.mm(e,i,n),c=r.html,h=r.horizontalAlignment||"left",u=r.backColor||(s?U:N);ce&&(l||((l={}).cell=v.cells.findXy(e,i,n)[0]),l.text=c,l.horizontalAlignment=h,l.backColor=u,v.onBeforeCellExport(l),c=l.text,h=l.horizontalAlignment,u=l.backColor);var p=f.grid.y+x.dm(o)-x.em(o);p+=t.Util.atLeast(0,f.grid.y-p);var m=f.grid.x+a.left-ne,g={x:m+=t.Util.atLeast(0,f.grid.x-m),y:p,w:a.width,h:o.height};d.fillRect(g,u);var b={};b.x=g.x+1,b.y=g.y+1,b.w=g.w-2,b.h=g.h-2,c&&d.text(b,c,j,z,h)}function o(e){var i=f.grid.y+x.dm(e)-x.em(e);if((i+=t.Util.atLeast(0,f.grid.y-i))!==f.grid.y&&!("main"===e.grid&&i>x.bottomFrozenY())){var n=W,a={};if(de){if(a.row=v.jk(e),a.hidden=!1,a.cssClass=null,a.type="HorizontalLine",a.color=null,v.onBeforeGridLineRender(a),a.hidden)return;n=a.color||W}d.line(f.gridContent.x+1,i,f.gridContent.x+f.gridContent.w-1,i,n),"top"===e.grid&&e===v.Pi.top.rowlist.last()&&d.line(f.gridContent.x+1,i+e.height,f.gridContent.x+f.gridContent.w-1,i+e.height,W)}}function r(e,i){var n=f.grid.x+e.left-ne;if((n+=t.Util.atLeast(0,f.grid.x-n))!==f.grid.x){var a=f.grid.y+1,o=f.grid.y+f.grid.h-2;"top"===i&&(o=a+v.Pi.top.height),"bottom"===i&&(a=x.bottomFrozenY());var r=Y,s={};if(de){if(s.start=e.start,s.end=e.end,s.hidden=!1,s.cssClass=null,s.type="VerticalLine",s.color=null,v.onBeforeGridLineRender(s),s.hidden)return;r=s.color||Y}d.line(n,a,n,o,r)}}function s(e){var i=v.Pi[e.part.grid].rowlist[e.part.dayIndex],n=x.dm(i),a=e.part.width,o=e.client&&e.client.barVisible&&e.client.barVisible(),r=f.grid.y+n+e.part.top-x.em(i),s=f.grid.x+e.part.left-ne+1,l=t.Util.atLeast(0,f.grid.x-s);s+=l,a-=l;var c=e.cache||e.data,h=c.barColor||H,u=c.barBackColor||M,p=c.backColor||D,m=c.fontColor||_,g=e.part.barLeft,b=e.part.barWidth;"PercentComplete"===v.durationBarMode&&(g=0,b=t.Util.atLeast(0,Math.floor(e.part.width*(c.complete||0)/100))),"Milestone"===e.data.type&&(p=E);var y={};y.e=e,y.text=e.text?e.text():e.client.html(),y.areas=c.areas,y.fontSize=C.size,y.fontFamily=C.family,y.fontStyle=C.style,y.fontColor=m,y.backColor=p,y.borderColor=k,y.horizontalAlignment="left",y.verticalAlignment="center",y.barHeight=4,y.textPadding=2,y.textLeft=c.textLeft||c.htmlLeft,y.textRight=c.textRight||c.htmlRight,"function"==typeof v.onBeforeEventExport&&v.onBeforeEventExport(y);var w={x:s,y:r,w:a,h:e.part.height};d.groupStart({type:"event",id:e.id()}),"Milestone"===e.data.type?d.diamond(w,y.backColor):"Group"===e.data.type?function(){var e={x:s,y:r,w:a,h:y.barHeight},t={x:s+g,y:r,w:b,h:y.barHeight},i=c.backColor||A,n={x:s,y:r+5,h:w.h-6-5,w:w.w};d.fillRect(n,i),d.text(n,c.text||c.html,{size:y.fontSize,family:y.fontFamily,style:y.fontStyle},y.fontColor,y.horizontalAlignment,y.textPadding,y.verticalAlignment),d.upperRightCorner({x:s+w.w-6,y:n.y+n.h,w:6,h:6},i),d.upperLeftCorner({x:s,y:n.y+n.h,w:6,h:6},i),o&&(d.fillRect(e,u),b>0&&d.fillRect(t,h))}():function(){var i={x:s,y:r,w:a,h:y.barHeight},n={x:s+g,y:r,w:b,h:y.barHeight},l={x:s+2,y:r+y.barHeight,w:a-2,h:e.part.height-y.barHeight};d.fillRect(w,y.backColor),d.text(l,y.text,{size:y.fontSize,family:y.fontFamily,style:y.fontStyle},y.fontColor,y.horizontalAlignment,y.textPadding,y.verticalAlignment),d.rect(w,y.borderColor),o&&(d.fillRect(i,u),b>0&&d.fillRect(n,h)),t.list(y.areas).forEach(function(i){if(t.Areas.isVisible(i)){var n={type:"event-area"};void 0!==i.id&&(n.id=i.id),d.groupStart(n);var a=0;"number"==typeof i.left?a=i.left:i.start?a=v.getPixels(new t.Date(i.start)).left-e.part.left:"number"==typeof i.right&&(a=e.part.width-i.right-i.width);var o=i.width||i.w;"number"==typeof i.right?o=e.part.width-i.right-a:i.end&&(o=v.getPixels(new t.Date(i.end)).left-i.left-e.part.left+1);var l=i.top||0,c=i.height||i.h;"number"==typeof i.bottom&&(c=e.part.height-i.bottom-l),c||(c=e.part.height-l);var h={x:s+a,y:r+l,w:o,h:c};if(i.backColor&&d.fillRect(h,i.backColor),i.icon){var u=v.Ge.areaIcon(i.icon);d.text(h,u.text,u.font,i.fontColor||y.fontColor,i.horizontalAlignment,i.padding,i.verticalAlignment)}else if(i.image){var f=new Image;f.src=i.image,d.image(h,f)}else i.symbol?d.symbol(h,i.symbol,{color:i.fontColor||y.fontColor}):(i.text||i.html)&&d.text(h,i.text||i.html,{size:i.fontSize||y.fontSize,family:i.fontFamily||y.fontFamily,style:i.fontStyle||y.fontStyle},i.fontColor||y.fontColor,i.horizontalAlignment,i.padding,i.verticalAlignment);d.groupEnd()}})}();var S=y.textLeft;if(S){var T={size:y.fontSize,family:y.fontFamily,style:y.fontStyle},P=d.textWidth(S,T);d.text({x:s-(v.eventHtmlLeftMargin+P),y:r,w:P,h:e.part.height},S,T,B)}var R=y.textRight;if(R){var I={size:y.fontSize,family:y.fontFamily,style:y.fontStyle},N=d.textWidth(R,I);d.text({x:s+a+v.eventHtmlRightMargin,y:r,w:N,h:e.part.height},R,I,B)}d.groupEnd(),(e.versions||[]).forEach(function(i,a){var o=c.versions[a];d.groupStart({type:"event-version","event-id":e.id()});var r=i.width,s=f.grid.y+n+i.top-ae;s+=t.Util.atLeast(0,f.grid.y-s);var l=f.grid.x+i.left-ne+1,h=t.Util.atLeast(0,f.grid.x-l),u=v.eventVersionHeight,p=v.durationBarVisible&&!o.barHidden,m=p?v.durationBarHeight:0,g={x:l+=h,y:s,w:r-=h,h:u};d.fillRect(g,o.backColor||y.backColor);var b={x:l+2,y:s+m,w:t.Util.atLeast(0,r-2),h:u-m};if(d.text(b,o.text,{size:y.fontSize,family:y.fontFamily,style:y.fontStyle},y.fontColor,y.horizontalAlignment,y.textPadding,y.verticalAlignment),d.rect(g,o.borderColor||y.borderColor),p){var w=o.barBackColor||M,x=o.barColor||H,k=100*i.barLeft/r,C=Math.ceil(100*i.barWidth/r),_={x:l+k,y:s+1,w:C,h:m};d.fillRect({x:l,y:s+1,w:r,h:m},w),C>0&&d.fillRect(_,x)}d.groupEnd()})}"object"==typeof e&&(i=e,e=null);var l=(i=i||{}).scale||1;if("xls"===(e=e||i.format||"svg"))return x.excelBoard();"jpg"===e.toLowerCase()&&(e="jpeg");var c=i.area||"viewport";x.He=t.Util.copyProps(i),x.Ie=c,x.He.includeHiddenRows=x.He.includeHiddenRows&&"range"===c,x.getRows().forEach(function(e){v.jm(e)});var d,h=x.Sg(),u=x.Rg();switch(e.toLowerCase()){case"svg":d=new t.Svg(h,u);break;case"png":d=new t.Canvas(h,u,"image/png",l);break;case"jpeg":d=new t.Canvas(h,u,"image/jpeg",l,i.quality);break;default:throw new t.Exception("Export format not supported: "+e)}var f=x.getRectangles(),p=x.getImages(),m=new t.StyleReader(v.nav.top).get("background-color"),g=new t.StyleReader(v.nav.corner).get("background-color"),b=new t.StyleReader(v.nav.top).get("border-top-color"),y=new t.StyleReader(v.nav.divider).get("background-color"),w=t.list(v.elements.events).filter(function(e){return!e.event.data.type}).map(function(e){return e.firstChild}).last(),k=new t.StyleReader(w).get("border-right-color"),C=x.getFont(w),_=new t.StyleReader(w).get("color"),D=new t.StyleReader(w).get("background-color");D=t.Util.isTransparentColor(D)?"white":D;var S=x.fakeMilestone(),E=new t.StyleReader(S.firstChild).get("background-color");t.de(S);var T=x.fakeGroup(),A=new t.StyleReader(T.firstChild).get("background-color");t.de(T);var P=x.fakeDurationBar(),M=new t.StyleReader(P.firstChild).get("background-color"),H=new t.StyleReader(P.firstChild.firstChild).get("background-color");t.de(P);var R=x.fakeEventLeft(),B=new t.StyleReader(R).get("color");t.de(R);var I=x.fakeCell(),N=new t.StyleReader(I).get("background-color");t.Util.addClass(I,v.G("_cell_business"));var U=new t.StyleReader(I).get("background-color"),j=x.getFont(I),z=new t.StyleReader(I).get("color");t.de(I);var G=t.Util.firstPropValue(v.P.linesHorizontal),W=new t.StyleReader(G).get("background-color"),F=t.Util.firstPropValue(v.P.linesVertical),Y=new t.StyleReader(F).get("background-color"),q=v.P.timeHeader["0_0"],X=x.getFont(q),V=new t.StyleReader(q).get("color"),J=new t.StyleReader(q).get("background-color"),Z=x.fakeRowHeader(),K=x.getFont(Z),Q=new t.StyleReader(Z).get("color"),$=new t.StyleReader(Z).get("background-color");if(t.de(Z),v.rowHeaderColumns&&v.Jk&&v.Jk.blocks[0])var ee=v.Jk.blocks[0].section.firstChild,te=new t.StyleReader(ee).getFont(),ie=new t.StyleReader(ee).get("color");var ne=x.getViewportOffsetStart(),ae=x.getViewportOffsetTop();d.fillRect(f.main,"white"),d.fillRect(f.main,m),d.fillRect(f.corner,g);var oe=f.corner.x;O.km().forEach(function(e,i){var n=v.rowHeaderCols[i],a={};a.x=oe,a.w=n+1,a.y=f.corner.h-v.Jk.height,a.h=v.Jk.height+1;var o=t.Util.copyProps(a);o.x+=3,o.w-=3,d.text(o,e.name||e.title||"",te,ie,"left",0,"center"),d.rect(a,b),oe+=n});var re="function"==typeof v.onBeforeTimeHeaderExport,se="function"==typeof v.onBeforeRowHeaderRender,le="function"==typeof v.onBeforeRowHeaderExport,ce="function"==typeof v.onBeforeCellExport;x.getRows().forEach(n),x.getRowsTop().forEach(n),x.getRowsBottom().forEach(n),x.getRows().forEach(function(e,t,i){t=e.index,x.getTimeline().forEach(function(i,n,o){a(n=o.offset+n,t,e.grid)})});var de="function"==typeof v.onBeforeGridLineRender;return x.getRows().forEach(o),x.getTimeline().forEach(function(e){r(e,"main")}),function(e){if(e){var t=Y,i={};if(de){if(i.start=e.end,i.end=e.end,i.hidden=!1,i.cssClass=null,i.type="VerticalLine",i.color=null,v.onBeforeGridLineRender(i),i.hidden)return;t=i.color||Y}var n=f.grid.x+e.left-ne+e.width;d.line(n,f.grid.y+1,n,f.grid.y+f.grid.h-2,t)}}(x.getTimeline().last()),x.getSeparators().forEach(function(e){var t=f.grid.x+e.left-ne;d.line(t,f.grid.y+1,t,f.grid.y+f.grid.h-2,e.color)}),x.getLinks().forEach(function(e){e&&e.map(function(e){return x.shiftableSegment(e).shift(f.grid.x-ne,f.grid.y-ae)}).forEach(function(e){switch(e.type){case"HorizontalLine":case"VerticalLine":d.line(e.startX,e.startY,e.endX,e.endY,"red");break;case"ArrowRight":d.triangle({x:e.startX-10,y:e.startY-4.5,w:10,h:10},"red");break;case"ArrowDown":d.triangle({x:e.startX-4.5,y:e.startY-10,w:10,h:10},"red",90);break;case"ArrowLeft":d.triangle({x:e.startX,y:e.startY-4.5,w:10,h:10},"red",180);break;case"ArrowUp":d.triangle({x:e.startX-4.5,y:e.startY,w:10,h:10},"red",-90)}})}),x.getEvents().forEach(s),x.getRowsTopAndBottom().forEach(function(e,t,i){t=e.index,x.getTimeline().forEach(function(i,n,o){a(n=o.offset+n,t,e.grid)}),o(e)}),x.getTimeline().forEach(function(e){r(e,"top"),r(e,"bottom")}),x.getEventsFrozen().forEach(s),t.list(v.timeHeader).forEach(function(e,i){x.getTimeHeader(i,c).forEach(function(e){var n,a=f.grid.x+e.left-ne,o=e.width,r=L.nm(i),s=r.top,l=r.height,c={header:{}};c.header.start=e.start,c.header.end=e.end,c.header.level=i,c.header.text=e.text,c.header.html=e.innerHTML,c.text=e.text,c.backColor=e.backColor,c.verticalAlignment="center",c.horizontalAlignment="center",c.fontColor=V,c.fontSize=X.size,c.fontFamily=X.family,c.fontStyle=X.style,re&&v.onBeforeTimeHeaderExport(c),o-=n=t.Util.atLeast(0,f.grid.x-a);var h={x:a+=n,y:s,w:1+(o-=n=t.Util.atLeast(0,a+o-(f.grid.x+f.grid.w))),h:l+1},u={size:c.fontSize,family:c.fontFamily,style:c.fontStyle};d.fillRect(h,c.backColor||J),d.rect(h,b),d.text(h,c.text,u,c.fontColor,c.horizontalAlignment,0,c.verticalAlignment)})}),d.rect(f.main,b),d.line(f.grid.x,0,f.grid.x,f.main.h,y),d.line(0,f.grid.y,f.main.w,f.grid.y,y),d},x.areaIcon=function(e){var i=x.fakeIcon(e);l().appendChild(i);var n=window.getComputedStyle(i,":before").content.replace(/"/g,""),a=new t.StyleReader(i).getFont();return l().removeChild(i),{text:n,font:a}},x.shiftableSegment=function(e){return{startX:e.startX,endX:e.endX,startY:e.startY,endY:e.endY,type:e.type,shift:function(t,i){return x.shiftableSegment({startX:e.startX+t,endX:e.endX+t,startY:e.startY+i,endY:e.endY+i,type:e.type})}}},this.om={};var k=this.om;k.findJointDivs=function(e){var i=e.data.join;return i?t.list(v.elements.events).filter(function(t){return t.event.data.join===i&&t.event!==e}):t.list()},this.pm={};var C=this.pm;C.divs=[],C.list=[],C.forbidden=!1,C.additional=function(){var e=t.list(),i=v.multiselect.isSelected(s.Ll.event),n=v.allowMultiResize;if(e=t.list(),i&&n&&(e=t.list(v.multiselect.sc).filter(function(e){return e!==s.Ll})),v.jointEventsResize){var a=k.findJointDivs(s.bm);e=e.concat(a)}return e},C.update=function(){C.clear(),C.draw()},C.clear=function(){t.de(C.divs),C.divs=[]},C.isInvalid=function(){return C.divs.some(function(e){return e.info.invalid})},C.qm=function(){return v.rm(C.list)},C.sm=function(){if(s.Ll){var e=s.bm,t=s._l,i=t.start.getTime()-e.start().getTime(),n=t.end.getTime()-e.end().getTime();C.list=[],C.forbidden=!1,C.invalid=!1,C.rowoffset=0,C.additional().forEach(function(e){if(e.event){var t=e.event,a=v.rowlist[t.part.dayIndex+0];if(!a)return void(C.invalid=!0);var o=t.start().addTime(i),r=t.end().addTime(n),s={$:{}};o>=r&&(s.invalid=!0,i>0?s.$.tm=r.addSeconds(-1):n<0&&(s.$.um=o.addSeconds(1))),s.event=t,s.start=o,s.end=r,s.$.Yf=a,C.list.push(s)}})}},C.vm=function(){if(C.list.forEach(function(e){var i=e.event,n=i.part.top+e.$.Yf.top,a=i.part.height,o=v.getPixels(e.start),r=v.getPixels(e.end);e.$.tm&&(o=v.getPixels(e.$.tm)),e.$.um&&(r=v.getPixels(e.$.um));var s=t.DateUtil.diff(i.rawend(),i.start());s=t.Util.atLeast(s,1);var l=O.Pk(s),d=l?o.boxLeft:o.left,h=l?r.boxRight-d:r.left-d,u=c();u.style.position="absolute",u.style.left=d+"px",u.style.top=n+"px",u.style.height=a+"px",u.style.width=h+"px",u.style.zIndex=101,u.style.overflow="hidden",u.className=v.G("_shadow"),u.info=e;var f=c();f.className=v.G("_shadow_inner"),u.appendChild(f),v.ni.appendChild(u),C.divs.push(u)}),C.invalid){var e=v.G("_shadow_overlap");t.list(C.divs).forEach(function(i){t.Util.addClass(i,e)})}else t.list(C.divs).forEach(function(e){if(e.info){var i=e,n=e.info,a=e.info.event,o=v.rowlist[a.part.dayIndex+0],r=v.getPixels(n.start),l=v.getPixels(n.end),c=r.left,d=l.left-c;e.info.invalid&&t.Util.addClass(e,v.G("_shadow_invalid"));var h=t.list(C.list).map(function(e){return e.event.data}).add(s.Ll.event.data);v.wm(i,o,c,d,h),v.xm(i,n.start,n.end,a.resource()),i.overlapping&&(n.overlapping=!0,C.forbidden=!0)}})},C.draw=function(){C.sm(),C.vm()},this.ym={},this.ym.modifiedProps=function(){var e=new t.Scheduler,i=t.Util.members(v,2),n=[];return n.push("<div id='dp'></div>"),n.push("<script>"),n.push("var dp = new DayPilot.Scheduler('dp');"),i.properties.forEach(function(t){var i,a,o=t.name,r=o.split(".");if(r.length>1){var s=r[0],l=r[1];i=JSON.stringify(e[s][l]),a=JSON.stringify(v[s][l])}else i=JSON.stringify(e[o]),a=JSON.stringify(v[o]);i!==a&&n.push("dp."+o+" = "+a+";")}),i.events.forEach(function(e){var t=e.name;"function"==typeof v[t]&&n.push("dp."+t+" = "+v[t].toString()+";")}),n.push("dp.init();"),n.push("<\/script>"),n.join("\n")},this.zm={};var _=this.zm;_.divs=[],_.list=[],_.forbidden=!1,_.Am=0,_.verticalAll=function(){return"All"===v.multiMoveVerticalMode},_.additional=function(){var e=t.list(),i=v.nj;if(v.multiselect.isSelected(s.Gl)&&v.allowMultiMove&&(e=t.list(v.multiselect.sc).filter(function(e){return e!==s.nj&&e!==i.nj})),v.jointEventsMove){var n=k.findJointDivs(s.Gl);e=e.concat(n)}return e},_.update=function(){_.clear(),_.draw()},_.qm=function(){return v.rm(_.list)},_.sm=function(){if(_.list=[],_.rowoffset=0,s.nj){var e=s.Gl,i=s.Bm.start.getTime()-e.start().getTime(),n=e.part.dayIndex,a=t.indexOf(v.rowlist,s.Bm.row)-n;_.verticalAll()||(a=0),_.forbidden=!1,_.invalid=!1,_.rowoffset=a,_.additional().forEach(function(e){if(e.event){var t=e.event,n=v.rowlist[t.part.dayIndex+a];if(!n)return void(_.invalid=!0);var o=t.start().addTime(i),r=t.end().addTime(i),s={};s.event=t,s.start=o,s.end=r,s.resource=n.id,_.list.push(s)}})}},_.vm=function(){if(_.list.forEach(function(e){var i=e.end,n=e.event,a=v.getPixels(e.start),o=v.getPixels(i),r=t.DateUtil.diff(n.rawend(),n.start());r=t.Util.atLeast(r,1);var s=O.Pk(r),l=v.qi(e.resource);if(l){e.$={},e.$.Yf=l;var d=s?a.boxLeft:a.left,h=s?o.boxRight-d:o.left-d,u=n.part.top+l.top,f=n.part.height;e.resource!==e.event.data.resource&&(u=l.top,f=l.height);var p=c();p.style.position="absolute",p.style.left=d+"px",p.style.top=u+"px",p.style.height=f+"px",p.style.width=h+"px",p.style.overflow="hidden",p.className=v.G("_shadow"),p.info=e;var m=c();m.className=v.G("_shadow_inner"),p.appendChild(m),v.ni.appendChild(p),_.divs.push(p)}else _.invalid=!0}),_.invalid){var e=v.G("_shadow_overlap");t.list(_.divs).forEach(function(i){t.Util.addClass(i,e)})}else t.list(_.divs).forEach(function(e){if(e.info){var i=e,n=e.info,a=e.info.$.Yf,o=v.getPixels(n.start),r=v.getPixels(n.end),l=o.left,c=r.left-l,d=t.list(_.list).map(function(e){return e.event.data}).add(s.Gl.data);v.wm(i,a,l,c,d),v.xm(i,n.start,n.end,n.resource),n.overlapping=!1,i.overlapping&&(n.overlapping=!0,_.forbidden=!0)}})},_.draw=function(){_.sm(),_.vm()},_.clear=function(){t.de(_.divs),_.divs=[]},this.rm=function(e,i){return i=["$"].concat(i||[]),e.map(function(e){var n=e,a={};for(var o in n){var r=i&&-1!==t.indexOf(i,o);n.hasOwnProperty(o)&&void 0!==n[o]&&(r?Object.defineProperty(a,o,{value:n[o]}):a[o]=n[o])}return a})},this.Cm=function(){var e=s.Ll.dpBorder,i=s.Ll.event,n=i.part.left;"right"==e&&(n+=i.part.width);var a,o,r=s.Ll.event.calendar.cellWidth,l=s.Ll.event.part.width,c=s.Ll.event.part.left,d=v.coords.x-n,h=v.snapToGrid&&v.snapToGridEventResizing;if("right"===e){if(a=c,h){var u=v.jj(l+c+d).cell,f=v.jj(c).cell,p=f.left+f.width-c;(o=u.left+u.width-c)<p&&(o=p)}else o=l+d;var m=v.Fi();c+o>m&&(o=m-c),s._l.left=c,s._l.width=o}else{if("left"!==e)throw new t.Exception("Invalid dpBorder.");h?(d>=l&&(d=l),(a=Math.floor((c+d+0)/r)*r)<0&&(a=0)):a=c+d;var g=r;h?"Never"===v.useEventBoxes&&(g=l<r?l:1):g=1,(o=l-(a-c))<g&&(a=c+l-(o=g)),s._l.left=a,s._l.width=o}!function(){s._l.overlapping=!1;var e=s.Ll.event,t=v.rowlist[e.part.dayIndex];v.wm(s._l,t,a,o,e.data);var i=s._l;if(i.start){var n={start:i.start,end:v.Yg(i.end)};v.xm(s._l,n.start,n.end,t.id)}}(),v.Dm()},this.Zl=function(){if(v.coords&&s.Gl){v.Li();var e=s.Bm,i=this.Mk(s.Gl);if(!v.Nk(i.rowIndex,i.grid)){var n=s.Gl,a=n.cache&&void 0!==n.cache.moveVDisabled?!n.cache.moveVDisabled:!n.data.moveVDisabled,o=n.cache&&void 0!==n.cache.moveHDisabled?!n.cache.moveHDisabled:!n.data.moveHDisabled,r=!_.additional().isEmpty();r&&"Disabled"===v.multiMoveVerticalMode&&(a=!1),a&&i.grid!==e.grid&&(e.parentNode.removeChild(e),v.Pi[i.grid].divShadow.appendChild(e),e.grid=i.grid);var l=0,c=0;if(function(){if(v.Jh){var e=i.relativeY,n=v.jj(i.left).x,a=(r=i.row).evColumns[n],o=a.events.find(function(t){return e<t.part.top+t.part.height+v.eventMarginBottom});o||(o=a.events.last()),o&&(c=o.part.top,l=t.indexOf(a.events,o),e-o.part.top>o.part.height/2&&(c=o.part.top+o.part.height+v.eventMarginBottom/2,l+=1))}else{e=i.relativeY;for(var r=i.row,s=v.ea.Ok(),d=r.lines.length,h=0;h<r.lines.length;h++)if(r.lines[h].isFree(i.left,v.cellWidth)){d=h;break}var u=Math.floor((e-0+s/2)/s);u=Math.min(d,u),u=t.Util.atLeast(0,u),c=v.rowMarginTop+(l=u)*(v.ea.Ok()+v.eventMarginBottom)+v.eventMarginBottom/2}}(),c>0&&(c-=3),a)if(this.Nk(i.rowIndex,i.grid)){var d;if(!(f=e.row))return;d=i.rowIndex<f.index?1:-1;for(var h=i.rowIndex;h!==f.index;h+=d){var u=this.rowlist[h];if(!this.Nk(h,i.grid)&&!u.hidden){e.style.top=u.top+"px",e.style.height=t.Util.atLeast(u.height,0)+"px",e.row=u,v.eventMoveToPosition&&(l=d>0?0:u.lines.length-1,e.style.top=i.top+c+"px",e.style.height="3px",e.line=l);break}}}else e.row=i.row,e.style.height=t.Util.atLeast(i.row.height,0)+"px",e.style.top=i.top+"px",v.eventMoveToPosition&&(e.style.top=i.top+c+"px",e.style.height="3px",e.line=l);else{var f,p=(f=v.Pi[n.part.grid].rowlist[n.part.dayIndex]).lines.length;for(h=0;h<f.lines.length;h++)if(f.lines[h].isFree(i.left,v.cellWidth)){p=h;break}if(r||(e.style.height=t.Util.atLeast(f.height,0)+"px",e.style.top=f.top+"px"),e.row=f,v.eventMoveToPosition&&!r)if(i.row===f)e.style.top=f.top+c+"px",e.style.height="3px",e.line=l;else{var m=i.rowIndex>f.index&&p>0?p*v.ea.Ok()-3:0;e.style.top=f.top+m+"px",e.style.height="3px",e.line=0}}o?(e.style.left=i.left+"px",e.style.width=v.eventMoveToPosition?v.cellWidth+"px":i.width+"px",e.start=i.start,e.end=i.end):(e.style.left=n.part.left+"px",e.start=n.start(),e.end=n.rawend(),i.left=n.part.left),function(){e.overlapping=!1;var a=e.row,o=n.data,r=i.width,l=i.left,c=t.list(_.list).map(function(e){return e.event.data}).add(o);v.wm(e,a,l,r,c),v.xm(s.Bm,e.start,e.end,e.row.id)}(),function(){var i=v.Ca;if(!i||i.start.getTime()!==e.start.getTime()||i.end.getTime()!==e.end.getTime()||i.resource!==e.row.id){i&&(t.Util.removeClass(e,i.cssClass),e.firstChild.innerHTML=""),_.clear(),_.sm();var a=!!s.Em&&n.part.external,o={};o.start=e.start,o.end=v.Yg(e.end),o.duration=new t.Duration(o.start,o.end),o.e=n,o.external=a,o.control=v,o.resource=e.row.id,o.html=null,o.row=v.jk(e.row),o.position=e.line,o.overlapping=e.overlapping||_.forbidden,o.allowed=!0,o.left={},o.left.html=o.start.toString(v.eventMovingStartEndFormat,O.gj()),o.left.enabled=v.eventMovingStartEndEnabled,o.left.space=5,o.left.width=null,o.left.height=v.eventHeight,o.right={},o.right.html=o.end.toString(v.eventMovingStartEndFormat,O.gj()),o.right.enabled=v.eventMovingStartEndEnabled,o.right.space=5,o.right.width=null,o.right.height=v.eventHeight,o.multimove=_.qm(),o.shift=v.coords.shift,o.ctrl=v.coords.ctrl,o.meta=v.coords.meta,o.alt=v.coords.alt,o.areaData=t.Global.movingAreaData,o.link=null,o.cssClass=null,o.html=null;var r={};r.event=n,r.start=o.start,r.end=o.end,r.overlapping=o.overlapping,r.resource=o.resource,o.multimove.splice(0,0,r),v.Ca=o;var d={start:o.start,end:o.end,resource:o.resource};if("function"==typeof v.onEventMoving&&v.onEventMoving(o),_.list=t.list(o.multimove,!0),_.list.splice(0,1),_.vm(),e.allowed=o.allowed,t.Util.addClass(e,o.cssClass),o.html&&(e.firstChild.innerHTML=o.html),o.start!==d.start||o.end!==d.end){var h=o.start,u=v.zg(o.end);e.start=h,e.end=u;var f=t.DateUtil.diff(h,u);f=t.Util.atLeast(f,1);var p=O.Pk(f),m=p?v.getPixels(h).boxLeft:v.getPixels(h).left,g=p?v.getPixels(u).boxRight:v.getPixels(u).left;e.style.left=m+"px",e.style.width=g-m+"px"}if(o.resource!==d.resource){var b=v.qi(o.resource);b&&(e.row=b,e.style.height=t.Util.atLeast(b.height,0)+"px",e.style.top=b.top+"px",v.eventMoveToPosition&&(e.style.top=b.top+c+"px",e.style.height="3px",e.line=l))}e.firstChild.innerHTML=o.html?o.html:"",v.Fm(e,o),v.Gm(s.Bm,o),o.link&&(t.Global.movingLink&&t.Global.movingLink.clear(),t.Global.movingLink=y.fl(o.link.from,e,o.link))}}()}}},this.wm=function(e,i,n,a,o){if(!v.allowEventOverlap){!function(){e.overlapping=!1;for(var r=0;r<i.lines.length;r++)if(!i.lines[r].isFree(n,a,o))return void(e.overlapping=!0);var s=i.index;if(t.list(I.list).some(function(i){var o=i.div,r=parseInt(o.style.left),l=parseInt(o.style.width);return e!==o&&i.start.y===s&&t.Util.overlaps(n,n+a,r,r+l)}))e.overlapping=!0;else{if(!t.list(_.divs).some(function(i){var o=i.info,r=parseInt(i.style.left),l=parseInt(i.style.width);return e!==i&&o.$.Yf.index===s&&t.Util.overlaps(n,n+a,r,r+l)}))return t.list(C.divs).some(function(i){var o=i.info,r=parseInt(i.style.left),l=parseInt(i.style.width);return e!==i&&o.$.Yf.index===s&&t.Util.overlaps(n,n+a,r,r+l)})?void(e.overlapping=!0):void 0;e.overlapping=!0}}();var r=e.overlapping,s=v.G("_shadow_overlap");r?t.Util.addClass(e,s):t.Util.removeClass(e,s)}},this.xm=function(e,i,n,a){if(v.cellConfig&&v.cellConfig.hasDisabled||v.bj.Hm){v._b(i,n,a)&&(e.overlapping=!0);var o=v.G("_shadow_overlap");e.overlapping?t.Util.addClass(e,o):t.Util.removeClass(e,o)}},this._b=function(e,t,i){var n=null;"Days"===v.viewType&&(n=v.Dl(e));var a=v.rows.find(i,n).cells.forRange(e,t);return!!a&&a.some(function(e){return e.properties.disabled})},this.Fm=function(e,i){var n=v.G("_shadow_forbidden");!i.allowed||_.invalid?t.Util.addClass(e,n):t.Util.removeClass(e,n)},this.Gm=function(e,i){if(this.Im(),e.calendar===v){var n=v.Kk(e.grid),a={};a.left=parseInt(e.style.left),a.top=parseInt(e.style.top),a.right=a.left+parseInt(e.style.width);var o=i.left.width||10,r=c();if(r.style.position="absolute",r.style.left=a.left-o-i.left.space+"px",r.style.top=a.top+"px",r.style.height=i.left.height+"px",r.style.overflow="hidden",r.style.boxSizing="border-box",r.innerHTML=i.left.html,r.className=v.G("_event_move_left"),r.onmousemove=v.Jm,t.browser.ie&&(r.style.display="block"),i.left.enabled)if(n.divHover.appendChild(r),i.left.width)r.style.width=o+"px";else{r.style.whiteSpace="nowrap";var s=r.offsetWidth,l=a.left-s-i.left.space;r.style.width=s+"px",r.style.left=l+"px";var d=v.nav.scroll.scrollLeft;l<d&&n.divHover.removeChild(r);var h=v.Ii()+(l-d);h>0&&(r.style.left=h+"px",r.style.top=a.top-n.div.scrollTop+n.top+"px",v.nav.top.appendChild(r),v.elements.hover.push(r))}o=i.right.width||10;var u=c();u.style.position="absolute",u.style.left=a.right+i.right.space+"px",u.style.top=a.top+"px",u.style.height=i.right.height+"px",u.style.overflow="hidden",u.style.boxSizing="border-box",i.right.width?u.style.width=i.right.width+"px":u.style.whiteSpace="nowrap",u.innerHTML=i.right.html,u.className=this.G("_event_move_right"),u.onmousemove=v.Jm,t.browser.ie&&(u.style.display="block"),i.right.enabled&&(n.divHover.appendChild(u),a.right+i.right.space+u.offsetWidth>=v.nav.scroll.scrollWidth&&n.divHover.removeChild(u))}},this.Im=function(){v.divHover.innerHTML="",v.Pi.top.divHover.innerHTML="",v.Pi.bottom.divHover.innerHTML="",t.de(v.elements.hover),v.elements.hover=[]},this.Km=function(){var e=v.rowHeaderColumnDefaultWidth;if(this.rowHeaderColumns){var i=O.km();this.rowHeaderCols=t.Util.propArray(i,"width",e)}else this.rowHeaderCols=null},this.Lm=function(){var e=0;if(this.Km(),this.rowHeaderCols)for(var t=0;t<this.rowHeaderCols.length;t++)e+=this.rowHeaderCols[t];else e=this.rowHeaderWidth;return e},this.Mm=function(){return this.Nm(v.progressiveRowRenderingPreload)},this.Nm=function(e){e=e||0;var i=0,n=v.rowlist.length;if(v.progressiveRowRendering){var a=v.X();n=a.yEnd+1,i=t.Util.atLeast(0,(i=a.yStart)-e),n=Math.min(v.rowlist.length,n+e)}return{start:i,end:n}},this.Om=function(){if(this.ce()){var e=!1,i=0;if(this.rowHeaderWidthAutoFit){var n=this.divHeader;if(!n)return;if(!n.rows)return;var a=[];v.rowHeaderWidthAutoFitShrink&&(v.rowHeaderWidth=0,v.rowHeaderCols&&v.rowHeaderCols.forEach(function(e,t){v.rowHeaderCols[t]=0}));for(var o=v.Mm(),r=o.start;r<o.end;r++){var s=n.rows[r];if(s&&!s.hidden){for(var l=0;l<s.cells.length;l++)if("number"!=typeof s.cells[l].Pm){var c=s.cells[l].firstChild.firstChild;if(c&&c.style){var d=c.style.width,h=c.style.right,u=c.style.display;c.style.position="absolute",c.style.width="auto",c.style.right="auto",c.style.whiteSpace="nowrap",c.style.display="block",s.cells[l].Pm=f=c.offsetWidth+2,c.style.position="",c.style.width=d,c.style.right=h,c.style.display=u,c.style.whiteSpace=""}}for(l=0;l<s.cells.length;l++){var f=s.cells[l].Pm;void 0===a[l]&&(a[l]=0),a[l]=Math.max(a[l],f)}}}if(this.Km(),this.rowHeaderCols)for(r=0;r<a.length;r++)this.rowHeaderCols[r]&&(a[r]>this.rowHeaderCols[r]&&(this.rowHeaderCols[r]=a[r],e=!0),i+=this.rowHeaderCols[r]);else{i=this.rowHeaderWidth;var p=O.Ji();this.rowHeaderWidth<a[0]+v.rowHeaderWidthMarginRight+p&&(i=a[0]+v.rowHeaderWidthMarginRight+p,e=!0)}}e&&(this.Jk&&(this.Jk.widths=this.rowHeaderCols,this.Jk.updateWidths(),t.Util.updatePropsFromArray(O.km(),"width",this.rowHeaderCols)),this.rowHeaderCols||(this.rowHeaderWidth=i),this.Gj(),this.Qm())}},this.Uh=function(){function e(e){var i=v.Kk(e).divHeader;i&&(i.rows=[]);var n=i;if(i.Um&&(n=i.Um),n){if(t.browser.ie)for(var a=0;a<n.childNodes.length;a++)t.de(n.childNodes[a]);v.Gk(e),n.innerHTML="",t.puc(n)}}this.Rm=!0,this.Km();var i=this.Lm();e("main"),e("top"),e("bottom");var n=this.divHeader;if(n.style.width=i+"px",n.style.height=v.Nh+"px",v.Pi.main.divHeader=n,v.progressiveRowRendering);else for(var a=this.rowlist.length,o=0;o<a;o++)v.Sm(o);if(v.Pi.top.enabled())for(o=0;o<v.Pi.top.rowlist.length;o++)v.Sm(o,"top");if(v.Pi.bottom.enabled())for(o=0;o<v.Pi.bottom.rowlist.length;o++)v.Sm(o,"bottom");v.Tm(),this.divResScroll.appendChild(n),this.rowHeaderWidthAutoFit&&this.Om()},this.Hj=function(){if(v.progressiveRowRendering){for(var e=this.Mm(),t=0;t<v.rowlist.length;t++)e.start<=t&&t<e.end?v.Sm(t):v.Lk(t);if(this.rowHeaderWidthAutoFit){var i=v.Ii();if(this.Om(),v.Ii()!==i){var n=this.cellWidth;this.Rh(),this.cellWidth!==n&&(v.Sh(),v.Vh(),v.Wh(),v.Ua(),v.Ma(),v.Vm())}}}},this.Tm=function(){if(!v.ea.Wm()){var e=v.divHeader;(i=c()).style.position="absolute",e.appendChild(i),v.nav.resScrollSpace=i,i.setAttribute("unselectable","on");var t=c();t.style.position="relative",t.style.height="100%",t.className=this.G("_rowheader"),i.appendChild(t);var i,n=this.Lm();(i=v.nav.resScrollSpace).style.width=n+"px",i.style.top=this.Nh+"px"}},this.Lk=function(e,i){var n=v.Kk(i),a=n.divHeader.rows[e];if(a){var o=a.cells[0],r=o.domArgs;if(o.domArgs=null,r&&"function"==typeof v.onBeforeRowHeaderDomRemove&&v.onBeforeRowHeaderDomRemove(r),r&&"function"==typeof v.onBeforeRowHeaderDomAdd&&v.wa.reactDOM){var s=r&&r.Qc;if(s&&t.Util.isReactComponent(r.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.unmountComponentAtNode(s)}}t.de(a.cells),n.divHeader.rows[e]=null}},this.Uj=function(e,t){this.Lk(e,t),this.Sm(e,t)},this.Sj=function(){return"Standard"===v.rowHeaderColumnsMode||"Tabular"===v.rowHeaderColumnsMode},this.Xm=function(e,t){var i=void 0;return e.tags&&(i=e.tags[t]),void 0!==i?i:e[t]},this.Sm=function(e,i){var n=v.Kk(i),a=n.rowlist,o=n.divHeader,r=o;if(o.Um&&(r=o.Um),o&&!o.rows[e]){var s=this.rowHeaderCols,l=s?this.rowHeaderCols.length:0,h=this.Lm(),u=a[e];if(u&&!u.hidden){var f=S.P[e],p=this.lm(u);o.rows[e]={},o.rows[e].cells=[],(B=c()).style.position="absolute",B.style.top=u.top+"px",B.row=u,B.index=e;var m=p.row,g=m,b=v.Sj(),y=v.internalUseStandardColumns&&!u.isNewRow,w=y||b&&t.isArray(v.rowHeaderColumns),x=t.list(p.row.columns);w&&(l=(x=x.filter(function(e,t){return!v.rowHeaderColumns[t].hidden})).length),w&&(g=x[0]||{});var k=s?s[0]:this.rowHeaderWidth;B.style.width=k+"px",B.style.border="0px none";var C=g.toolTip||m.toolTip;C&&(B.title=C),B.setAttribute("unselectable","on"),B.setAttribute("aria-label",void 0!==m.ariaLabel?m.ariaLabel:g.text||""),B.onmouseenter=v.Ym,B.onmouseleave=v.Zm,B.onmousemove=v.$m,B.onmouseout=v._m,B.onmouseup=v.an,B.oncontextmenu=v.bn,B.onclick=v.cn,B.ondblclick=v.dn,(L=c()).style.width=k+"px",L.setAttribute("unselectable","on"),L.className=this.G("_rowheader"),f&&t.Util.addClass(L,v.G("_rowheader_selected")),m.cssClass&&t.Util.addClass(L,m.cssClass),g.cssClass&&t.Util.addClass(L,g.cssClass),(N=g.backColor||m.backColor)&&(L.style.background=N),(O=g.fontColor||m.fontColor)&&(L.style.color=O);var _=g.horizontalAlignment||m.horizontalAlignment;switch(v.treeEnabled&&(_=null),_&&(L.style.textAlign=_),L.style.height=u.height+"px",L.style.overflow="hidden",L.style.position="relative",(j=c()).setAttribute("unselectable","on"),j.className=this.G("_rowheader_inner"),_){case"right":j.style.justifyContent="flex-end";break;case"left":j.style.justifyContent="flex-start";break;case"center":j.style.justifyContent="center"}L.appendChild(j);var D="Disabled"!==this.rowMoveHandling&&"main"===u.grid,E=v.rowDragHandleWidth,T=g.areas||[];D&&!m.moveDisabled&&T.push({v:"Hover",w:E,bottom:0,top:0,left:0,css:v.G("_rowmove_handle"),action:"Move"});var A=v.jk(u);if(t.Areas.attach(L,A,{areas:T,allowed:function(){return!d.row}}),(z=c()).style.position="absolute",z.style.bottom="0px",z.style.width="100%",z.style.height="1px",z.className=this.G(R.resourcedivider),L.appendChild(z),function(){var t=c();if(v.treeEnabled&&!u.isNewRow){var i=u.level*v.treeIndent+v.treeImageMarginLeft;D&&(i+=E);var n=v.treeImageWidth,a=v.treeImageHeight;t.style.marginLeft=i+"px",t.style.position="relative",t.className=v.G("_rowheader_inner_indent");var o=c();o.style.width=n+"px",o.style.height=a+"px",o.style.backgroundRepeat="no-repeat",o.style.position="absolute",o.style.top=v.treeImageMarginTop+"px",u.loaded||0!==u.children.length?u.children.length>0?(o.className=v.G(u.expanded?"_tree_image_collapse":"_tree_image_expand"),o.style.cursor="pointer",o.index=e,o.onclick=function(e){v.Yl(this.index),e.cancelBubble=!0}):o.className=v.G("_tree_image_no_children"):(o.className=v.G("_tree_image_expand"),o.style.cursor="pointer",o.index=e,o.onclick=function(e){v.en(this.index),e.cancelBubble=!0}),t.appendChild(o)}var r=c();v.treeEnabled&&(r.style.marginLeft=n+v.treeImageMarginRight+"px"),r.innerHTML=v.ca(g.text,g.html),r.className=v.G("_rowheader_inner_text"),B.textDiv=r,B.cellDiv=L,t.appendChild(r),j.appendChild(t);var s=g.verticalAlignment||m.verticalAlignment;if(s)switch(j.style.display="flex",s){case"center":j.style.alignItems="center";break;case"top":j.style.alignItems="flex-start";break;case"bottom":j.style.alignItems="flex-end"}}(),B.appendChild(L),function(){if("function"==typeof v.onBeforeRowHeaderDomAdd||"function"==typeof v.onBeforeRowHeaderDomRemove){var e=B,i={};if(i.control=v,i.row=v.jk(u),i.element=null,i.target="Cell",e.domArgs=i,"function"==typeof v.onBeforeRowHeaderDomAdd&&v.onBeforeRowHeaderDomAdd(i),i.element){var n=null;switch(i.target&&i.target.toLowerCase()){case"text":n=W;break;case"cell":n=j}if(n)if(i.Qc=n,n.innerHTML="",t.Util.isReactComponent(i.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.render(i.element,n)}else n.appendChild(i.element)}}}(),r.appendChild(B),o.rows[e].cells.push(B),u.columns&&0!==u.columns.length)for(var P=k,M=y||b?0:1,H=1;H<l;H++){var B;g=x[H-M]||{},(B=c()).style.position="absolute",B.style.top=u.top+"px",B.style.left=P+"px",r.appendChild(B),o.rows[e].cells.push(B),B.row=u,B.index=e;var I=g.toolTip||m.toolTip;I&&(B.title=I),B.setAttribute("unselectable","on"),B.onmousemove=v.$m,B.onmouseout=v._m,B.onmouseup=v.an,B.oncontextmenu=v.bn,B.onclick=v.cn,B.ondblclick=v.dn;var N,O,L=c(),U=s[H];P+=U,(N=g.backColor||m.backColor)&&(L.style.backgroundColor=N),(O=g.fontColor||m.fontColor)&&(L.style.color=O),L.style.width=U+"px",L.style.height=u.height+"px",L.style.overflow="hidden",L.style.position="relative",L.setAttribute("unselectable","on"),t.Util.addClass(L,this.G("_rowheader")),t.Util.addClass(L,this.G("_rowheadercol")),t.Util.addClass(L,this.G("_rowheadercol"+H)),f&&t.Util.addClass(L,v.G("_rowheader_selected")),m.cssClass&&t.Util.addClass(L,m.cssClass),g.cssClass&&t.Util.addClass(L,g.cssClass);var j,z,G=g.horizontalAlignment||m.horizontalAlignment;switch(G&&(L.style.textAlign=G),(j=c()).setAttribute("unselectable","on"),j.className=this.G("_rowheader_inner"),G){case"right":j.style.justifyContent="flex-end";break;case"left":j.style.justifyContent="flex-start";break;case"center":j.style.justifyContent="center"}L.appendChild(j),(z=c()).style.position="absolute",z.style.bottom="0px",z.style.width="100%",z.style.height="1px",z.className=this.G("_resourcedivider"),L.appendChild(z);var W=c(),F=v.ca(g.text,g.html);W.innerHTML=F,B.textDiv=W,B.cellDiv=L,j.appendChild(W),t.Areas.attach(L,A,{areas:g.areas,allowed:function(){return!d.row}}),B.appendChild(L)}else B.colSpan="max",L.style.width=h+"px"}}},this.bn=function(e){if("Disabled"===v.rowRightClickHandling)return!1;var t=this.row,i=v.jk(t),n={};if(n.ctrl=e.ctrlKey,n.shift=e.shiftKey,n.meta=e.metaKey,n.originalEvent=e,n.row=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof v.onRowRightClick||(v.onRowRightClick(n),!n.preventDefault.value)){switch(v.rowRightClickHandling){case"ContextMenu":t.contextMenu&&t.contextMenu.show(i)}return"function"==typeof v.onRowRightClicked&&v.onRowRightClicked(n),!1}},this.cn=function(e){if(!E.cancelClick){var t=this.row,i=v.jk(t,this.index);return t.isNewRow?void v.pk.edit(t):void v.mk(i,e)}},this.dn=function(e){if(v.oj.resClick){for(var t in v.oj.resClick)window.clearTimeout(v.oj.resClick[t]);v.oj.resClick=null}var i=this.row,n=v.jk(i,this.index);if(v.cb()){var a={};if(a.resource=n,a.row=n,a.ctrl=e.ctrlKey,a.shift=e.shiftKey,a.meta=e.metaKey,a.originalEvent=e,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onRowDoubleClick&&(v.onRowDoubleClick(a),a.preventDefault.value))return;switch(v.rowDoubleClickHandling){case"PostBack":v.rowDoubleClickPostBack(n);break;case"CallBack":v.rowDoubleClickCallBack(n);break;case"Select":v.ok(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":v.pk.edit(i)}"function"==typeof v.onRowDoubleClicked&&v.onRowDoubleClicked(a)}else switch(v.rowDoubleClickHandling){case"PostBack":v.rowDoubleClickPostBack(n);break;case"CallBack":v.rowDoubleClickCallBack(n);break;case"JavaScript":v.onRowDoubleClick(n);break;case"Select":v.ok(i,e.ctrlKey,e.shiftKey,e.metaKey);break;case"Edit":v.pk.edit(i)}},this.rowDoubleClickPostBack=function(e,t){var i={};i.resource=e,this.fa("RowDoubleClick",i,t)},this.rowDoubleClickCallBack=function(e,t){var i={};i.resource=e,this.ha("RowDoubleClick",i,t)},this.gn=function(e){if("Disabled"!==v.timeHeaderClickHandling){var i={};i.start=this.cell.start,i.level=this.cell.level,i.end=this.cell.end,i.end||(i.end=new t.Date(i.start).addMinutes(v.cellDuration)),v.qk(i)}},this.hn=function(i){if("Disabled"!==v.timeHeaderRightClickHandling){i.cancelBubble=!0,i.preventDefault();var n={};if(n.start=this.cell.start,n.level=this.cell.level,n.end=this.cell.end,n.end||(n.end=new t.Date(n.start).addMinutes(v.cellDuration)),v.cb()){var a={};if(a.header=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onTimeHeaderRightClick&&(v.onTimeHeaderRightClick(a),a.preventDefault.value))return;switch(this.timeHeaderRightClickHandling){case"PostBack":v.timeHeaderRightClickPostBack(e);break;case"CallBack":v.timeHeaderRightClickCallBack(e)}"function"==typeof v.onTimeHeaderRightClicked&&v.onTimeHeaderRightClicked(a)}}},this.in=function(e){var t=v.rowlist[e];if(t.hidden)return 0;var i=t.height;return"number"==typeof t.forcedHeight&&(i=t.forcedHeight),i},this.jn=function(e,i,n){function a(e){var t=v.in(e),n=i;"hide"===i?n=0:"show"===i&&(n=v.rowlist[e].height),o.push({i:e,now:t,dist:n-t})}var o=[];if("number"==typeof e)a(e);else{if(!t.isArray(e))throw new t.Exception("Unexpected param (must be number/array).");e.forEach(function(e){a(e)})}var r=0,s=v.nav.scroll,l=s.style.overflowX,c=s.style.overflowY;0===t.sw(s)&&(s.style.overflowY="hidden"),window.requestAnimationFrame(function e(t){r||(r=t);var i=Math.min(1,(t-r)/200);0===i&&(i=.1),o.forEach(function(e){v.rowlist[e.i].forcedHeight=e.now+e.dist*i}),v.kn(),i<1?window.requestAnimationFrame(e):(s.style.overflowX=l,s.style.overflowY=c,"function"==typeof n&&n())})},this.jk=function(e){return new t.Row(e,v)},this._i=function(e,i){var n=v.Pi[i=i||"main"].rowlist[e];if(n.events||n.resetEvents(),!n.data){n.data={},n.data.start=new t.Date(n.start),n.data.startTicks=n.data.start.getTime();var a=this.ej().getTime()-this.kb().getTime();n.data.end=O.ln()?n.data.start.addTime(a):n.data.start.addDays(1),n.data.endTicks=n.data.end.getTime(),n.data.offset=n.start.getTime()-this.kb().getTime(),n.data.i=e,n.data.grid=i}},this.mn={},this.Ma=function(e){if(e?this.events.list=e:this.events.list||(this.events.list=[]),null!=this.events.list&&!t.isArray(this.events.list))throw new t.Exception("DayPilot.Scheduler.events.list expects an array object");D.prepareRows(!0);var i,n=this.events.list,a="function"==typeof this.onBeforeEventRender,o="Resources"===v.viewType;v.mn={};for(var r=0;r<n.length;r++){var s=n[r];if(s){if("object"!=typeof s)throw new t.Exception("Event data item must be an object");if(!s.start)throw new t.Exception("Event data item must specify 'start' property");if(s instanceof t.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";var l="string"==typeof s.id||"number"==typeof s.id,c="string"==typeof s.recurrentMasterId||"number"==typeof s.recurrentMasterId;if(!l&&!(c="string"==typeof s.recurrentMasterId||"number"==typeof s.recurrentMasterId))throw new t.Exception("All events must have an id property (string or number)");if(!v.temp.allowDuplicateEventIds){var d="_"+s.id;if(!l&&c&&(d="#"+s.recurrentMasterId+"#"+new t.Date(s.start)),v.mn[d])throw new t.Exception("Duplicate event IDs are not allowed: "+d);v.mn[d]=!0}"Milestone"===s.type&&(s.end=s.start),a&&this.ne(r),"*"===s.resource?i=v.rowlist:o?i=v.nn(s.resource).concat(v.nn("*")):"Days"===v.viewType?i=v.rowlist:"Gantt"===v.viewType&&(i=v.nn(s.id));for(var h=0;i&&h<i.length;h++){var u=this.pl(s,i[h]);u&&a&&(u.cache=this.P.events[r])}}}v.$i().forEach(function(e){v.vl(e)}),v.yj()},this.on={};var D=this.on;D.rowcache={},D.prepareRows=function(e){D.rowcache={};for(var i=v.$i(),n=0;n<i.length;n++){var a=i[n];if(e&&a.resetEvents(),v._i(a.index,a.grid),a.id){var o=typeof a.id+"_"+a.id;D.rowcache[o]||(D.rowcache[o]=t.list()),D.rowcache[o].push(a)}}},D.loadEvent=function(e){},this.nn=function(e){return t.list(D.rowcache[typeof e+"_"+e])},this.ol=function(){var e={};if("Resources"!==v.viewType)return!1;for(var t=0;t<v.rowlist.length;t++){var i=v.rowlist[t].id;if(e[i])return!0;e[i]=!0}return!1},this.ne=function(e){var i=this.P.events,n=this.events.list[e],a={};for(var o in n instanceof t.Event&&(n=n.data),n)a[o]=n[o];if("string"==typeof a.start&&(a.start=new t.Date(a.start)),"string"==typeof a.end&&(a.end=new t.Date(a.end)),"function"==typeof this.onBeforeEventRender){var r={};r.e=a,r.data=a,this.onBeforeEventRender(r)}i[e]=a},this.pn=function(e){var t=e.data.container,i=typeof t;return"string"!==i&&"number"!==i?null:typeof t+"_"+t},this.vl=function(e){if(e.lines=[],e.sections=null,!e.isNewRow){if(this.sortDirections?e.events.sort(this.xe):v.Jh||e.events.sort(this.we),e.containerCache={},e.containers=[],e.events.forEach(function(t){var i=v.pn(t);if(i){var n=e.containerCache[i];n||(e.containerCache[i]=n={events:[],line:null,start:null,end:null,left:null,width:null},e.containers.push(n)),t.part.container=n,n.events.push(t)}}),e.containers.forEach(function(e){var t=e.events[0],i=e.events[e.events.length-1];e.start=t.part.start,e.end=i.part.end,e.left=t.part.left,e.width=i.part.right-t.part.left,e.right=i.part.right}),v.Jh)return void M.vl(e);var i=v.groupConcurrentEvents;if(i)for(var n=0;n<e.blocks.length;n++)e.blocks[n].clear();t.list(e.events).forEach(function(t){if(!t.part.height)return e.eventHeight?void(t.part.height=e.eventHeight):void(t.part.height=O.Ok())}),e.events.filter(function(e){return"number"==typeof e.data.line}).forEach(function(t){e.putIntoLine(t)});for(var a=0;a<e.events.length;a++)e.putIntoLine(l=e.events[a]),i&&e.putIntoBlock(l);var o=0;for(n=0;n<e.lines.length;n++)(c=e.lines[n]).top=o,o+=(c.height||e.eventHeight)*e.eventStackingLineHeight/100;if(i)for(a=0;a<e.blocks.length;a++){var r=e.blocks[a];r.lines=[],r.events.sort(this.xe);for(var s=0;s<r.events.length;s++){var l;r.putIntoLine(l=r.events[s])}for(r.lines.length<=v.groupConcurrentEventsLimit&&(r.expanded=!0),t.list(r.events).map(function(e){return e.id()}).some(function(e){return t.contains(v.qn,e)})&&(r.expanded=!0),o=0,n=0;n<r.lines.length;n++){var c;(c=r.lines[n]).top=o,o+=(c.height||e.eventHeight)*e.eventStackingLineHeight/100}}}},this.xj=function(e){e=t.ua(e),(e=v.Vj(e)).forEach(function(e){v.vl(e)}),v.Jh?M.rn():e.forEach(function(e){v.jm(e)})},this.Hl=function(){var e="Manual"===v.scale?v.itline[0].start:v.startDate;return t.list(v.rowlist).some(function(i){return!!i.start&&i.start.getTime()!==new t.Date(e).getTime()})},this.pl=function(e,i){if(!i.hideEvents){var n=new t.Date(e.start),a=new t.Date(e.end);a=v.zg(a);var o=n.ticks,r=a.ticks;if(r<o)return null;var s=null;if("function"==typeof v.onBeforeEventRender){var l=t.indexOf(v.events.list,e);s=v.P.events[l]}if(s){if(s.hidden)return null}else if(e.hidden)return null;var c=!1;switch(this.viewType){case"Days":c=!(r<=i.data.startTicks||o>=i.data.endTicks)||o===r&&o===i.data.startTicks;break;case"Resources":c=(i.id===e.resource||"*"===i.id||"*"===e.resource)&&(!(r<=i.data.startTicks||o>=i.data.endTicks)||o===r&&o===i.data.startTicks);break;case"Gantt":c=i.id===e.id&&!(r<=i.data.startTicks||o>=i.data.endTicks)}if(!c)return null;var d=new t.Event(e,v);d.part.dayIndex=i.data.i,d.part.grid=i.data.grid,d.part.start=i.data.startTicks<o?n:i.data.start,d.part.end=i.data.endTicks>r?a:i.data.end;var h=this.getPixels(d.part.start.addTime(-i.data.offset)),u=this.getPixels(d.part.end.addTime(-i.data.offset));d.part.start===d.part.end&&(u=this.getPixels(d.part.end.addTime(-i.data.offset).addMilliseconds(1))),s&&s.height?d.part.height=s.height:e.height&&(d.part.height=e.height),d.part.sn=function(){var e=this.height;if(v.eventVersionsEnabled&&!t.list(d.versions).isEmpty()){var i=d.versions.length;e+=i*v.eventVersionHeight,e+=i*v.eventVersionMargin}return e+v.eventMarginBottom};var f=h.left,p=u.left;if(d.part.startPixels=h,d.part.endPixels=u,f===p){if(h.cut||u.cut)return null;var m=(d.part.start.addTime(-i.data.offset).getTime()+d.part.end.addTime(-i.data.offset).getTime())/2;if(v.getPixels(new t.Date(Math.floor(m))).cut)return null}if(d.part.box=O.Pk(r-o),"Milestone"===e.type){var g=e.width||v.eventHeight;d.part.end=d.part.start,d.part.left=f-g/2,d.part.width=g,d.part.barLeft=0,d.part.barWidth=g}else if(d.part.box){var b=h.boxLeft,y=u.boxRight;d.part.left=b,d.part.width=y-b,d.part.barLeft=t.Util.atLeast(f-d.part.left,0),d.part.barWidth=t.Util.atLeast(p-f,1)}else d.part.left=f,d.part.width=t.Util.atLeast(p-f,1),d.part.barLeft=0,d.part.barWidth=t.Util.atLeast(p-f-1,1);if(d.part.width=Math.max(d.part.width,v.eventMinWidth),d.part.right=d.part.left+d.part.width,d.cache=s,v.eventVersionsEnabled&&v.tn(d,i),"function"==typeof v.onEventFilter&&v.events.ve){var w={};if(w.filter=v.events.ve,w.filterParam=v.events.ve,w.visible=!0,w.e=d,v.onEventFilter(w),!w.visible)return null}return i.events.push(d),d}},this.tn=function(e,i){e.versions=[];var n=t.list((e.cache||e.data).versions);if(!n.isEmpty()){var a=e.part.left,o=e.part.left+e.part.width;n.forEach(function(n){var r=new t.Date(n.start),s=new t.Date(n.end),l=v.getPixels(r.addTime(-i.data.offset)),c=v.getPixels(s.addTime(-i.data.offset));r.ticks===s.ticks&&(c=v.getPixels(s.addTime(-i.data.offset).addTime(1)));var d=l.left,h=c.left;if(d===h&&(l.cut||c.cut))return null;var u={};u.left=d,u.continueLeft=r<i.data.start,u.right=h,u.continueRight=s>i.data.end,u.width=h-d,e.versions.push(u),u.left<a&&(a=u.left),u.right>o&&(o=u.right)}),v.eventVersionsReserveSpace?(e.part.versionsLeft=a,e.part.versionsRight=o,e.part.versionsWidth=o-a):(e.part.versionsLeft=e.part.left,e.part.versionsRight=e.part.left+e.part.width,e.part.versionsWidth=e.part.width)}},this.we=function(e,t){if(!(e&&t&&e.start&&t.start))return 0;var i=e.start().ticks-t.start().ticks;return 0!==i?i:t.end().ticks-e.end().ticks},this.xe=function(e,t){if(!e||!t)return 0;var i=e.cache||e.data,n=t.cache||t.data;if(!(i.sort&&i.sort.length>0&&n.sort&&n.sort.length>0))return v.we(e,t);for(var a=0,o=0;0===a&&void 0!==i.sort[o]&&void 0!==n.sort[o];)a=i.sort[o]===n.sort[o]?0:"number"==typeof i.sort[o]&&"number"==typeof n.sort[o]?i.sort[o]-n.sort[o]:v.ye(i.sort[o],n.sort[o],v.sortDirections[o]),o++;return a},this.ye=function(e,t,i){var n="desc"!==i?-1:1,a=-n;if(null===e&&null===t)return 0;if(null===t)return a;if(null===e)return n;var o=[];return o[0]=e,o[1]=t,o.sort(),e===o[0]?n:a},this.ok=function(e,i,n,a){if(v.cb()){var o=t.indexOf(v.rowlist,e),r=v.jk(e,o),s=(d=-1!==t.indexOf(E.selected,e))?"deselected":"selected",l={};if(l.row=r,l.selected=d,l.ctrl=i,l.shift=n,l.meta=a,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onRowSelect&&(v.onRowSelect(l),l.preventDefault.value))return;var c=n&&!i&&!a;switch(n||(E.un={row:e,index:o}),c&&(E.fixRowSelectLast(),E.selectRange(E.un.index,o)),v.rowSelectHandling){case"PostBack":v.rowSelectPostBack(r,s);break;case"CallBack":v.rowSelectCallBack(r,s);break;case"Notify":!c&&E.select(e,i,n,a),v.rowSelectNotify(r,s);break;case"Update":!c&&E.select(e,i,n,a)}"function"==typeof v.onRowSelected&&(l.selected=-1!==t.indexOf(E.selected,e),v.onRowSelected(l))}else{var d;switch(E.select(e,i,n),o=t.indexOf(v.rowlist,e),r=v.jk(e,o),s=(d=-1!==t.indexOf(E.selected,e))?"deselected":"selected",v.rowSelectHandling){case"PostBack":v.rowSelectPostBack(r,s);break;case"CallBack":v.rowSelectCallBack(r,s);break;case"Notify":v.rowSelectNotify(r,s);break;case"JavaScript":v.onRowSelect(r,s)}}},this.rowSelectPostBack=function(e,t,i){var n={};n.resource=e,n.change=t,this.fa("RowSelect",n,i)},this.rowSelectCallBack=function(e,t,i){var n={};n.resource=e,n.change=t,this.ha("RowSelect",n,i)},this.rowSelectNotify=function(e,t,i){var n={};n.resource=e,n.change=t,this.ha("RowSelect",n,i,"Notify")},this.rows={},this.rows.selection={};var S=this.rows.selection;S.P=[],S.get=function(){var e=[];return t.list(E.selected).forEach(function(t){e.push(v.jk(t))}),e},S.clear=function(){E.clearSelection()},S.add=function(e){if(!e||!e.isRow)throw new t.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected");t.list(E.selected).some(function(t){return t===e.$.row})||(E.selected.push(e.$.row),S.vn(),E.wn(e.$.row))},S.remove=function(e){if(!e||!e.isRow)throw new t.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected");S.isSelected(e)&&(t.rfa(E.selected,e.$.row),S.vn(),E.wn(e.$.row))},S.isSelected=function(e){if(!e||!e.isRow)throw new t.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected");return-1!==t.indexOf(E.selected,e.$.row)},S.vn=function(){v.selectedRows=t.list(E.selected).map(function(e){return e.id}),S.P=[],E.selected.forEach(function(e){S.P[e.index]=!0})},this.rows.all=function(){for(var e=t.list(),i=0;i<v.rowlist.length;i++){var n=v.jk(v.rowlist[i]);e.push(n)}return e},this.rows.visible=function(){for(var e=t.list(),i=0;i<v.rowlist.length;i++)if(!(n=v.rowlist[i]).hidden){var n=v.jk(v.rowlist[i]);e.push(n)}return e},this.rows.each=function(e){v.rows.all().forEach(e)},this.rows.forEach=function(e){v.rows.all().forEach(e)},this.rows.filter=function(e,t){v.rows.ve=e,t||v.S&&v.Ic({immediateEvents:!0})},Object.defineProperty(v.rows,"filterParam",{get:function(){return v.rows.ve}}),this.rows.sort=function(e){var i=v.rows.sortParam;if("string"==typeof e)v.rows.xn={field:e,order:"asc"};else if("object"==typeof e){var n=t.Util.copyProps(e);n.order||(n.order="asc"),v.rows.xn=n}else v.rows.xn=null;if(v.S&&v.Ic({immediateEvents:!0}),"function"==typeof v.onRowSorted){var a={};a.oldSortParam=i,v.onRowSorted(a)}},Object.defineProperty(v.rows,"sortParam",{get:function(){return{order:v.rows.yn(),field:v.rows.zn()}}}),this.rows.zn=function(){var e=v.rows.xn;return e?e.field:null},this.rows.yn=function(){var e=v.rows.xn;return e?e.order:"asc"},this.rows.find=function(e,i){if("string"==typeof e||"number"==typeof e||!e&&i){var n=v.nn(e);e||(n=v.rowlist);var a=null;return"string"==typeof i||i instanceof t.Date?(i=new t.Date(i),a=n.find(function(e){return i===e.start})):a=n.first(),a?new t.Row(a,v):null}if("function"!=typeof e)throw new t.Exception("Invalid rows.find() argument: id or function expected");var o=i||0,r=v.rowlist.find(function(t,i){return!(i<o)&&e(v.jk(t))});if(r)return v.jk(r)},this.rows.load=function(e,i,n){if(!e)throw new t.Exception("rows.load(): 'url' parameter required");var a=function(e){var t={};t.exception=e.exception,t.request=e.request,"function"==typeof n&&n(t)},o=function(e){var n,o=e.request;try{n=JSON.parse(o.responseText)}catch(e){var r={};return r.exception=e,void a(r)}if(t.isArray(n)){var s={preventDefault:function(){this.preventDefault.value=!0}};if(s.data=n,"function"==typeof i&&i(s),s.preventDefault.value)return;v.resources=s.data,v.S&&v.update()}};v.rowsLoadMethod&&"POST"===v.rowsLoadMethod.toUpperCase()?t.ajax({method:"POST",url:e,success:o,error:a}):t.ajax({method:"GET",url:e,success:o,error:a})},this.rows.expand=function(e){for(var t=[],i=e||1,n=0;n<v.rowlist.length;n++){var a=v.rowlist[n],o=-1===i;a.level<i&&(o=!0),o&&!a.expanded&&a.children&&a.children.length>0&&t.push(a.index)}if(0!==t.length)if(1===t.length)v.Yl(t[0]);else{for(n=0;n<t.length;n++)v.rowlist[t[n]].resource.expanded=!0;v.Ic()}},this.rows.expandAll=function(){v.rows.expand(-1)},this.rows.collapseAll=function(){v.rowlist.forEach(function(e){e.resource.expanded=!1}),v.Ic()},this.rows.headerHide=function(){v.An=!0,v.Bn(),v.Qm(),v.Ri()},this.rows.headerShow=function(){v.An=!1,v.Bn(),v.Qm(),v.Ri()},this.rows.headerToggle=function(){v.An?v.rows.headerShow():v.rows.headerHide()},this.rows.edit=function(e){E.edit(e.$.row)},this.rows.remove=function(e){if("number"!=typeof e&&"string"!=typeof e){var i=e.$.row.resource,n=A.findParentArray(i);if(!n)throw new t.Exception("Cannot find source node parent");var a=t.indexOf(n,i);n.splice(a,1),v.update()}else{var o=v.rows.find(e);if(!o)throw new t.Exception("The row to be removed was not found");v.rows.remove(o)}},this.rows.update=function(e){if(!(e instanceof t.Row))throw new t.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");var i=e.index,n=v.Kk(e.grid).rowlist,a=n[i],o=e.data,r=e.parent()?e.parent().$.row:null,s=v.Cn(o);(e=v.Dn(s,r)).hidden=a.hidden,e.level=a.level,e.children=a.children,e.index=i,e.top=a.top,e.height=a.height,e.grid=a.grid,n[i]=e,e.resetEvents(),v._i(e.index,e.grid),v.En(e),v.vl(e),v.Uj(e.index,e.grid),v.Zh(),v.ai()},this.En=function(e){for(var i=v.events.list,n=i.length,a="function"==typeof v.onBeforeEventRender,o=0;o<n;o++){var r=i[o];if(r){if(r instanceof t.Event)throw new t.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===v.viewType)throw new t.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===v.viewType)throw new t.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===r.resource||"*"===e.id||r.resource===e.id){a&&this.ne(o);var s=this.pl(r,e);s&&a&&(s.cache=this.P.events[o])}}}},this.Fn=function(){var e=d.source,t=d.target,i=d.position,n=d.sourceCalendar;if(E.resetMoving(),v.cb()){var a={};if(a.source=v.jk(e),a.source.calendar=n,a.target=v.jk(t),a.position=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onRowMove&&(v.onRowMove(a),a.preventDefault.value))return;switch(v.rowMoveHandling){case"Update":E.move(a);break;case"CallBack":v.rowMoveCallBack(a.source,a.target,a.position);break;case"PostBack":v.rowMovePostBack(a.source,a.target,a.position);break;case"Notify":E.move(a),v.rowMoveNotify(a.source,a.target,a.position)}"function"==typeof v.onRowMoved&&v.onRowMoved(a)}else switch(e=v.jk(e),t=v.jk(t),i=i,v.rowMoveHandling){case"CallBack":v.rowMoveCallBack(e,t,i);break;case"PostBack":v.rowMovePostBack(e,t,i);break;case"JavaScript":v.onRowMove(e,t,i)}},this.fi=function(e){var i=t.list(e);E.selected=[],i.isEmpty()||(v.Hh=!1,v.La()),i.forEach(function(e){var t=v.qi(e);t&&E.selected.push(t)}),E.Gn()},this.pk={};var E=this.pk;E.edit=function(e){E.Hn(e)},E.rowSelectLastSetDefault=function(){E.un={row:v.rowlist[0],index:0}},E.rowSelectSetLast=function(e){var i=t.indexOf(v.rowlist,e);if(-1===i)throw new t.Exception("DayPilot.Scheduler: Row not found when selecting a range");E.un={row:e,index:i}},E.fixRowSelectLast=function(){E.un||E.rowSelectLastSetDefault();var e=t.indexOf(v.rowlist,E.un.row);if(!(e>-1)){var i=v.qi(E.un.row.id);i?(e=t.indexOf(v.rowlist,i),E.un={row:i,index:e}):E.rowSelectLastSetDefault()}},E.createOverlay=function(e){var i=v.Lm(),n=v.G("_rowmove_source"),a=t.Util.div(v.divHeader,0,e.top,i,e.height);a.className=n,e.moveOverlay=a},E.deleteOverlay=function(e){e&&(t.de(e.moveOverlay),e.moveOverlay=null)},E.Hn=function(e){var i=E.In(e).cells[0];if(i.input)return i.input;t.Areas.disable(i.firstChild);var n=i.clientWidth;e.isNewRow&&(n=v.Ii());var a=document.createElement("input");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=n+"px",a.style.height=e.height-1+"px",a.style.border="0px none",a.style.overflow="hidden",a.style.boxSizing="border-box",a.style.resize="none",a.style.paddingLeft=e.level*v.treeIndent+"px",a.style.outline="none";var o=i.textDiv;a.style.fontFamily=t.gs(o,"fontFamily")||t.gs(o,"font-family"),a.style.fontSize=t.gs(o,"fontSize")||t.gs(o,"font-size"),a.value=e.name||"",i.firstChild.appendChild(a),i.input=a;var r=function(){try{i.input.parentNode.removeChild(i.input)}catch(e){}i.input=null};return a.focus(),a.onblur=function(){a.onblur=null;var n=a.value;r(),t.Areas.enable(i.firstChild),v.lk(e,n,a.canceled)},a.onkeydown=function(e){var t=e.keyCode;return 27===t&&(a.canceled=!0,r()),13!==t||(a.onblur(),!1)},a.setSelectionRange?a.setSelectionRange(0,9999):a.select(),a},E.selected=[],E.select=function(e,i,n,a){var o=-1!==t.indexOf(E.selected,e);if(i||a){if(o)return t.rfa(E.selected,e),S.vn(),void E.wn(e)}else o=!1,E.clearSelection();o||E.selected.push(e),S.vn(),E.wn(e)},E.selectRange=function(e,t){E.clearSelection();for(var i=Math.min(e,t),n=Math.max(e,t),a=i;a<=n;a++)E.selected.push(v.rowlist[a]);for(S.vn(),a=i;a<=n;a++)E.wn(v.rowlist[a])},E.Gn=function(){for(var e=0;e<E.selected.length;e++)E.wn(E.selected[e])},E.wn=function(e){var i=t.indexOf(v.rowlist,e);if(-1===i){var n=v.qi(e.id);if(!n)return;i=n.index}v.$j(i),v.ai(),v.Lk(i),v.Sm(i)},E.wk=function(){var e=[];if(!E.selected)return e;for(var i=0;i<E.selected.length;i++){var n=E.selected[i],a=t.indexOf(v.rowlist,n),o=v.jk(n,a);e.push(o.toJSON())}return e},E.un=null,E.clearSelection=function(){var e=E.selected;if(E.selected=[],v.selectedRows=[],S.P=[],e.length<=5)e.forEach(function(e){E.wn(e)});else{v.Zh(),v.ai();for(var t=0;t<v.rowlist.length;t++)v.divHeader.rows[t]&&v.Uj(t)}},E.In=function(e){for(var t=v.divHeader,i=0;i<t.rows.length;i++){var n=t.rows[i];if(n&&n.cells[0]&&n.cells[0].row===e)return n}return null},E.Jn=function(e){var i=t.Global.rowmoving;i.row=e,i.sourceCalendar=v,i.cursor=v.divResScroll.style.cursor,v.divResScroll.style.cursor="move",E.createOverlay(e)},E.resetMoving=function(){v.divResScroll.style.cursor=d.cursor,t.de(d.div),E.deleteOverlay(d.row),t.Global.rowmoving=d={}},E.Kn=function(e){var i=t.mo3(v.divHeader,e),n=v.Dk(i.y),a=v.rowlist[n.i];if(a&&!a.isNewRow){var o=i.y-n.top,r=n.bottom-n.top,s=r/3,l=2*s,h=r/2,u="before",f=a.children&&a.children.length>0,p=f&&a.expanded;if(u=function(){for(var e=n.i,t=a.level;e>=0;){var i=v.rowlist[e];if(e--,!(t<=i.level)){if(i===d.row)return!0;if(0===i.level)return!1;t=i.level}}return!1}()||n.i===d.row.index?"forbidden":v.treeEnabled?f&&p?o<h?"before":"child":o<s?"before":o<l?"child":"after":f||o<h?"before":"after",d.row.moveDisabled&&(u="forbidden"),d.calendar=v,d.source=d.row,d.target=v.rowlist[n.i],d.position=u,d.last&&d.last.target===d.target&&d.last.position===d.position)d.last&&(d.position=d.last.position);else if("function"==typeof v.onRowMoving){var m={};m.source=v.jk(d.source),m.target=v.jk(d.target),m.position=u,v.onRowMoving(m),d.position=m.position}d.last={},d.last.target=d.target,d.last.position=d.position,function(){d.div&&t.de(d.div);var e=n.top,i=d.position,a=v.rowlist[n.i].level*v.treeIndent;switch(i){case"before":e=n.top;break;case"child":e=n.top+h;break;case"after":e=n.bottom;break;case"forbidden":e=n.top+h}var o=v.Lm()-a,r=c();r.style.position="absolute",r.style.left=a+"px",r.style.width=o+"px",r.style.top=e+"px",r.className=v.G("_rowmove_position_"+i),d.div=r,v.divResScroll.appendChild(r)}()}},E.move=function(e){var i=e.source.$.row.resource,n=e.target.$.row.resource,a=e.position;if("forbidden"!==a){var o=e.source.calendar.Ln.findParentArray(i);if(!o)throw new t.Exception("Cannot find source node parent");var r=t.indexOf(o,i);o.splice(r,1);var s=A.findParentArray(n);if(!s)throw new t.Exception("Cannot find target node parent");var l=t.indexOf(s,n);switch(a){case"before":s.splice(l,0,i);break;case"after":s.splice(l+1,0,i);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(i)}v.update()}};var T={};this.Mn=T,T.uf=function(e){};var A={};this.Ln=A,A.findParentArray=function(e){return A.findInArray(v.resources,e)},A.findInArray=function(e,i){if(-1!==t.indexOf(e,i))return e;for(var n=0;n<e.length;n++){var a=e[n];if(a.children&&a.children.length>0){var o=A.findInArray(a.children,i);if(o)return o}}return null},this.Th=function(){var e=this.resources,i=this.I();if(i||("Gantt"===this.viewType?e=this.Nn():"Days"===this.viewType&&(e=this.On())),!i||"Days"!==this.viewType||e&&0!==e.length||(e=this.On()),null!=e&&!t.isArray(e))throw new t.Exception("DayPilot.Scheduler.resources expects an array object");var n=(e=e||[]).filter(function(e){return"top"!==e.frozen&&"bottom"!==e.frozen});v.rowlist=t.list(),this.Pn(n,{i:0},0,null,this.treeEnabled,!1,"main");var a=e.filter(function(e){return"string"==typeof e.frozen&&"top"===e.frozen.toLowerCase()});v.Pi.top.rowlist=t.list(),v.Pi.top.height=0,this.Pn(a,{i:0},0,null,!1,!1,"top");var o=e.filter(function(e){return"string"==typeof e.frozen&&"bottom"===e.frozen.toLowerCase()});v.Pi.bottom.rowlist=t.list(),v.Pi.bottom.height=0,this.Pn(o,{i:0},0,null,!1,!1,"bottom"),"Disabled"!==v.rowCreateHandling&&this.Qn()},this.Qn=function(){var e={id:"NEW",isNewRow:!0,html:""};e.index=v.rowlist.length,e.loaded=!0,e.start=this.startDate,e.children=[],e.height=v.eventHeight,e.marginBottom=0,e.marginTop=0,e.getHeight=function(){return v.rowCreateHeight?v.rowCreateHeight:v.eventHeight+v.rowMarginBottom+v.rowMarginTop},e.putIntoLine=function(){},e.resetEvents=function(){},this.rowlist.push(e)},this.Nn=function(){var e=[];if(this.Oh&&this.resources)for(var t=0;t<this.resources.length;t++)e.push(this.resources[t]);if(this.events.list){for(t=0;t<this.events.list.length;t++){var i=this.events.list[t],n={};n.id=i.id,n.name=i.text,n.columns=i.columns,e.push(n)}return e}},this.On=function(){for(var e=[],t=v.kb(),i=this.ea.gj(),n=0;n<this.days;n++){var a=t.addDays(n);if(v.showNonBusiness||v.businessWeekends||0!=a.dayOfWeek()&&6!=a.dayOfWeek()){var o={};o.name=a.toString(i.datePattern,i),o.start=a,e.push(o)}}return e},this.kb=function(){return this.itline&&this.itline.length>0?this.itline[0].start:new t.Date(this.startDate)},this.ej=function(){if(this.itline&&this.itline.length>0){var e=v.itline[this.itline.length-1].end;return"Days"!==v.viewType?e:e.addDays(v.days-1)}return new t.Date(v.startDate).addDays(v.days)},this.visibleStart=function(){return this.kb()},this.visibleEnd=function(){return this.ej()},this.Dn=function(e,i){var n={};if(n.backColor=e.backColor,n.fontColor=e.fontColor,n.cssClass=e.cssClass,n.expanded=e.expanded,n.name=e.name,n.html=v.ca(e.name,e.html),n.eventHeight=void 0!==e.eventHeight?e.eventHeight:v.ea.Ok(),n.minHeight=void 0!==e.minHeight?e.minHeight:v.rowMinHeight,n.marginBottom=void 0!==e.marginBottom?e.marginBottom:v.rowMarginBottom,n.marginTop=void 0!==e.marginTop?e.marginTop:v.rowMarginTop,n.eventStackingLineHeight=void 0!==e.eventStackingLineHeight?e.eventStackingLineHeight:v.eventStackingLineHeight,n.loaded=!e.dynamicChildren,n.id=e.id||e.value,n.toolTip=e.toolTip,n.children=[],n.columns=[],n.start=e.start?new t.Date(e.start):this.kb(),n.isParent=e.isParent,n.contextMenu=e.contextMenu?t.Util.evalVariable(e.contextMenu):this.contextMenuResource,n.areas=e.areas,n.moveDisabled=e.moveDisabled,n.bubbleHtml=e.bubbleHtml,n.cellsDisabled=e.cellsDisabled,n.tags=e.tags,n.task=e.task,n.swimlane=e.swimlane,n.hideEvents=e.hideEvents,n.height=n.eventHeight,n.level=0,n.resource=e.Rn,n.lines=[],n.blocks=[],n.containers=[],n.containerCache={},n.isRow=!0,n.getHeight=function(){var e=0;if(v.groupConcurrentEvents)for(var t=0;t<this.blocks.length;t++)e=Math.max(e,this.blocks[t].getHeight());else if(this.lines.length>0){var i=this.lines[this.lines.length-1];e=(i.top||0)+(i.height||this.eventHeight)}return 0===e&&(e=this.eventHeight),e>this.minHeight?e:this.minHeight},n.Nl=function(){var e=n.start.getTime()-v.kb().getTime();return v.itline[v.itline.length-1].end.addTime(e)},n.resetEvents=function(){var e=this;e.events=t.list(),e.events.forRange=function(i,n){i=new t.Date(i),n=n?new t.Date(n):e.Nl();for(var a=t.list(),o=0;o<e.events.length;o++){var r=e.events[o],s=v.zg(r.end());t.Util.overlaps(r.start(),s,i,n)&&a.push(r)}return a}},n.calculateUtilization=function(){for(var e=this,i=e.sections=function(){for(var i=function(){for(var i=[],n=0;n<e.events.length;n++){var a=e.events[n];t.contains(i,a.start().toString())||i.push(a.start().toString()),t.contains(i,a.rawend().toString())||i.push(a.rawend().toString())}return i.sort(),i}(),n=[],a={start:e.data.start},o=0;o<i.length;o++)a.end=new t.Date(i[o]),n.push(a),a={start:new t.Date(i[o])};return a.end=e.data.end,n.push(a),n.forRange=function(e,i){for(var n=t.list(),a=0;a<this.length;a++){var o=this[a];t.Util.overlaps(e,i,o.start,o.end)&&n.push(o)}return n.maxSum=function(e){for(var t=0,i=0;i<this.length;i++){var n=this[i].sum(e);n>t&&(t=n)}return t},n},n}(),n=0;n<i.length;n++){var a=i[n];a.events=t.list();for(var o=0;o<e.events.length;o++){var r=e.events[o];t.Util.overlaps(a.start,a.end,r.start(),r.rawend())&&a.events.push(r)}a.sum=function(e){for(var t=0,i=0;i<this.events.length;i++){var n=this.events[i],a=0;void 0===e?a=1:n.tag(e)?a=n.tag(e):n.data[e]&&(a=n.data[e]),"number"==typeof a&&(t+=a)}return t}}},n.Sn=function(){var e=[];return e.height=0,e.add=function(t){this.push(t);var i=t.part.sn();i>e.height&&(e.height=i)},e.isFree=function(e,i,n){for(var a=e+i-1,o=this.length,r=0;r<o;r++){var s=this[r];if(!(a<s.part.left||e>s.part.left+s.part.width-1)){if(t.contains(n,s.data))continue;return!1}if(s.part.container&&!(a<s.part.container.left||e>s.part.container.left+s.part.container.width-1))return!1;if(v.eventVersionsReserveSpace&&!(a<s.part.versionsLeft||e>s.part.versionsRight-1))return!1}return!0},e},n.findFreeLine=function(e,t,i){if("number"==typeof i){for(var a=0;a<=i;a++)this.lines[a]||(this.lines[a]=n.Sn());return i}if("dedicated"===i)return(o=n.Sn()).isFree=function(){return!1},this.lines.push(o),this.lines.length-1;for(a=0;a<this.lines.length;a++)if((o=this.lines[a]).isFree(e,t))return a;var o=n.Sn();return this.lines.push(o),this.lines.length-1},n.putIntoLine=function(e){var t=e.part.container;if(t){if(null===t.line&&("number"==typeof e.data.line||"dedicated"===e.data.line))return i=n.findFreeLine(t.left,t.width,e.data.line),this.lines[i].add(e),t.line=i,i}else if("number"==typeof e.data.line||"dedicated"===e.data.line)return i=n.findFreeLine(e.part.left,e.part.width,e.data.line),this.lines[i].add(e),i;var i=-1;if(t){if(null!==t.line)return this.lines[t.line].add(e),t.line;i=n.findFreeLine(t.left,t.width),t.line=i}else i=v.eventVersionsReserveSpace?n.findFreeLine(e.part.versionsLeft,e.part.versionsWidth):n.findFreeLine(e.part.left,e.part.width);return this.lines[i].add(e),i},n.putIntoBlock=function(e){for(var i=0;i<this.blocks.length;i++){if(-1!==t.indexOf((n=this.blocks[i]).events,e))return;if(n.overlapsWith(e.part.left,e.part.width))return n.events.push(e),e.part.block=n,n.min=Math.min(n.min,e.part.left),n.max=Math.max(n.max,e.part.left+e.part.width),i}var n;(n={expanded:!1}).row=this,n.events=t.list(),n.lines=t.list(),n.putIntoLine=function(e){for(var t=0;t<this.lines.length;t++)if((i=this.lines[t]).isFree(e.part.left,e.part.width))return i.add(e),t;var i;(i=[]).height=0,i.add=function(e){this.push(e),e.part.height>i.height&&(i.height=e.part.height)},i.isFree=function(e,t){for(var i=e+t-1,n=this.length,a=0;a<n;a++){var o=this[a];if(!(i<o.part.left||e>o.part.left+o.part.width-1))return!1}return!0},i.add(e),this.lines.push(i)},n.overlapsWith=function(e,t){return!(e+t-1<this.min||e>this.max-1)},n.getHeight=function(){if(!this.expanded)return v.eventHeight;if(this.lines.length>0){var e=this.lines[this.lines.length-1];return(e.top||0)+(e.height||v.eventHeight)}return v.eventHeight},n.clear=function(){n.events=t.list(),n.min=null,n.max=null},n.events.push(e),e.part.block=n,n.min=e.part.left,n.max=e.part.left+e.part.width,this.blocks.push(n)},n.Tn=!1,n.Un=i,n.Oc=function(){this.hidden=!this.Vn(),this.Tn=!1,this.Un&&this.Un.Oc()},n.Vn=function(){return!this.Un||this.Un.Vn()&&this.Un.expanded},e.columns)for(var a=0;a<e.columns.length;a++)n.columns.push(e.columns[a]);return n},this.Mj=function(){v.rowlist.forEach(function(e){if(!e.isNewRow&&"function"==typeof v.onRowFilter&&v.rows.ve){var t=e.Un,i={visible:!0};i.row=v.jk(e),i.filter=v.rows.ve,i.filterParam=v.rows.ve,i.control=v,v.onRowFilter(i),e.Tn=!i.visible,i.visible?v.rowFilterParentsAlwaysVisible&&t&&t.Oc():e.hidden=!0}})},this.Wn=function(e){return!e.some(function(e){return e.children&&e.children.length})},this.Xn=function(e){return!e.some(function(e){return!e.children||0===e.children.length})},this.Kk=function(e){return v.Pi[e=e||"main"]},this.Pn=function(e,i,n,a,o,r,s){if(e){var l=!1;if(v.rows.xn)switch(v.rowSortingMode){case"LeavesOnly":l=v.Wn(e);break;case"ParentsOnly":l=v.Xn(e)}if(l){var c=v.rows.zn(),d="desc"===v.rows.yn(),h=t.list(e,!0);h.sort(function(e,t){var i,n=v.Xm(e,c),a=v.Xm(t,c);return i=n===a?0:"number"==typeof n&&"number"==typeof a?n-a:v.ye(n,a,"asc"),d?-i:i}),e=h}for(var u=v.Kk(s).rowlist,f=0;f<e.length;f++)if(e[f]){var p={};if(p.level=n,p.hidden=r,p.index=i.i,!e[f].hidden){var m=this.Cn(e[f],p),g=v.Dn(m,a);r&&(g.hidden=!0),g.level=n,g.index=i.i,g.grid=s||"main",null!==a&&a.children.push(i.i),u.push(g),i.i++,o&&m.children&&m.children.length&&this.Pn(m.children,i,n+1,g,!0,r||!g.expanded,s)}}}},this.Yn=["text","html","backColor","cssClass","areas","horizontalAlignment","hidden"],this.lm=function(e){if(e.isNewRow)return{row:{cssClass:v.G("_row_new"),moveDisabled:!0,html:v.rowCreateHtml||""}};var i={};i.row=this.jk(e),t.Util.copyProps(e,i.row,["html","backColor","fontColor","cssClass","toolTip","contextMenu","moveDisabled"]),i.row.columns=t.Util.createArrayCopy(e.columns,v.Yn),i.row.areas=t.Util.createArrayCopy(e.areas);var n=v.rowHeaderColumns;if(void 0===i.row.columns&&n.length>0){r.columns=[];for(var a=0;a<n.length;a++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(i),i},this.Cn=function(e,t){var i=this.Zn(e,t);if("function"==typeof this.onBeforeResHeaderRender){var n={};n.resource=i,this.onBeforeResHeaderRender(n)}return i},this.Zn=function(e,t){var i={get $data(){return this.Rn}};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];if(i.html=v.ca(e.name,e.html),v.rowHeaderColumns&&v.rowHeaderColumns.length>0&&void 0===i.columns){i.columns=[];var a=v.rowHeaderColumns;if(v.Sj()){for(var o=0;o<a.length;o++){var r=v.Xm(e,a[o].display);i.columns.push({text:r})}i.columns[0]&&a[0]&&!a[0].display&&(i.columns[0].text=i.name)}else for(o=0;o<a.length;o++)i.columns.push({})}return i.Rn=e,i},this.Kj=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",t.Util.addClass(this.nav.top,this.G("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.Bh,this.nav.top.onmouseout=function(){v.$l()},this.nav.top.ontouchstart=H.$n,this.nav.top.ontouchmove=H._n,this.nav.top.ontouchend=H.ao,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var e=this.Ii(),i="Top"===v.timeHeaderPosition;if(v.Jj=v.timeHeaderPosition,"DivBased"===this.ea.bo()){var n=c();n.style.position="absolute",n.style.left="0px",n.style.width=e+"px";var a=c();a.style.height="1px",a.className=this.G("_divider_horizontal"),this.nav.dh1=a,this.nav.left=n,"Top"===v.timeHeaderPosition?(n.appendChild(this.Ad()),n.appendChild(a),n.appendChild(this.co()),v.Pi.top.enabled(),n.appendChild(this.do()),n.appendChild(this.eo())):"Bottom"===v.timeHeaderPosition?(n.appendChild(this.co()),n.appendChild(a),n.appendChild(this.Ad())):n.appendChild(this.co());var o=c();o.style.position="absolute",o.style.left=e+"px",o.style.width=O.Ji()+"px",o.style.height=this.Ki()+this.dd()+"px",o.className=this.G("_divider")+" "+this.G("_splitter"),o.setAttribute("unselectable","on"),this.nav.divider=o,this.rowHeaderScrolling&&this.fo();var r=c();r.style.marginLeft=e+O.Ji()+"px",r.style.marginRight="1px",r.style.position="relative",this.nav.right=r;var s=c();s.style.height="1px",i&&(s.style.position="absolute",s.style.top=this.Ki()+"px"),s.style.width="100%",s.className=this.G("_divider_horizontal"),this.nav.dh2=s,"Top"===v.timeHeaderPosition?(r.appendChild(v.go()),r.appendChild(s),r.appendChild(v.ho()),v.Pi.top.enabled(),r.appendChild(v.io()),r.appendChild(v.jo())):"Bottom"===v.timeHeaderPosition?(r.appendChild(v.ho()),r.appendChild(s),r.appendChild(v.go())):r.appendChild(v.ho());var l=c();l.style.clear="left";var d=c();d.style.height="1px",d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.display="none",d.className=this.G("_divider_horizontal")+" "+this.G("_divider_horizontal_frozen_top"),d.onmousemove=function(e){e.cancelBubble=!0},this.nav.dividerTop=d;var h=c();h.style.height="1px",h.style.position="absolute",h.style.left="0px",h.style.right="0px",h.style.display="none",h.className=this.G("_divider_horizontal")+" "+this.G("_divider_horizontal_frozen_bottom"),h.onmousemove=function(e){e.cancelBubble=!0},this.nav.dividerBottom=h,this.nav.top.appendChild(n),this.nav.top.appendChild(o),this.nav.top.appendChild(r),this.nav.top.appendChild(l),this.nav.top.appendChild(d),this.nav.top.appendChild(h)}else{var u=document.createElement("table");u.cellPadding=0,u.cellSpacing=0,u.border=0,u.style.position="absolute";var f=u.insertRow(-1);f.insertCell(-1).appendChild(this.Ad()),f.insertCell(-1).appendChild(this.go());var p=u.insertRow(-1);p.insertCell(-1).appendChild(this.co()),p.insertCell(-1).appendChild(this.ho()),this.nav.top.appendChild(u)}if(this.tg=c(),this.tg.style.display="none",this.nav.top.appendChild(this.tg),this.ma()){var m=document.createElement("input");m.type="hidden",m.id=this.id+"_state",m.name=this.id+"_state",this.nav.state=m,this.nav.top.appendChild(m)}var g=c();g.style.position="absolute",g.style.left=this.Ii()+O.Ji()+5+"px",g.style.top=this.Ki()+5+"px",g.style.display="none",g.innerHTML=v.ca(this.loadingLabelText,this.loadingLabelHtml),t.Util.addClass(g,this.G("_loading")),this.nav.loading=g,this.nav.top.appendChild(g),this.ko(),v.lo()},this.Bh=function(e){if(d.row)E.Kn(e);else if(s.mo){var i=t.mo3(v.nav.top,e).x,n=v.Lm(),a=i-1;v.rowHeaderCols&&(a=Math.min(n,i-1)),a=Math.max(0,a),v.rowHeaderWidth=a,v.An=!1,v.rowHeaderCols||v.no(),v.Bn(),v.gi(),v.Nd()}},this.Na=function(){var e=this.Ki(),t="Top"===v.timeHeaderPosition;this.nav.corner&&(this.nav.corner.style.height=e+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=e+"px"),this.divNorth&&(this.divNorth.style.height=e+"px"),this.nav.dh1&&this.nav.dh2&&t&&(this.nav.dh1.style.top=e+"px",this.nav.dh2.style.top=e+"px"),this.nav.loading.style.top=e+5+"px",t&&(this.nav.scroll.style.top=e+1+"px")},this.Ii=function(){if(this.An)return 0;var e=this.rowHeaderScrolling,t=this.Lm();return e&&this.rowHeaderWidth<t?this.rowHeaderWidth:t},this.fo=function(){var e=this.nav.divider;e.style.cursor="col-resize",e.setAttribute("unselectable","on"),e.onmousedown=function(e){var t=s.mo={};return t.cursor=v.nav.top.style.cursor,t.cleanup=function(){v.Qm(),v.nav.top.style.cursor=t.cursor,"function"==typeof v.onRowHeaderResized&&v.onRowHeaderResized({})},v.nav.top.style.cursor="col-resize",!1}},this.Bn=function(){var e=O.Ji(),i=this.Ii();if(this.nav.corner&&(this.nav.corner.style.width=i+"px"),this.nav.corner&&(this.divCorner.style.width=i+"px"),this.divResScroll.style.width=i+"px","DivBased"===O.bo()&&(this.nav.left.style.width=i+"px",this.nav.divider.style.left=i-e+"px",this.nav.right.style.marginLeft=i+"px"),this.nav.message&&(this.nav.message.style.left=v.Hi()+"px"),this.nav.loading&&(this.nav.loading.style.left=i+e+5+"px"),this.nav.hideIcon){var n=this.nav.hideIcon,a=v.G("_header_icon_show"),o=v.G("_header_icon_hide");n.style.left=i-1+"px",v.An?(t.Util.removeClass(n,o),t.Util.addClass(n,a)):(t.Util.removeClass(n,a),t.Util.addClass(n,o))}},this.no=function(){this.Km();var e=this.Lm(),t=function(e,t,i){if(e&&e.style){var n=e.firstChild;v.Rm?(e.style.width=t+"px",n.style.width=t+"px","number"==typeof i&&(e.style.left=i+"px")):n.style.width=t+"px"}},i=function(i){if((r=i.cells[0]).colSpan>1||"max"===r.colSpan)t(r=i.cells[0],e);else if(v.rowHeaderCols)for(var n=0,a=0;a<i.cells.length;a++)t(r=i.cells[a],o=v.rowHeaderCols[a],n),n+=o;else{var o,r;t(r=i.cells[0],o=v.rowHeaderWidth)}},n=this.divHeader;n.style.width=e+"px";for(var a=v.Mm(),o=a.start;o<a.end;o++)(r=n.rows[o])&&i(r);if(v.Pi.top.enabled())for(o=0;o<v.Pi.top.rowlist.length;o++)i(r=v.Pi.top.divHeader.rows[o]);if(v.Pi.bottom.enabled())for(o=0;o<v.Pi.bottom.rowlist.length;o++){var r;i(r=v.Pi.bottom.divHeader.rows[o])}v.nav.resScrollSpace&&(v.nav.resScrollSpace.style.width=e+"px"),v.Pi.bottom.enabled()&&(v.Pi.bottom.divSpace.style.width=e+"px"),this.Ba()},this.Gj=function(){this.Bn(),this.no()},this.Fj=function(){var e=v.nav.corner,i=O.km(),n=c();n.style.position="absolute",n.style.bottom="0px",n.style.left="0px",n.style.width="100%",n.style.height=O.oo()+"px",n.style.overflow="hidden",v.nav.columnScroll=n;var a=c();a.style.position="absolute",a.style.bottom="0px",a.style.left="0px",a.style.width="5000px",a.style.height=O.oo()+"px",a.style.overflow="hidden",a.className=this.G("_columnheader"),n.appendChild(a);var o=c();o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.className=this.G("_columnheader_inner"),a.appendChild(o),v.Jk&&(v.Jk.dispose(),v.Jk=null);var r=[];i.forEach(function(e){var t={column:{}};t.column.html=v.ca(e.text||e.name||e.title,e.html),t.column.areas=null,t.column.sortingEnabled=!!e.sort,t.column.data=e,r.push(t),"function"==typeof v.onBeforeRowHeaderColumnRender&&v.onBeforeRowHeaderColumnRender(t)});var s=new t.Splitter(o);s.enabled=v.rowHeaderColumnsResizable,s.widths=t.Util.propArray(i,"width",v.rowHeaderColumnDefaultWidth),s.height=O.oo(),s.css.title=this.G("_columnheader_cell"),s.css.titleInner=this.G("_columnheader_cell_inner"),s.css.splitter=this.G("_columnheader_splitter");var l=v.rows.zn(),d=v.rows.yn();s.titles=t.list(r).map(function(e){var i=e.column.data,n=e.column.html,a={areas:[]};if(i.sort&&e.column.sortingEnabled){var o=v.G("_sorticon");l===i.sort?(o+=" "+v.G("_sorticon_active"),o+="asc"===d?" "+v.G("_sorticon_asc"):" "+v.G("_sorticon_desc")):o+=" "+v.G("_sorticon_asc"),a.areas=[{right:5,top:0,bottom:0,width:10,cssClass:o,onClick:function(e){var t={};t.field=i.sort,t.order=l===i.sort&&"asc"===v.rows.yn()?"desc":"asc",v.rows.sort(t)}}]}return t.isArray(e.column.areas)&&(a.areas=a.areas.concat(e.column.areas)),a.html=n,a}),s.data=t.list(i,!0),s.updating=function(e){v.ki.skip=!0,t.Util.updatePropsFromArray(O.km(),"width",this.widths),v.Gj()},s.updated=function(e){if(v.Qm(),v.cb())"function"==typeof v.onRowHeaderColumnResized&&((t={}).column=O.km()[e.index],v.onRowHeaderColumnResized(t));else switch(v.rowHeaderColumnResizedHandling){case"CallBack":case"PostBack":break;case"JavaScript":var t;"function"==typeof v.onRowHeaderColumnResized&&((t={}).column=O.km()[e.index],v.onRowHeaderColumnResized(t))}},s.color="#000000",s.opacity=30,s.init(),e.appendChild(n),this.Jk=s},this.Vh=function(){var e=this.nav.corner;if(e){v.ta(),e.innerHTML="",e.className=this.G("_corner");var i=c();if(i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom="0px",i.className=this.G("_corner_inner"),this.divCorner=i,i.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var n=c();n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.right="0px",n.style.bottom=O.oo()+1+"px",e.appendChild(n);var a=c();a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.height="1px",a.style.bottom=O.oo()+"px",a.className=this.G("_divider"),e.appendChild(a),n.appendChild(i),this.Fj()}else e.appendChild(i);!function(){var e={};e.control=v,e.html=v.ca(v.cornerText,v.cornerHtml),e.areas=null;var i=null;if("function"==typeof v.onBeforeCornerRender&&v.onBeforeCornerRender(e),"function"==typeof v.onBeforeCornerDomAdd&&(e.element=null,v.onBeforeCornerDomAdd(e),i=e.element),i){var n=v.divCorner;if(n.domArgs=e,t.Util.isReactComponent(i)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.render(i,n)}else n.appendChild(i)}else v.divCorner&&(v.divCorner.innerHTML=e.html||"");e.areas&&t.Areas.attach(v.nav.corner,{},{areas:e.areas})}();var o=c();o.style.position="absolute",o.style.padding="2px",o.style.top="0px",o.style.left="1px",o.style.backgroundColor="#FF6600",o.style.color="white",o.innerHTML="DEMO",t.Util.isNullOrUndefined(void 0)&&e.appendChild(o)}},this.ko=function(){var e=this.Ii()+O.Ji()-1,i=this.Ki()+3,n=t.Util.div(this.nav.top,e,i,10,20);n.style.cursor="pointer",n.className=v.G("_header_icon"),t.Util.addClass(n,v.G("_header_icon_hide")),n.onclick=function(){v.rows.headerToggle()},this.nav.hideIcon=n},this.Nj=function(){var e=v.nav.hideIcon,t=v.Ki()+3;e&&(e.style.display=v.rowlist.length>0&&v.rowHeaderHideIconEnabled?"":"none",e.style.top=t+"px")},this.Ad=function(){var e=this.Ii(),t=c();return v.nav.corner=t,t.style.width=e+"px",t.style.height=this.Ki()+"px",t.style.overflow="hidden",t.style.position="relative",t.setAttribute("unselectable","on"),t.onmousemove=function(){v.Aa()},t.oncontextmenu=function(){return!1},this.Vh(),t},this.Ki=function(){if("None"===v.timeHeaderPosition)return 0;if(v.timeHeaders){var e=L.nm(v.timeHeaders.length-1);return e.top+e.height}return this.timeHeader?v.timeHeader.length*O.oo():0},this.po=null,this.qo=function(){return v.scrollStep||v.eventHeight},this.co=function(){var e=c();e.style.width=this.Ii()+"px",e.style.height=this.dd()+"px",e.style.overflow="hidden",e.style.position="relative",e.className=v.G("_rowheader_scroll");var t=v.qo(),i=v.ea.Wm();i&&(e.style.overflowY="auto"),e.onmousemove=function(){v.Aa()},e.ontouchstart=function(){s.ro=!0},e.addEventListener("wheel",function(i){var n;0!==v.so()&&(n=v.overrideWheelScrolling||v.scrollStep?i.deltaY>0?t:-t:1===i.deltaMode?i.deltaY*O.uo()*1.7:i.deltaY,v.nav.scroll.scrollTop=e.scrollTop+n,i.preventDefault())},!1),e.oncontextmenu=function(){return!1},e.onscroll=function(){if(v.po&&clearTimeout(v.po),i){var t=function(){var t=v.cm()-v.nav.scroll.offsetHeight;e.scrollTop=Math.min(e.scrollTop,t),v.nav.scroll.scrollTop=e.scrollTop};o?s.ro&&(v.po=setTimeout(t,10)):v.po=setTimeout(t,10)}else v.po=setTimeout(function(){v.nav.scroll.scrollTop=e.scrollTop},500)},v.vo(e),e.setAttribute("role","region"),e.setAttribute("aria-label","scheduler rows");var n=c();return n.onmousemove=function(){v.Aa()},this.divHeader=n,e.appendChild(n),this.divResScroll=e,this.Oi=e,e},this.vo=function(e){e.addEventListener("scroll",function(){v.rowHeaderScrolling&&(v.nav.columnScroll&&(v.nav.columnScroll.scrollLeft=e.scrollLeft),v.Pi.top.enabled()&&(v.Pi.top.divHeader.scrollLeft=e.scrollLeft),this!==v.divResScroll&&(v.divResScroll.scrollLeft=e.scrollLeft))}),e.onmouseenter=function(){v.rowHeaderScrolling&&(e.style.overflowX="auto")},e.onmouseleave=function(){v.rowHeaderScrolling&&(e.style.overflowX="hidden")}},this.wo=function(e){if("TableBased"===O.bo()){var t=parseInt(this.width,10),i=isNaN(t)||-1!==this.width.indexOf("%"),n=(/MSIE/i.test(navigator.userAgent),this.Lm());i?this.nav.top&&this.nav.top.offsetWidth>0&&(e.style.width=this.nav.top.offsetWidth-6-n+"px"):e.style.width=t-n+"px"}},this.Gf=function(e){"function"!=typeof ResizeObserver&&(v._a(),v.gi())},this._a=function(){v.T||("TableBased"===v.ea.bo()&&(v.wo(v.nav.scroll),v.wo(v.divTimeScroll)),v.Ua(),v.Qm(),v.xo(),v.P.drawArea=null)},this.ke=null,this.le=null,this.na=null,this.fe=function(){var e=function(){v._a(),v.gi(null,{dontHideBubble:!0})};if(v.watchWidthChanges){if("function"==typeof ResizeObserver){if(v.na)return;var t=new ResizeObserver(function(){return v.ke?(v.ke.width!==v.nav.top.offsetWidth&&(v.ke.changed=!0,v.ke.width=v.nav.top.offsetWidth),void(v.ke.changed&&(v.ke.changed=!1,e()))):(v.ke={},v.ke.changed=!1,void(v.ke.width=v.nav.top.offsetWidth))});return t.observe(v.nav.top),void(v.na=t)}if(!v.le){var i=function(){return v.nav&&v.nav.top?v.ke?(v.ke.width!==v.nav.top.offsetWidth&&(v.ke.changed=!0,v.ke.counter=0,v.ke.width=v.nav.top.offsetWidth),v.ke.changed&&(v.ke.counter+=1),void(v.ke.changed&&v.ke.counter>0&&(v.ke.changed=!1,e()))):(v.ke={},v.ke.counter=0,v.ke.changed=!1,void(v.ke.width=v.nav.top.offsetWidth)):void clearInterval(v.le)};this.le=setInterval(i,200),i()}}},this.xo=function(){var e=v.ek;v.clearSelection(),v.ek=e,v.fk(e,{justDraw:!0})},this.Qm=function(){"Auto"===v.cellWidthSpec&&(v.ma()&&v.Zh(),v.S&&(v.Rh(),v.Sh(),v.Wh(),v.Zh(),v.$h(),v.pa(),v.Ma(),v.Xh(),v.Yh(),v.yj(),v.Za(),v.ai(),v.bi(),v.Ua()))},this.Rh=function(){if("Auto"===this.cellWidthSpec){var e=this.nav.top.clientWidth-this.Ii()-v.so();if(this.gm()){var t=e/this.gm();this.cellWidth=Math.max(t,v.cellWidthMin),v.Ni=t<v.cellWidthMin}}},this.so=function(){return"Auto"===v.heightSpec?0:"Max"===v.heightSpec||"Fixed"===v.heightSpec||"Parent100Pct"===v.heightSpec?v.cm()>v.height?t.sw(v.nav.scroll):0:t.sw(v.nav.scroll)},this.Ti=function(){var e=this.nav.top.clientWidth,i=this.Ii(),n=this.dd(),a=0;return this.cm()>n&&!("Auto"===v.heightSpec)&&(a=t.swa()),e-i-2-a},this.go=function(){var e="Top"===v.timeHeaderPosition,t=c();t.style.overflow="hidden",t.style.display="block",e?(t.style.position="absolute",t.style.top="0px"):t.style.position="relative",t.style.width="100%",t.style.height=this.Ki()+"px",t.style.overflow="hidden",t.onmousemove=function(){v.Aa(),v.cellBubble&&v.cellBubble.delayedHide()},t.className=v.G("_timeheader_scroll"),this.wo(t),this.divTimeScroll=t;var i=c();return i.style.width=this.Fi()+5e3+"px",this.divNorth=i,t.appendChild(i),t},this.dd=function(){var e=0,t=v.heightSpec;return"Fixed"===t||"Parent100Pct"===t?this.height?this.height:0:(e=v.cm(),("Max"===t||"Max100Pct"===t)&&e>v.height?v.height:e)},this.yo=null,this.zo=0,this.Ao=0,this.Bo=0,this.Ri=function(){"function"!=typeof v.onHeightChanged&&"function"!=typeof v.onDimensionsChanged||(v.yo&&clearTimeout(v.yo),v.yo=setTimeout(function(){var e=v.nav.top.offsetHeight,t=v.zo;v.zo=e;var i=v.nav.top.offsetWidth,n=v.Ao;v.Ao=i;var a,o=v.Ii(),r=v.Bo;v.Bo=o,"function"==typeof v.onHeightChanged&&e!==t&&((a={}).oldHeight=t,a.newHeight=e,v.onHeightChanged(a)),"function"!=typeof v.onDimensionsChanged||e===t&&i===n&&o===r||((a={}).oldHeight=t,a.newHeight=e,a.oldWidth=n,a.newWidth=i,a.oldRowHeaderWidth=r,a.newRowHeaderWidth=o,v.onDimensionsChanged(a))},100))},this.cm=function(){var e;return-1!==this.Nh?(e=this.Nh,this.Nh>0&&"auto"===v.nav.scroll.style.overflowX&&(e+=t.sh(v.nav.scroll))):e=this.rowlist.length*this.ea.Ok(),e+v.Pi.bottom.height},this.Aa=function(){v.Co&&(this.Ba(),this.Do(),this.Eo(),this.Im(),this.$l(),v.cellBubble&&v.cellBubble.hideOnMouseOut(),v.bubble&&v.bubble.hideOnMouseOut(),v.Co=!1)},this.Pi={},this.Pi.top={},this.Pi.top.height=0,this.Pi.top.rowlist=[],this.Pi.top.enabled=function(){return this.rowlist&&this.rowlist.length>0},Object.defineProperty(v.Pi.top,"top",{get:function(){return v.Ki()+1}}),Object.defineProperty(v.Pi.top,"right",{get:function(){return v.so()}}),Object.defineProperty(v.Pi.top,"heightRes",{get:function(){return this.height}}),this.Pi.bottom={},this.Pi.bottom.height=0,this.Pi.bottom.rowlist=[],this.Pi.bottom.enabled=function(){return this.rowlist&&this.rowlist.length>0},Object.defineProperty(v.Pi.bottom,"top",{get:function(){return v.Ki()+v.dd()-this.height-t.sh(v.nav.scroll)+1}}),Object.defineProperty(v.Pi.bottom,"right",{get:function(){return v.so()}}),Object.defineProperty(v.Pi.bottom,"heightRes",{get:function(){return this.height+t.sh(v.nav.scroll)}}),this.Pi.main={},this.lo=function(){var e=v.Pi.main;e.divCells=v.divCells,e.divLines=v.divLines,e.divHeader=v.divHeader,e.divEvents=v.divEvents,e.divShadow=v.divShadow,e.divHover=v.divHover,e.divCrosshair=v.divCrosshair,e.div=v.nav.scroll,Object.defineProperty(v.Pi.main,"rowlist",{get:function(){return v.rowlist}}),Object.defineProperty(v.Pi.main,"top",{get:function(){return v.Ki()+1}}),Object.defineProperty(v.Pi.main,"height",{get:function(){return v.Nh}})},this.do=function(){var e=v.Pi.top,t=e.top,i=e.height,n=c();return n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top=t+"px",n.style.height=i+"px",n.style.overflow="hidden",n.style.boxSizing="border-box",n.rows=[],e.divHeader=n,n},this.eo=function(){var e=v.Pi.bottom,t=e.top,i=e.height,n=c();n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top=t+"px",n.style.height=i+"px",n.style.overflow="hidden",n.style.boxSizing="border-box";var a=c();a.style.position="absolute",a.style.height="500px",a.style.top=e.height+"px",a.style.left="0px",a.style.width=v.Lm()+"px",a.className=v.G("_rowheader"),n.appendChild(a),n.rows=[];var o=c();return n.appendChild(o),n.Um=o,v.vo(n),e.divHeader=n,e.divSpace=a,n},this.io=function(){var e=v.Pi.top,i=e.top,n=e.height,a=c();a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top=i+"px",a.style.height=n+"px",a.style.overflow="hidden",a.className=v.G("_grid_top"),a.onmousedown=v.Fo,a.onmousemove=v.Jm,a.oncontextmenu=v.Go,v.nav.fixedTop=a,e.div=a;var o=v.Ho(a);return t.Util.copyProps(o,e),a},this.jo=function(){var e=v.Pi.bottom,i=e.top,n=e.height,a=c();a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.bottom=i+"px",a.style.height=n+"px",a.style.overflow="hidden",a.className=v.G("_grid_bottom"),a.onmousedown=v.Fo,a.onmousemove=v.Jm,a.oncontextmenu=v.Go,v.nav.fixedBottom=a,e.div=a;var o=v.Ho(a);return t.Util.copyProps(o,e),a},this.Ho=function(e){var t=c();t.style.position="absolute",e.appendChild(t);var i=c();i.style.position="absolute",e.appendChild(i);var n=c();n.style.position="absolute",e.appendChild(n);var a=c();a.style.position="absolute",e.appendChild(a);var o=c();o.style.position="absolute",o.style.left="0px",o.style.width="100000px",o.style.bottom="0px",o.style.height="1px",e.appendChild(o);var r=c();r.style.position="absolute",e.appendChild(r);var s=c();return s.style.position="absolute",e.appendChild(s),{divCells:t,divLines:i,divEvents:a,divShadow:s,divHover:r,divCrosshair:n}},this.Qi=function(){var e=v.Pi.top,t=v.Pi.bottom;f(e),f(t),v.divStretch.style.height=v.Nh+t.height+"px",v.nav.dividerTop.style.top=e.top+e.height-1+"px",v.nav.dividerTop.style.right=e.right+"px",v.Io(v.nav.dividerTop,e.enabled()),v.nav.dividerBottom.style.top=t.top-1+"px",v.nav.dividerBottom.style.right=t.right+"px",v.Io(v.nav.dividerBottom,t.enabled())},this.Io=function(e,t){e.style.display=t?"":"none"},this.$i=function(){var e=v.rowlist;return(e=e.concat(v.Pi.top.rowlist)).concat(v.Pi.bottom.rowlist)},this.Jo=function(){return v.rowlist.length>0||v.Pi.top.rowlist.length>0||v.Pi.bottom.rowlist.length>0},this.Ko=function(){this.bd(),this.Lo()},this.ho=function(){var e=c();if(e.style.overflow="auto",e.style.overflowX="auto",e.style.overflowY="auto",e.style.height=this.dd()+"px","Top"===v.timeHeaderPosition?(e.style.top=this.Ki()+1+"px",e.style.position="absolute"):e.style.position="relative",e.style.width="100%",e.className=this.G("_scrollable"),e.oncontextmenu=function(){return!1},this.wo(e),v.overrideWheelScrolling){var t=v.qo();e.onwheel=function(i){v.nav.scroll.scrollTop=e.scrollTop+(i.deltaY>0?t:-t),i.preventDefault()},e.onmousewheel=function(i){v.nav.scroll.scrollTop=e.scrollTop+(i.wheelDelta<0?t:-t),i.preventDefault(),i.returnValue=!1}}this.nav.scroll=e,this.ni=c();var i=this.ni;i.style.MozUserSelect="none",i.style.KhtmlUserSelect="none",i.style.webkitUserSelect="none",i.daypilotMainD=!0,i.calendar=this,i.style.minHeight="1px",a&&(i.style.webkitTransform="translateZ(0px)"),i.style.position="absolute";var n=this.Fi();return n>0&&!isNaN(n)&&(i.style.width=n+"px"),i.setAttribute("unselectable","on"),i.onmousedown=this.Fo,i.onmousemove=this.Jm,i.onmouseup=this.Mo,i.oncontextmenu=this.Go,i.ondblclick=this.No,i.className=this.G("_matrix"),this.divStretch=c(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",i.appendChild(this.divStretch),this.divCells=c(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.Go,i.appendChild(this.divCells),this.divLines=c(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.Go,i.appendChild(this.divLines),this.divBreaks=c(),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.Go,i.appendChild(this.divBreaks),this.divSeparators=c(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.Go,i.appendChild(this.divSeparators),this.divLinksBelow=c(),this.divLinksBelow.style.position="absolute",i.appendChild(this.divLinksBelow),this.divCrosshair=c(),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.No,this.divCrosshair.onmousedown=this.Td,i.appendChild(this.divCrosshair),this.divRange=c(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.Go,i.appendChild(this.divRange),this.divEvents=c(),this.divEvents.style.position="absolute",i.appendChild(this.divEvents),this.divSeparatorsAbove=c(),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.Go,i.appendChild(this.divSeparatorsAbove),this.divLinksAbove=c(),this.divLinksAbove.style.position="absolute",i.appendChild(this.divLinksAbove),this.divLinkShadow=c(),this.divLinkShadow.style.position="absolute",i.appendChild(this.divLinkShadow),this.divLinkpoints=c(),this.divLinkpoints.style.position="absolute",i.appendChild(this.divLinkpoints),this.divRectangle=c(),this.divRectangle.style.position="absolute",i.appendChild(this.divRectangle),this.divHover=c(),this.divHover.style.position="absolute",i.appendChild(this.divHover),this.divShadow=c(),this.divShadow.style.position="absolute",i.appendChild(this.divShadow),e.appendChild(i),e},this.Oo={};var P=this.Oo;P.wf=function(){if(!v.nav.overlay){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.right="0px",e.style.top="0px",e.style.bottom="0px",e.className=v.G("_block"),v.nav.top.appendChild(e),v.nav.overlay=e}},P.Ya=function(){P.wf(),v.nav.overlay.style.display=""},P.hg=function(){v.nav.overlay&&(v.nav.overlay.style.display="none")},this.ia=function(e){var t=(e=e||{}).delay||0,i=v.ca(e.text||this.loadingLabelText,this.loadingLabelHtml),n=void 0!==e.block?e.block:v.blockOnCallBack;v.Po&&window.clearTimeout(v.Po);var a=function(){(v.loadingLabelVisible||e.text)&&(v.nav.loading.innerHTML=i,v.nav.loading.style.display=""),n&&P.Ya()};0===t?a():v.Po=window.setTimeout(a,t)},this.Ga=function(e){this.Po&&window.clearTimeout(this.Po),this.nav.loading.style.display="none",(e||v.blockOnCallBack)&&P.hg()},this.loadingStart=function(e){v.ia(e)},this.loadingStop=function(){v.Ga(!0)},this.uiBlock=function(){P.Ya()},this.uiUnblock=function(){P.hg()},this.Be=function(){this.startDate=new t.Date(this.startDate).getDatePart()},this.Fe=function(e){var t=c();t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.className=this.G(e),l().appendChild(t);var i=t.offsetHeight,n=t.offsetWidth;l().removeChild(t);var a={};return a.height=i,a.width=n,a},this.bb=function(e){if(e&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.R>=this.autoRefreshMaxCount)){this.oa();var i=this.autoRefreshInterval;if(!i||i<10)throw new t.Exception("The minimum autoRefreshInterval is 10 seconds");this.autoRefreshTimeout=window.setTimeout(function(){v.je()},1e3*this.autoRefreshInterval)}},this.oa=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(e){v.bb(e)},this.autoRefreshPause=function(){v.oa()},this.Qo=function(){return!(s.Ll||s.nj||s.Em||s.Ml)},this.je=function(){if(v.Qo()){var e=!1;if("function"==typeof this.onAutoRefresh){var t={};t.i=this.R,t.preventDefault=function(){this.preventDefault.value=!0},v.onAutoRefresh(t),t.preventDefault.value&&(e=!0)}!e&&this.I()&&this.commandCallBack(this.autoRefreshCommand),this.R++}this.R<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){v.je()},1e3*this.autoRefreshInterval))},this.me=function(){s.Ro||(s.Ro=!0,t.re(document,"mousemove",s.lf),t.re(document,"mouseup",s.kf),t.re(document,"mousedown",s.So),t.re(document,"touchmove",s.To),t.re(document,"touchend",s.Uo),t.re(window,"keyup",s.Vo)),t.re(window,"resize",this.Gf)},this.Wo=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.gi,v.hm=this.nav.scroll.scrollLeft,v.fm=this.nav.scroll.scrollTop,this.divNorth&&(v.Xo=this.divNorth.clientWidth)},this.nh=function(){if(this.nav.state){var e={};e.scrollX=this.nav.scroll.scrollLeft,e.scrollY=this.nav.scroll.scrollTop;var i=v.xk(e.scrollX,e.scrollY),n=v.yk(i),a=v.zk(i);e.rangeStart=n.start,e.rangeEnd=n.end,e.resources=a,this.syncResourceTree&&(e.tree=this.za()),this.nav.state.value=t.he(JSON.stringify(e))}},this.bi=function(){if(this.separators)for(var e=0;e<this.separators.length;e++)this.te(e)},this.Yo={},this.Yo.step=300,this.Yo.delay=10,this.Yo.mode="display",this.Yo.layers=!1,this.jm=function(e){if(v.Jh)M.Zo(e);else for(var i=0,n=0;n<e.lines.length;n++){var a=e.lines[n];a.height=0,a.top=i;for(var o=0;o<a.length;o++){var r=a[o];r.part.line=n,r.part.height||(r.part.height=e.eventHeight);var s=r.part.sn();s>a.height&&(a.height=s),r.part.top=i+e.marginTop;var l="Above"===v.eventVersionPosition;if(v.eventVersionsEnabled&&!t.list(r.versions).isEmpty()){var c=r.part.top;l||(c+=r.part.height+v.eventVersionMargin),t.list((r.cache||r.data).versions).forEach(function(e,t){r.versions[t]&&(r.versions[t].top=c+t*(v.eventVersionHeight+v.eventVersionMargin),l&&(r.part.top+=v.eventVersionHeight,r.part.top+=v.eventVersionMargin))})}r.part.right=r.part.left+r.part.width,r.part.fullTop=e.top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}i+=(a.height||e.eventHeight)*e.eventStackingLineHeight/100}};var M={vl:function(e){e.evColumns=t.list(v.itline).map(function(e,i){return{events:t.list()}}),t.list(e.events).forEach(function(t){var i=t.start(),n=v.lj(i);e.evColumns[n.i].events.push(t)})},rn:function(){var e=v.Kh,i=0;t.list(v.rowlist).forEach(function(t){var n=0;t.evColumns.forEach(function(i,a){var o=v.itline[a],r=v.rowMarginTop;i.events.forEach(function(i){i.part.left=o.left,i.part.width=o.width,i.part.top=r,i.part.height||(i.part.height=e?M.$o(i)+v.durationBarHeight:t.eventHeight),r+=i.part.height+v.eventMarginBottom}),i.height=r,i.height>n&&(n=i.height)}),t.maxColumnHeight=n,t.top=i;var a=t.height;t.height=t.getHeight(),n>v.rowMarginTop&&(t.height=n+v.rowMarginBottom),a!==t.height&&(v.Wj=!0),i+=t.height}),v.Nh=i},$o:function(e){var t=e.client.html(),i=c();i.style.position="absolute",i.style.top="-2000px",i.style.left="-2000px",i.style.width=e.part.width+"px",i.className=v.G(R.event);var n=c();n.className=v.G(R.eventInner),n.innerHTML=t,n.style.position="static",n.style.overflow="auto",i.appendChild(n);var a=v.divEvents;a.appendChild(i);var o=i.offsetHeight;return a.removeChild(i),o},Zo:function(e){M.rn()},_o:function(){t.list(v.rowlist).forEach(function(e){M.ap(e)})},Za:function(){M._o(),M.bp(),v.Yh(),v.Ua()},bp:function(){if(v.Kh){var e=!1;t.list(v.elements.events).forEach(function(t){var i=t.firstChild,n=i.scrollHeight+(i.offsetHeight-i.clientHeight+t.offsetHeight-t.clientHeight),a=t.event.part.height;t.event.part.height=n,a!==n&&(e=!0)}),e&&(v.pa(),M.rn(),M._o(),v.Zh(),v.ai())}},ap:function(e){e.evColumns.forEach(function(e,t){e.events.forEach(function(e){v.Tc(e)})})}};this.Ij=null,this.Za=function(e){if(!v.T){if(v.Jh)return void M.Za();var i=this.Yo.step;this.Yo.layers&&(v.divEvents=c(),v.divEvents.style.position="absolute",v.ni.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.Yo.mode?this.divEvents.style.display="none":"visibility"===this.Yo.mode&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var n="Progressive"===this.dynamicEventRendering,a=this.X(),o=a.pixels.top,r=a.pixels.bottom,s=v.allowMultiMove||v.allowMultiResize,l=v.rowlist.filter(function(e){var t=e.top-v.dynamicEventRenderingMargin;return!(n&&!s&&(r<=t||o>=t+e.height+2*v.dynamicEventRenderingMargin))});v.Pi.top.enabled()&&(l=l.concat(v.Pi.top.rowlist)),v.Pi.bottom.enabled()&&(l=l.concat(v.Pi.bottom.rowlist)),l.forEach(function(t){v.jm(t);for(var n=0;n<t.lines.length;n++)for(var a=t.lines[n],o=0;o<a.length;o++){var r=v.Tc(a[o]);if(e&&r&&--i<=0)return v.divEvents.style.visibility="",v.divEvents.style.display="",void(v.Ij=window.setTimeout(function(){v.Za(e)},v.Yo.delay))}}),this.divEvents.style.display="",t.list(v.multiselect.Ub).isEmpty()||v.multiselect.redraw(),this.xi(),y._j()}},this.Yj=function(e,t){var i=v.Kk(t).rowlist[e];if(v.Jh)M.ap(i);else{this.divEvents=c(),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.ni.insertBefore(this.divEvents,this.divSeparatorsAbove),this.jm(i);for(var n=0;n<i.lines.length;n++)for(var a=i.lines[n],o=0;o<a.length;o++)this.Tc(a[o]);this.divEvents.style.display=""}},this.pa=function(){if(this.elements.events)for(var e=this.elements.events.length,t=0;t<e;t++)this.Rc(this.elements.events[t]);this.elements.events=[]},this.Xj=function(e,t){if(t=t||"main",this.elements.events){for(var i=this.elements.events.length,n=[],a=0;a<i;a++){var o=this.elements.events[a],r=o.event;r.part.dayIndex===e&&r.part.grid===t&&(this.Rc(o),n.push(a))}for(a=n.length-1;a>=0;a--)this.elements.events.splice(n[a],1)}},this.Rc=function(e){var i=e.domArgs;if(e.domArgs=null,i&&"function"==typeof v.onDomRemoveEvent&&v.onDomRemoveEvent(i),i&&"function"==typeof v.onBeforeEventDomRemove&&v.onBeforeEventDomRemove(i),i&&"function"==typeof v.onBeforeEventDomAdd&&v.wa.reactDOM){var n=i&&i.Qc;if(n&&t.Util.isReactComponent(i.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.unmountComponentAtNode(n)}}e.parentNode&&e.parentNode.removeChild(e),e.onclick=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onmousemove=null,e.onmousedown=null,e.ondblclick=null,e.event&&(e.event.rendered=null,e.event=null),e.related&&t.de(e.related)},this.cp=function(e){e.event&&(e.event.rendered=!1),e.onclick=null,e.onmousedown=null,e.event=null,e.parentNode&&e.parentNode.removeChild(e)},this.ep=function(){if("Progressive"===this.dynamicEventRendering&&v.dynamicEventRenderingCacheSweeping){var e=v.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var t=[],i=this.elements.events.length-1;i>=0;i--){var n=this.elements.events[i];this.fp(n.event)?e>0?(e--,t.unshift(n)):this.Rc(n):t.unshift(n)}this.elements.events=t,this.divEvents.style.display=""}},this.gp=function(e){for(var t=[],i=this.X(),n=this.elements.cells.length-1;n>=0;n--){var a=this.elements.cells[n];i.xStart<a.coords.x&&a.coords.x<=i.xEnd&&i.yStart<a.coords.y&&a.coords.y<=i.yEnd?t.unshift(a):e>0?(e--,t.unshift(a)):this.Al(a)}},this.Al=function(e){if(e&&e.coords){var i=e.coords.x,n=e.coords.y,a=e.coords.grid;t.rfa(v.elements.cells,e),t.de(e),v.P.cells[a+"_"+i+"_"+n]=null}},this.$h=function(){if(this.elements.separators)for(var e=0;e<this.elements.separators.length;e++)t.de(this.elements.separators[e]);this.elements.separators=[]},this.hp=function(){var e="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var t=this.nav.scroll.scrollTop,i=t+this.nav.scroll.clientHeight,n=0;n<this.rowlist.length;n++){var a=this.rowlist[n];if(!e||!(i<=a.top||t>=a.top+a.height))for(var o=0;o<a.lines.length;o++)for(var r=a.lines[o],s=0;s<r.length;s++)if(this.ip(r[s]))return!0}return!1},this.ip=function(e){if(e.rendered)return!1;var t=this.nav.scroll.scrollLeft;return!("Progressive"===this.dynamicEventRendering&&(t+this.nav.scroll.clientWidth<=e.part.left||t>=e.part.left+e.part.width))},this.fp=function(e){if(!e.rendered)return!0;var t=this.X();return t.pixels.right+this.dynamicEventRenderingMargin<=e.part.left||t.pixels.left-this.dynamicEventRenderingMargin>=e.part.right||t.pixels.bottom<=e.part.fullTop||t.pixels.top>=e.part.fullBottom},this.qn=t.list(),this.jp=function(e){if(e.rendered)return!1;var i=e.row;if(i.hidden)return!1;var n=e.min,a=e.max-e.min,o=v.eventHeight,r=e.row.top;"number"==typeof i.forcedHeight&&(o=Math.min(i.forcedHeight,v.eventHeight));var s=c();s.style.position="absolute",s.style.left=n+"px",s.style.top=r+"px",s.style.width=a+"px",s.style.height=o+"px",s.className=v.G("_event_group"),s.style.cursor="pointer";var l={group:{}};l.group.count=e.events.length,l.group.events=t.list(e.events,!0),l.group.html="&#x1F7A7; "+e.events.length+" events","function"==typeof v.onBeforeGroupRender&&v.onBeforeGroupRender(l);var d=c();return d.innerHTML=l.group.html,s.appendChild(d),s.onmousedown=function(e){e.cancelBubble=!0},s.onclick=function(e){var n=s.event;n.expanded=!0,v.cp(s);var a=t.indexOf(v.elements.events,s);-1!==a&&v.elements.events.splice(a,1);var o=v.qn;t.list(n.events).forEach(function(e){o.push(e.id())}),v.yj(),v.zj([i]),v.Ua(),v.Za(),e.cancelBubble=!0},e.part={},e.part.left=n,e.part.width=a,e.part.height=v.eventHeight,e.part.dayIndex=t.indexOf(v.rowlist,e.row),e.part.top=0,e.part.isBlock=!0,e.part.grid=e.row.grid,e.client={},e.client.html=function(){return l.group.html},e.data={},s.event=e,this.elements.events.push(s),this.divEvents.appendChild(s),e.rendered=!0,!0},this.Tc=function(e,i){var n=(i=i||{}).forced;if(e.rendered)return!1;if(v.groupConcurrentEvents){var a=e.part.block;if(a.events.length>1&&!a.expanded)return v.jp(a)}var o="Progressive"===this.dynamicEventRendering,r=e.part.dayIndex,s=e.part.grid||"main",l=v.Pi[s],d=l.divEvents,h=l.rowlist[r];if(h.hidden)return!1;var u=h.top,f=this.X(),p=f.pixels.left-this.dynamicEventRenderingMargin,m=f.pixels.right+this.dynamicEventRenderingMargin,g=f.pixels.top,b=f.pixels.bottom,y=e.part.left,w=e.part.left+e.part.width,x=e.part.top+u,k=x+e.part.height,C=v.multiselect.wc(e);if(!n&&!C&&o&&(m<=y||p>=w||"main"===s&&(b<=x||g>=k)))return!1;var _="Milestone"===e.data.type,D=e.part.width,S=e.part.height,E=e.cache||e.data;D=t.Util.atLeast(0,D),S=t.Util.atLeast(0,S);var T=c();if(T.related=[],function(i){v.eventVersionsEnabled&&t.list(E.versions).forEach(function(n,a){if(n){var o=e.versions[a];if(o){var r=c();r.style.position="absolute",r.style.overflow="hidden",r.style.left=o.left+"px",r.style.top=u+o.top+"px",r.style.width=o.width+"px",r.style.height=v.eventVersionHeight+"px",r.className=v.G(R.event)+" "+v.G("_event_previous")+" "+v.G("_event_version"),r.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},n.toolTip&&(r.title=n.toolTip),n.cssClass&&t.Util.addClass(r,n.cssClass);var s=c();s.setAttribute("unselectable","on"),s.className=v.G(R.eventInner),s.innerHTML=v.ca(n.text,n.html),n.backColor&&(s.style.background=n.backColor),n.fontColor&&(s.style.color=n.fontColor),n.borderColor&&(s.style.borderColor=n.borderColor),n.backImage&&(s.style.backgroundImage="url("+n.backImage+")",n.backRepeat&&(s.style.backgroundRepeat=n.backRepeat)),r.appendChild(s),o.continueLeft&&!_&&t.Util.addClass(r,v.G("_event_continueleft")),o.continueRight&&!_&&t.Util.addClass(r,v.G("_event_continueright"));var l=o.width;if(v.durationBarVisible&&!n.barHidden&&l>0){var h=100*o.barLeft/l,f=Math.ceil(100*o.barWidth/l);"PercentComplete"===v.durationBarMode&&(h=0,f=n.complete||0);var p=c();p.setAttribute("unselectable","on"),p.className=v.G(R.eventBar),p.style.position="absolute",n.barBackColor&&(p.style.backgroundColor=n.barBackColor);var m=c();m.setAttribute("unselectable","on"),m.className=v.G(R.eventBarInner),m.style.left=h+"%",m.style.width=0<f&&f<=1?"1px":f+"%",n.barColor&&(m.style.backgroundColor=n.barColor),n.barImageUrl&&(m.style.backgroundImage="url("+n.barImageUrl+")"),p.appendChild(m),r.appendChild(p)}if(n.htmlLeft){var g=v.eventHtmlLeftMargin,b=c();b.style.position="absolute",b.style.right=-(o.left-g)+"px",b.style.top=u+o.top+"px",b.style.height=v.eventHeight+"px",b.style.boxSizing="border-box",b.innerHTML=n.htmlLeft,b.className=v.G("_event_left"),b.type="divLeft",b.versionPart=o,i.related.push(b),d.appendChild(b)}if(n.htmlRight){g=v.eventHtmlRightMargin;var y=c();y.style.position="absolute",y.style.left=o.left+o.width+g+"px",y.style.top=u+o.top+"px",y.style.height=v.eventHeight+"px",y.style.boxSizing="border-box",y.innerHTML=n.htmlRight,y.className=v.G("_event_right"),y.type="divRight",y.versionPart=o,i.related.push(y),d.appendChild(y)}r.versionPart=o,r.type="version";var w=t.Areas.resolvePosition(n.areas,v,o.left,o.width);t.Areas.attach(r,n,{areas:w}),i.related.push(r),d.appendChild(r)}}})}(T),E.htmlLeft){var A=v.eventHtmlLeftMargin,P=c();P.style.position="absolute",P.style.right=-(e.part.left-A)+"px",P.style.top=u+e.part.top+"px",P.style.height=v.eventHeight+"px",P.style.boxSizing="border-box",P.innerHTML=E.htmlLeft,P.className=v.G("_event_left"),P.type="divLeft",T.related.push(P),d.appendChild(P)}if(E.htmlRight){A=v.eventHtmlRightMargin;var M=c();M.style.position="absolute",M.style.left=e.part.left+e.part.width+A+"px",M.style.top=u+e.part.top+"px",M.style.height=v.eventHeight+"px",M.style.boxSizing="border-box",M.innerHTML=E.htmlRight,M.className=v.G("_event_right"),M.type="divRight",T.related.push(M),d.appendChild(M)}if(g=u+e.part.top,v.treeAnimation){var B="number"==typeof h.forcedHeight?h.forcedHeight:h.height;e.part.top+e.part.height>B&&(S=Math.max(0,B-e.part.top))}T.style.position="absolute",T.style.left=e.part.left+v.eventMarginLeft+"px",T.style.top=u+e.part.top+"px",T.style.width=D-v.eventMarginLeft-v.eventMarginRight+"px",T.style.height=S+"px",v.eventTextWrappingEnabled||(T.style.whiteSpace="nowrap"),T.style.overflow="hidden",T.className=this.G(R.event),_&&t.Util.addClass(T,v.G("_task_milestone")),"Group"===e.data.type&&(t.Util.addClass(T,v.G("_task_parent")),t.Util.addClass(T,v.G("_task_group"))),E.cssClass&&t.Util.addClass(T,E.cssClass),"number"==typeof e.part.line&&t.Util.addClass(T,this.G(R.eventLine+e.part.line)),T.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(T.title=e.client.toolTip()||""),T.onmousemove=this.Uc,T.onmouseout=this.Vc,T.onmousedown=this.Wc,T.onmouseup=this.kp,T.ontouchstart=H.lp,T.ontouchmove=H.mp,T.ontouchend=H.np,e.client.clickEnabled()&&(T.onclick=this.Jg),e.client.doubleClickEnabled()&&(T.ondblclick=this.tb),T.oncontextmenu=this.ub,T.setAttribute("aria-label",void 0!==E.ariaLabel?E.ariaLabel:E.text),T.setAttribute("tabindex","-1");var I=c();I.setAttribute("unselectable","on"),I.className=v.G(R.eventInner),E.backColor&&(I.style.background=E.backColor),E.fontColor&&(I.style.color=E.fontColor),I.style.borderColor="darker"===E.borderColor&&E.backColor?t.ColorUtil.darker(E.backColor,2):E.borderColor,E.backImage&&(I.style.backgroundImage="url("+E.backImage+")",E.backRepeat&&(I.style.backgroundRepeat=E.backRepeat)),T.appendChild(I);var N=e.start().getTime()===e.part.start.getTime(),O=e.rawend().getTime()===e.part.end.getTime();if(N||_||t.Util.addClass(T,this.G("_event_continueleft")),O||_||t.Util.addClass(T,this.G("_event_continueright")),e.client.barVisible()&&D>0&&!_){var L=100*e.part.barLeft/D,U=Math.ceil(100*e.part.barWidth/D);"PercentComplete"===this.durationBarMode&&(L=0,U=E.complete||0);var j=c();j.setAttribute("unselectable","on"),j.className=this.G(R.eventBar),j.style.position="absolute",E.barBackColor&&(j.style.backgroundColor=E.barBackColor);var z=c();z.setAttribute("unselectable","on"),z.className=this.G(R.eventBarInner),z.style.left=L+"%",z.style.width=0<U&&U<=1?"1px":U+"%",E.barColor&&(z.style.backgroundColor=E.barColor),E.barImageUrl&&(z.style.backgroundImage="url("+E.barImageUrl+")"),j.appendChild(z),T.appendChild(j)}if(T.row=r,E.areas){var G=t.Areas.resolvePosition(E.areas,v,e.part.left,e.part.width);(G=G.filter(function(e){return t.Areas.isVisible(e)})).forEach(function(i){var n=t.Areas.createArea(T,e,i);T.appendChild(n)})}if(T.event=e,C&&(v.multiselect.add(T.event,!0),v.multiselect.Ic(T)),function(){if("function"==typeof v.onBeforeEventDomAdd||"function"==typeof v.onBeforeEventDomRemove){var i={};if(i.control=v,i.e=e,i.element=null,T.domArgs=i,"function"==typeof v.onDomAddEvent&&v.onDomAddEvent(i),"function"==typeof v.onBeforeEventDomAdd&&v.onBeforeEventDomAdd(i),i.element){var n=I;if(n)if(i.Qc=n,t.Util.isReactComponent(i.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.render(i.element,n)}else n.appendChild(i.element)}else _||(I.innerHTML=e.client.innerHTML())}else _||(I.innerHTML=e.client.innerHTML())}(),this.elements.events.push(T),d.appendChild(T),e.rendered=!0,v.cb()){if("function"==typeof v.onAfterEventRender){var W={};W.e=T.event,W.div=T,v.onAfterEventRender(W)}}else v.afterEventRender&&v.afterEventRender(T.event,T);return!0},this.ca=function(e,i){return v.ea.da()?t.Util.escapeTextHtml(e,i):t.Util.isNullOrUndefined(i)?t.Util.isNullOrUndefined(e)?"":e:i},this.cb=function(){return 2===v.api},this.Zj=function(){for(var e=0;e<this.elements.events.length;e++){var i=this.elements.events[e],n=i.event,a=n.part.dayIndex,o=v.Kk(n.part.grid).rowlist[a],r=o.top,s=r+n.part.top,l="number"==typeof o.forcedHeight?o.forcedHeight:o.height,c=n.part.height;n.part.top+n.part.height>l&&(c=Math.max(0,l-n.part.top)),i.style.top=s+"px",i.style.height=c+"px",t.list(i.related).filter(function(e){return!!e.versionPart}).forEach(function(e){e.style.top=r+e.versionPart.top+"px"}),t.list(i.related).filter(function(e){return!e.versionPart&&("divLeft"===e.type||"divRight"===e.type)}).forEach(function(e){e.style.top=s+"px"})}},this.ze=function(e){if(!e)return null;for(var t=0;t<v.elements.events.length;t++){var i=v.elements.events[t];if(i.event===e||i.event.data===e.data)return i}return null},this.ll=function(e){var t=v.events.dl(e.data);return t?(v.jm(v.rowlist[t.part.dayIndex]),v.Tc(t,{forced:!0}),v.ze(t)):null},this.Vc=function(e){var i=this;t.Areas.hideAreas(i,e),i.active||(t.Util.removeClass(i,v.G("_event_hover")),v.pp(i),h.source||y.bl(),v.bubble&&"Bubble"===v.eventHoverHandling&&v.bubble.hideOnMouseOut())},this.qp=function(e){var t={};t.div=e,t.e=e.event,"function"==typeof this.onEventMouseOver&&this.onEventMouseOver(t),"function"==typeof this.onEventMouseEnter&&this.onEventMouseEnter(t)},this.pp=function(e){var t={};t.div=e,t.e=e.event,"function"==typeof this.onEventMouseOut&&this.onEventMouseOut(t),"function"==typeof this.onEventMouseLeave&&this.onEventMouseLeave(t)},this.rp=function(e){var t=e.row,i={};i.div=e,i.row=v.jk(t),"function"==typeof this.onRowMouseOver&&this.onRowMouseOver(i)},this.sp=function(e){var t=e.row,i={};i.div=e,i.row=v.jk(t),"function"==typeof this.onRowMouseOut&&this.onRowMouseOut(i)},this.Uc=function(e){v.cellBubble&&v.cellBubble.delayedHide();for(var i=this;i&&!i.event;)i=i.parentNode;var n=i.event;if(v.tp(i,e),!i.active){var a=[];"Disabled"===v.eventDeleteHandling||(i.event.cache?i.event.cache.deleteDisabled:i.event.data.deleteDisabled)||a.push({action:"JavaScript",v:"Hover",w:17,h:17,top:(v.durationBarVisible?v.durationBarHeight:0)+2,right:2,css:v.G(R.eventDelete),js:function(e){v.zb(e)}});var o=i.event.cache?i.event.cache.areas:i.event.data.areas;o&&o.length>0&&(o=t.Areas.resolvePosition(o,v,n.part.left,n.part.width),a=a.concat(o)),t.Areas.showAreas(i,i.event,null,a),t.Util.addClass(i,v.G("_event_hover")),v.qp(i)}"Disabled"===v.linkCreateHandling||h.source||(y.Yk(),y.Oj(),v.Qo()&&y.Wk(i)),v.qj(e),v.coords.insideEvent=i.event},this.nj={},this.kp=function(e){if(v.ionicEventClickFix){var i=v.nj.up;if(i){var n=t.mc(e);i.x===n.x&&i.y===n.y&&(v.Jg.call(this,e),e.preventDefault(),e.stopPropagation())}}},this.Wc=function(e){v.Aa(),void 0!==t.Bubble&&(t.Bubble.hideActive(),t.Bubble.cancelShowing()),v.qj(e);var i=t.Util.mouseButton(e);if(e.preventDefault(),e.stopPropagation(),i.left){var n=e.shiftKey;if("Disabled"!==O.rj()&&n)return B.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(s.mj=!0,s.Ll=this,s.bm=this.event,s.up=t.mc(e),l().style.cursor=this.style.cursor,y.Oj()):("move"===this.style.cursor||"Full"===v.moveBy&&this.event.client.moveEnabled())&&v.Jn(this,e)}t.Menu&&t.Menu.active&&(t.Menu.active.hide(),t.Menu.active=null)},this.Jn=function(e,i){var n=v.nj;v.qj(i),n.vp=!0,n.nj=e,n.Gl=e.event,n.up=t.mc(i),n.Fl=t.mo3(e,i).x,n.Kl=v.getDate(v.coords.x,!0),y.Oj()},this.Xc={};var H=v.Xc;void 0===t.Global.touch&&(t.Global.touch={}),t.Global.touch.active=!1,t.Global.touch.start=!1,H.oj=[],H.lp=function(e){if(!t.Global.touch.active&&!t.Global.touch.start){t.Menu&&t.Menu.touchPosition(e),e.stopPropagation(),H.wp(),t.Global.touch.start=!0,t.Global.touch.active=!1;var i=this;v.coords=H.xp(e),H.oj.push(window.setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,e.preventDefault();var a=i.event;switch(v.eventTapAndHoldHandling){case"Move":if(a.client.moveEnabled()){var o=n(e);H.Jn(i,o)}break;case"ContextMenu":t.Menu&&t.Menu.touchPosition(e);var r=a.client.contextMenu();r?r.show(a):v.contextMenu&&v.contextMenu.show(a)}},v.tapAndHoldTimeout))}},H.mp=function(e){H.wp(),t.Global.touch.start=!1},H.np=function(e){if(!t.Util.isMouseEvent(e)){if(H.wp(),t.Global.touch.start){t.Global.touch.start=!1,e.preventDefault(),e.stopPropagation();var i=this;window.setTimeout(function(){v.qb(i,e)})}window.setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)}},H.$n=function(e){t.Global.touch.active||t.Global.touch.start||e.touches.length>1||"Disabled"===v.timeRangeSelectedHandling||(H.wp(),t.Global.touch.start=!0,t.Global.touch.active=!1,H.oj.push(window.setTimeout(function(){t.Global.touch.active=!0,t.Global.touch.start=!1,e.preventDefault(),v.coords=H.xp(e),H.Ml=v.yp()},v.tapAndHoldTimeout)),v.coords=H.xp(e))},H._n=function(e){if(H.wp(),t.Global.touch.start=!1,s.Ll)return e.preventDefault(),void H.zp();if(t.Global.touch.active){if(e.preventDefault(),v.coords=H.xp(e),s.nj)return void H.Ap();if(H.Ml){var i=H.Ml;i.end={x:Math.floor(v.coords.x/v.cellWidth),time:v.getDate(v.coords.x,!0)},v.fk(i)}}},H.debug=function(e){},H.ao=function(e){if(H.wp(),t.Global.touch.active){if(s.nj){e.preventDefault();var i=s.Gl;if(v!==s.Bm.calendar)return;var n=s.Bm.start,a=s.Bm.end,o="Days"!==v.viewType?s.Bm.row.id:null,r=s.Em&&i.part.external,c=s.Bm.overlapping,d=!s.Bm.allowed;if(t.Util.removeClass(s.nj,v.G(v.Bp.eventMovingSource)),t.de(s.Bm),v.Im(),s.Bm.calendar=null,l().style.cursor="",s.nj=null,s.Gl=null,s.Bm=null,v.zm.clear(),c||d||v.zm.forbidden||v.zm.invalid)return;v.Ib(i,n,a,o,r)}if(H.Ml){var h=H.Ml;H.Ml=null,(u=v.elements.range2)&&u.overlapping?v.clearSelection():v.bk(h)}}else if(t.Global.touch.start){if(v.coords.x<v.getScrollX())return;var u;h=v.yp(),v.fk(h),(u=v.elements.range2)&&u.overlapping?v.clearSelection():v.bk(h)}window.setTimeout(function(){t.Global.touch.start=!1,t.Global.touch.active=!1},500)},H.wp=function(){for(var e=0;e<H.oj.length;e++)clearTimeout(H.oj[e]);H.oj=[]},H.xp=function(e){function i(e,i,n){var a=t.abs(n);return{x:e-a.x,y:i-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var n=e.touches?e.touches[0]:e,a=n.pageX,o=n.pageY,r=i(a,o,v.ni);if(r.grid="main",v.Pi.top.enabled()){var s=v.Pi.top,l=i(a,o,s.divCells);l.y>0&&l.y<=s.height&&((r=l).grid="top")}if(v.Pi.bottom.enabled()){var c=i(a,o,v.Pi.bottom.divCells);c.y>0&&c.y<=s.height&&((r=c).grid="bottom")}return r},H.Jn=function(e,i){s.nj=e,s.Gl=e.event,s.up=i;var n=t.abs(e);s.Fl=i.x-n.x,s.Kl=v.getDate(v.coords.x,!0),s.Bm=v.db(e),v.Zl()},H.zp=function(){s._l||(s._l=v.db(s.Ll)),v.Cm(),v.Cp({x:v.coords.x,y:v.coords.y,grid:v.coords.grid})},H.Ap=function(){s.Bm&&s.Bm.calendar!==v&&v.Im(),s.Bm||(s.Bm=v.db(s.nj)),s.Bm.calendar.Zl(),v.Cp({x:v.coords.x,y:v.coords.y,grid:v.coords.grid})},this.tp=function(e,i){var n=this.eventResizeMargin,a=this.eventMoveMargin,o=e;if(void 0!==s){var r=t.mo3(e,i);if(r&&(v.eventOffset=r,!s.Ll&&!s.nj)){var l=o.event.part.start.toString()===o.event.start().toString(),c=o.event.part.end.toString()===o.event.rawend().toString();"Top"===v.moveBy&&r.y<=a&&o.event.client.moveEnabled()&&"Disabled"!==v.eventMoveHandling?e.style.cursor="move":("Top"===v.moveBy||"Full"===v.moveBy)&&r.x<=n&&o.event.client.resizeEnabled()&&"Disabled"!==v.eventResizeHandling?l?(e.style.cursor="w-resize",e.dpBorder="left"):e.style.cursor="not-allowed":"Left"===v.moveBy&&r.x<=a&&o.event.client.moveEnabled()&&"Disabled"!==v.eventMoveHandling?e.style.cursor="move":e.offsetWidth-r.x<=n&&o.event.client.resizeEnabled()&&"Disabled"!==v.eventResizeHandling?c?(e.style.cursor="e-resize",e.dpBorder="right"):e.style.cursor="not-allowed":s.Ll||s.nj||(e.style.cursor=o.event.client.clickEnabled()&&"Disabled"!==v.eventClickHandling?"pointer":"default"),void 0===t.Bubble||!v.bubble||"Bubble"!==v.eventHoverHandling||"default"!==e.style.cursor&&"pointer"!==e.style.cursor||(this.oe=r,v.bubble.showEvent(e.event))}}},this.gm=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.ck=function(e){if(!(e=e||s.Ml||v.ek))return null;var i=v.rowlist[e.start.y];if(!i)return null;var n,a,o=e.Dp?e.Dp:e,r=o.end.time>o.start.time,l=i.id,c=r?o.start.x:o.end.x,d=r?o.end.x:o.start.x,h=i.start.getTime()-this.kb().getTime(),u=v.snapToGrid&&v.snapToGridTimeRangeSelecting;e.forceSnap&&(u=!0),u?(n=this.itline[c].start.addTime(h),a=this.itline[d].end.addTime(h)):r?(n=o.start.time,a=o.end.time):(n=o.end.time,a=o.start.time);var f=new t.Selection(n,a,l,v);return f.allowed=!e.div||!e.div.overlapping,f},this.rc=function(e){var i=e.parentNode,n=v.eventEditMinWidth,a=(e.event.text()||"").trim(),o=document.createElement("textarea");return o.style.position="absolute",o.style.width=(e.offsetWidth<n?n:e.offsetWidth-2)+"px",o.style.height=e.offsetHeight-2+"px",o.style.fontFamily=t.gs(e,"fontFamily")||t.gs(e,"font-family"),o.style.fontSize=t.gs(e,"fontSize")||t.gs(e,"font-size"),o.style.left=e.offsetLeft+"px",o.style.top=e.offsetTop+"px",o.style.border="1px solid black",o.style.padding="0px",o.style.marginTop="0px",o.style.backgroundColor="white",o.value=a,o.event=e.event,i.appendChild(o),o},this.Ep=function(e){var t=m.Ai();t.sort(function(e,t){var i=e.event,n=t.event;return i.part.dayIndex!==n.part.dayIndex?i.part.dayIndex-n.part.dayIndex:i.start()!==n.start()?i.start().getTime()-n.start().getTime():n.end().getTime()-i.end().getTime()});var i=t.indexOf(e);return-1===i?null:i+1<t.length?t[i+1]:t[0]},this.rb=function(e){if(e&&(s.Fp&&s.Fp.blur(),e.event)){var i=this.rc(e);if(s.Fp=i,t.re(i,t.touch.start,function(e){e.stopPropagation()}),i.onblur=function(){if(i.onblur=null,s.Fp===i&&(s.Fp=null),i.parentNode&&i.parentNode.removeChild(i),e.event){var t=(e.event.text(),i.value);v.Sb(e.event,t,i.canceling)}},i.onmousedown=function(e){e.stopPropagation&&e.stopPropagation()},i.cancel=function(){s.Fp&&(s.Fp.canceling=!0,s.Fp.blur())},i.onkeydown=function(t){var i=t.keyCode;if(13===i&&(t.stopPropagation(),this.onblur()),27===i)s.Fp.cancel();else if(9===i&&v.eventEditTabNext){var n=v.Ep(e);return s.Fp.cancel(),n&&setTimeout(function(){v.rb(n)},0),!1}},"function"==typeof v.onAfterEventEditRender){var n={};n.element=i,n.e=e.event,v.onAfterEventEditRender(n)}i.select(),i.focus()}},this.Gp={},this.Gp.resource=void 0!==t.Bubble?new t.Bubble:{showResource:function(){},hideOnMouseOut:function(){}},this.Gp.cell=void 0!==t.Bubble?new t.Bubble:{showResource:function(){},hideOnMouseOut:function(){}},this.$m=function(e){var i=this.row;if(void 0!==t.Bubble){var n=v.jk(i);n.div=this,v.resourceBubble?v.resourceBubble.showResource(n):i.bubbleHtml&&v.Gp.resource.showResource(n)}},this.Ym=function(e){var t=this;t.active||(t.active=!0,v.rp(t))},this.Zm=function(e){delete this.active,v.sp(this)},this._m=function(e){void 0!==t.Bubble&&v.resourceBubble?v.resourceBubble.hideOnMouseOut():v.Gp.resource.hideOnMouseOut();var i=this.firstChild;t.Areas.hideAreas(i,e),i.data=null},this.an=function(e){d.row&&(E.cancelClick=!0,setTimeout(function(){E.cancelClick=!1},100))},this.Wh=function(){if("None"!==v.timeHeaderPosition&&this.timeHeader){this.P.timeHeader={},v.elements.timeHeader.length>0&&(v.Hk(),v.elements.timeHeader=[]);var e=c();e.style.position="relative",this.nav.timeHeader=e;for(var i=0;i<this.timeHeader.length;i++)for(var n=this.timeHeader[i],a=0;a<n.length;a++)this.Hp(a,i);var o=this.divNorth;if(1===o.childNodes.length)o.replaceChild(e,o.childNodes[0]);else{if(t.browser.ie&&o&&o.firstChild){for(var r=[],s=0;s<o.firstChild.childNodes.length;s++)r.push(o.firstChild.childNodes[s]);t.de(r)}o.innerHTML="",o.appendChild(e)}var l=this.Fi();o.style.width=l+5e3+"px",l>0&&(this.divStretch.style.width=l+"px"),v.Ip()}},this.ta=function(){if(v.divCorner){var e=v.divCorner&&v.divCorner.domArgs;if(v.divCorner.domArgs=null,e&&("function"==typeof v.onBeforeCornerDomRemove&&v.onBeforeCornerDomRemove(e),"function"==typeof v.onBeforeCornerDomAdd&&v.wa.reactDOM)){var i=v.divCorner;if(i&&t.Util.isReactComponent(e.element)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.unmountComponentAtNode(i)}}}},this.hj=function(e,i){var n=null,a=this.ea.gj(),o=e.start;switch(i=i||this.cellGroupBy){case"Minute":n=o.toString("m");break;case"Hour":n="Clock12Hours"===v.ea.Jp()?o.toString("h tt",a):o.toString("H",a);break;case"Day":n=o.toString(a.datePattern);break;case"Week":n=1===O.Kp()?o.weekNumberISO():o.weekNumber();break;case"Month":n=o.toString("MMMM yyyy",a);break;case"Quarter":n="Q"+Math.floor(o.getMonth()/3+1);break;case"Year":n=o.toString("yyyy");break;case"None":n="";break;case"Cell":n=this.Lp(o,(e.end.ticks-e.start.ticks)/6e4);break;default:throw new t.Exception("Invalid groupBy value: "+i)}return n},this.Lp=function(e,t){var i=this.ea.gj();return(t=t||this.cellDuration)<1?e.toString("ss"):t<60?e.toString("mm"):t<1440?"Clock12Hours"===v.ea.Jp()?e.toString("h tt",i):e.toString("H",i):t<10080?e.toString("d"):10080===t?1===O.Kp()?e.weekNumberISO():e.weekNumber():e.toString("MMMM yyyy",i)},this.cj=function(e){var i=this.scale;switch(i){case"Cell":throw new t.Exception("Invalid scale: Cell");case"Manual":throw new t.Exception("Internal error (addScaleSize in Manual mode)");case"CellDuration":return e.addMinutes(this.cellDuration);default:return this.fj(e,i,!0)}},this.fj=function(e,i,n){var a,o;n?(o=this.startDate.addDays("Days"!==this.viewType?this.days:1),"Manual"===v.scale&&(o=v.ej())):(o=v.ej(),"Days"===v.viewType&&(o=v.startDate.addDays(1)));var r=60;switch(i=i||this.cellGroupBy){case"Minute":e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())),a=e.addMinutes(1);break;case"Hour":e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()>0&&(e=e.getDatePart().addHours(e.getHours())),a=e.addHours(1);break;case"Day":a=e.getDatePart().addDays(1);break;case"Week":for(a=e.getDatePart().addDays(1);a.dayOfWeek()!==O.Kp();)a=a.addDays(1);break;case"Month":a=(a=(e=e.getDatePart()).addMonths(1)).firstDayOfMonth();for(var s=t.DateUtil.diff(a,e)/6e4%r==0;!s;)a=a.addHours(1),s=t.DateUtil.diff(a,e)/6e4%r==0;break;case"Quarter":for(a=(a=(e=e.getDatePart()).addMonths(1)).firstDayOfMonth();a.getMonth()%3;)a=a.addMonths(1);for(s=t.DateUtil.diff(a,e)/6e4%r==0;!s;)a=a.addHours(1),s=t.DateUtil.diff(a,e)/6e4%r==0;break;case"Year":for(a=(a=(e=e.getDatePart()).addYears(1)).firstDayOfYear(),s=t.DateUtil.diff(a,e)/6e4%r==0;!s;)a=a.addHours(1),s=t.DateUtil.diff(a,e)/6e4%r==0;break;case"None":a=o;break;case"Cell":var l=this.lj(e);a=l.current?l.current.end:l.past?l.previous.end:l.next.start;break;default:throw new t.Exception(n?"Invalid scale value: "+i:"Invalid groupBy value: "+i)}return a.getTime()>o.getTime()&&(a=o),a},this.Bp={},this.Bp.timeheadercol="_timeheadercol",this.Bp.timeheadercolInner="_timeheadercol_inner",this.Bp.resourcedivider="_resourcedivider",this.Bp.eventFloat="_event_float",this.Bp.eventFloatInner="_event_float_inner",this.Bp.event="_event",this.Bp.eventInner="_event_inner",this.Bp.eventBar="_event_bar",this.Bp.eventBarInner="_event_bar_inner",this.Bp.eventDelete="_event_delete",this.Bp.eventLine="_event_line",this.Bp.eventMovingSource="_event_moving_source";var R=this.Bp;this.Hp=function(e,i){var n=this.nav.timeHeader,a=this.timeHeader[i][e],o=i<this.timeHeader.length-1,r=a.left,s=a.width,l=L.nm(i),d=l.top,h=l.height,u=c();u.style.position="absolute",u.style.top=d+"px",u.style.left=r+"px",u.style.width=s+"px",u.style.height=h+"px",a.toolTip&&(u.title=a.toolTip),u.setAttribute("aria-hidden","true"),a.cssClass&&t.Util.addClass(u,a.cssClass),u.setAttribute("unselectable","on"),u.style.KhtmlUserSelect="none",u.style.MozUserSelect="none",u.style.webkitUserSelect="none",u.oncontextmenu=function(){return!1},u.cell={},u.cell.start=a.start,u.cell.end=a.end,u.cell.level=i,u.cell.th=a,u.onclick=this.gn,u.oncontextmenu=this.hn,t.re(u,t.touch.start,function(e){e.stopPropagation()}),u.style.overflow="hidden",v.timeHeaderTextWrappingEnabled||(u.style.whiteSpace="nowrap");var f=c();f.setAttribute("unselectable","on"),f.innerHTML=v.ca(a.text,a.innerHTML),a.backColor&&(f.style.background=a.backColor),a.fontColor&&(f.style.color=a.fontColor);var p=this.G(R.timeheadercol),m=this.G(R.timeheadercolInner);o&&(p=this.G("_timeheadergroup"),m=this.G("_timeheadergroup_inner")),t.Util.addClass(u,p),t.Util.addClass(f,m),t.Util.addClass(u,v.G("_timeheader_cell")),t.Util.addClass(f,v.G("_timeheader_cell_inner")),function(){if("function"==typeof v.onBeforeTimeHeaderDomAdd||"function"==typeof v.onBeforeTimeHeaderDomRemove){var e={};if(e.control=v,e.header={},e.header.start=a.start,e.header.end=a.end,e.header.level=i,e.element=null,u.domArgs=e,"function"==typeof v.onBeforeTimeHeaderDomAdd){v.onBeforeTimeHeaderDomAdd(e);var n=e.element;if(n){f.innerHTML="";var o=c();if(f.appendChild(o),e.Qc=o,t.Util.isReactComponent(n)){if(!v.wa.reactDOM)throw new t.Exception("Can't reach ReactDOM");v.wa.reactDOM.render(n,o)}else o.appendChild(n)}}}}(),u.appendChild(f);var g=t.Areas.resolvePosition(a.areas,v,r,s);t.Areas.attach(u,a,{areas:g}),this.P.timeHeader[e+"_"+i]=u,this.elements.timeHeader.push(u),n.appendChild(u)},this.Mp=function(){var e=v.timeHeader,i=e.length-1;if(i<0)return null;for(var n=e[i],a=t.Date.now(),o=0;o<n.length;o++){var r=n[o];if(r.start<=a&&a<=r.end)return v.P.timeHeader[o+"_"+i]}return null},this.Np=null,this.Ip=function(e){var i=v.G("_timeheader_cell_now"),n=(e=v.Np,v.Mp());e!==n&&(t.Util.removeClass(e,i),t.Util.addClass(n,i),v.Np=n)},this.Op=null,this.Pp=function(){clearTimeout(v.Op),v.Op=setTimeout(function(){v.Ip(),v.Pp()},5e3)},this.Ik=function(){clearTimeout(v.Op)},this.Qp=function(){v.showCurrentTimeHeader&&(v.Ip(),v.Pp())},this.yj=function(){return v.Jh?void M.rn():(v.$i().forEach(function(e){var t=e.getHeight()+e.marginBottom+e.marginTop;e.height!==t&&(v.Wj=!0),e.height=t}),void(v.Wj&&(v.P.drawArea=null)))},this.Yh=function(){v.$i().forEach(function(e){if(!e.hidden){var t=v.Kk(e.grid).divHeader;if(t){var i=e.index;if(t.rows[i])for(var n=0;n<t.rows[i].cells.length;n++){var a=t.rows[i].cells[n];v.Rm&&(a.style.top=e.top+"px");var o=e.height;a&&a.firstChild&&parseInt(a.firstChild.style.height,10)!==o&&(a.firstChild.style.height=o+"px")}}}}),v.Rm&&v.nav.resScrollSpace&&(v.nav.resScrollSpace.style.top=v.Nh+"px")},this.te=function(e){var i=this.separators[e];i.location=i.location||i.Location,i.color=i.color||i.Color,i.layer=i.layer||i.Layer,i.width=i.width||i.Width,i.opacity=i.opacity||i.Opacity;var n=new t.Date(i.location),a=i.color,o=i.width?i.width:1,r=!!i.layer&&"AboveEvents"===i.layer,s=i.opacity?i.opacity:100;if(!(n.getTime()<v.kb().getTime()||n.getTime()>=v.ej().getTime())){var l=this.getPixels(n);if(!l.cut&&!(l.left<0||l.left>v.Fi())){var d=c();d.style.width=o+"px",d.style.height=v.Nh+"px",d.style.position="absolute",d.style.left=l.left-1+"px",d.style.top="0px",d.style.backgroundColor=a,d.style.opacity=s/100,d.style.filter="alpha(opacity="+s+")",d.className=v.G("_separator"),i.cssClass&&(d.className+=" "+i.cssClass),r?this.divSeparatorsAbove.appendChild(d):this.divSeparators.appendChild(d),this.elements.separators.push(d)}}},this.Td=function(e){},this.No=function(e){if("Disabled"===v.timeRangeDoubleClickHandling)return!1;if(s.Rp&&(clearTimeout(s.Rp),s.Rp=null),v.qj(e),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,v.Sp(v.coords)){var t=v.ck(v.ek);v.Rb(t.start,t.end,t.resource)}else s.Ml=v.yp(),s.Ml&&(s.Tp=v,t=v.ck(s.Ml),v.Rb(t.start,t.end,t.resource),v.ek=s.Ml);s.Ml=null},this.Fo=function(e){if(!t.Global.touch.start&&!t.Global.touch.active){if(v.Up(),v.Do(),v.qj(e),s.Vp)return!1;var i=t.Util.mouseButton(e);if(v.Wp())return!1;if(i.middle||i.right&&v.Sp(v.coords))return!1;if(v.Sp(v.coords))return!1;var n=i.left?"left":i.right?"right":i.middle?"middle":"unknown",a=e.metaKey,o=e.shiftKey,r=e.ctrlKey||a,l={action:"None"};if("Disabled"!==O.rj()&&o?l.action="RectangleSelect":"Disabled"!==v.timeRangeSelectedHandling&&(l.action="TimeRangeSelect"),l.shift=o,l.ctrl=o,l.meta=a,l.originalEvent=e,l.button=n,l.preventDefault=function(){l.action="None"},"function"==typeof v.onGridMouseDown&&v.onGridMouseDown(l),"None"===l.action)return e.preventDefault(),e.stopPropagation(),!1;if("RectangleSelect"===l.action){var c={};return c.start=v.coords,c.calendar=v,s.Vp=c,!1}return v.allowMultiRange&&!r&&I.clear(),!v.Dk(v.coords.y,v.coords.grid).element.isNewRow&&(s.Ml=v.yp(),s.Ml&&(s.Ml.ctrl=r,s.Tp=v),!1)}},this.yp=function(){var e={},t=v.jj(v.coords.x).x,i=v.getDate(v.coords.x,!0);return e.start={y:v.Dk(v.coords.y,v.coords.grid).i,x:t,grid:v.coords.grid,time:i},e.end={x:t,time:i},v.Nk(v.Dk(v.coords.y,v.coords.grid).i,v.coords.grid)?null:(e.calendar=v,v.fk(e),e)},this.Dm=function(){v.Od();var e=s._l,i=s.Ll;!function(){var n=v.Xp,a={start:e.start,end:v.Yg(e.end)};e.original=a;var o="left"===s.Ll.dpBorder?"start":"end",r=e.original;if(!r||!n||n.start!==r.start||n.end!==r.end){C.clear(),C.sm(),n&&(t.Util.removeClass(e,n.cssClass),e.firstChild.innerHTML="");var l=v.rowlist[i.event.part.dayIndex],c={};c.start=a.start,c.end=a.end,c.duration=new t.Duration(c.start,c.end),c.row=v.jk(l),c.e=i.event,c.allowed=!0,c.resizing=o,c.what=o,c.anchor="end"===c.what?a.start:a.end,c.left={},c.left.html=c.start.toString(v.eventResizingStartEndFormat,O.gj()),c.left.enabled=v.eventResizingStartEndEnabled,c.left.space=5,c.left.width=null,c.left.height=v.eventHeight,c.right={},c.right.html=c.end.toString(v.eventResizingStartEndFormat,O.gj()),c.right.enabled=v.eventResizingStartEndEnabled,c.right.space=5,c.right.width=null,c.right.height=v.eventHeight,c.cssClass=null,c.html=null,c.overlapping=c.row.events.forRange(c.start,c.end).filter(function(e){return!v.Ec(e,c.e)}).length>0,c.shift=v.coords.shift,c.ctrl=v.coords.ctrl,c.meta=v.coords.meta,c.alt=v.coords.alt,c.multiresize=C.qm();var d={};d.event=i.event,d.start=c.start,d.end=c.end,c.multiresize.splice(0,0,d),v.Xp=a,"function"==typeof v.onEventResizing&&v.onEventResizing(c),C.list=t.list(c.multiresize,!0),C.list.splice(0,1),C.vm(),e.allowed=c.allowed,t.Util.addClass(e,c.cssClass),c.html&&(e.firstChild.innerHTML=c.html);var h=c.start,u=v.zg(c.end);if(e.finalStart=h,e.finalEnd=u,"Days"===v.viewType){var f=l.start.getTime()-v.kb().getTime();h=h.addTime(-f),u=u.addTime(-f)}var p=t.DateUtil.diff(h,u);p=t.Util.atLeast(p,1);var m=(O.Pk(p),v.snapToGrid&&v.snapToGridEventResizing),g=m?v.getPixels(h).boxLeft:v.getPixels(h).left,b=m?v.getPixels(u).boxRight:v.getPixels(u).left;e.style.left=g+"px",e.style.width=b-g+"px",e.left=g,e.width=b-g,v.Fm(s._l,c),v.Gm(s._l,c)}}()},this.Mo=function(e){if(s.Vp)return e.cancelBubble=!0,e.preventDefault(),s.kf(e),!1;if(v.nj={},v.ek&&t.Util.mouseButton(e).left){var i=v.ek;if(v.Sp(v.coords)){var n=function(e){return function(){s.Rp=null;var t=v.ck(e);if(t){var i={};i.start=t.start,i.end=t.end,i.resource=t.resource,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof v.onTimeRangeClick&&v.onTimeRangeClick(i),i.preventDefault.value||"function"==typeof v.onTimeRangeClicked&&v.onTimeRangeClicked(i)}}};"Disabled"!=v.timeRangeClickHandling&&("Disabled"===v.timeRangeDoubleClickHandling?n(i)():(clearTimeout(s.Rp),s.Rp=setTimeout(n(i),v.doubleClickTimeout)))}}t.Util.mouseButton(e).right&&v.Yp(e)},this.Yp=function(e){if("Disabled"!==v.timeRangeSelectedHandling&&"Disabled"!==v.timeRangeRightClickHandling){var t=v.Dk(v.coords.y);if(v.Nk(t.i))return void(s.Ml=null);var i=null;if(!(i=v.Sp(v.coords)?v.ck(v.ek):v.ck()))return void(s.Ml=null);if(v._b(i.start,i.end,i.resource))return s.Ml=null,void v.clearSelection();i.end=v.Yg(i.end);var n={};n.start=i.start,n.end=i.end,n.resource=i.resource,n.ctrl=e.ctrlKey,n.shift=e.shiftKey,n.meta=e.metaKey,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof v.onTimeRangeRightClick&&(v.onTimeRangeRightClick(n),n.preventDefault.value)||("ContextMenu"===v.timeRangeRightClickHandling&&v.contextMenuSelection&&v.contextMenuSelection.show(i),"function"==typeof v.onTimeRangeRightClicked&&v.onTimeRangeRightClicked(n))}},this.Wp=function(){return!!(s.Ll||s.nj||s.Ml||s.Em)||!!v.nj.vp},this.dragInProgress=function(){return v.Wp()},this.qj=function(e){var i=t.mo3(v.ni,e);if((i=i||{}).grid="main",v.Pi.top.enabled()){var n=v.Pi.top,a=t.mo3(n.divCells,e);a&&a.y>0&&a.y<=n.height&&((i=a).grid="top")}if(v.Pi.bottom.enabled()){var o=v.Pi.bottom,r=t.mo3(o.divCells,e);r&&r.y>0&&r.y<=o.height&&((i=r).grid="bottom")}i.stamp=i.grid+"_"+i.x+"_"+i.y,v.coords&&v.coords.stamp===i.stamp||(v.coords=i)},this.getCoords=function(){if(!v.coords)return null;var e={};e.x=v.coords.x,e.y=v.coords.y,e.grid=v.coords.grid;var i=v.Dk(e.y,e.grid).element;return e.row=i,e.time=v.getDate(e.x,!0),e.cell=v.cells.findByPixels(e.x,e.y,e.grid)[0],e.event=v.coords.insideEvent?v.coords.insideEvent:null,e.eventOffset=null,e.event&&(e.eventOffset=t.Util.copyProps(v.eventOffset,{},["x","y"])),e},this.Co=!0,this.Jm=function(e){if(!t.Global.touch.active){var i=t.mc(e);if(v.qj(e),e.insideMainD=!0,v.Co=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),v.nj.vp&&t.distance(v.nj.up,i)>2&&(t.Util.copyProps(v.nj,s),l().style.cursor="move",v.nj={}),s.Ll&&s.bm.calendar===v)s.Ll.event||(s.Ll.event=s.bm),v.Zp();else if(s.Gl){var n=(d=s.Gl.calendar)!==v;n&&d&&s.Gl.calendar.Aa(),s.Gl.part.external=n,v.$p()}else s.Ml&&s.Ml.calendar===v?(s.Ml.moved=!0,v._p()):h.source?y.Dg(h.source.coords,v.coords):s.Vp&&(s.Vp.moved=!0,clearTimeout(B.aq),B.aq=setTimeout(function(){B.draw()},0));if("Disabled"!==v.crosshairType&&v.bq(),v.cq(),v.cellBubble&&v.coords&&v.rowlist&&v.rowlist.length>0&&!v.coords.insideEvent){var a=v.jj(v.coords.x).x,o=v.Dk(v.coords.y).i;if(0<=o&&o<v.rowlist.length&&0<=a&&a<v.itline.length){var r={};r.calendar=v,r.start=v.itline[a].start,r.end=v.itline[a].end,r.resource=v.rowlist[o].id,r.toJSON=function(){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e},v.cellBubble.showCell(r)}}if(s.Em){if(v.Up(),s.dq&&l().removeChild(s.dq),s.dq=null,!s.Bm&&v.coords&&v.rowlist.length>0){if(!s.Gl){s.nj=s.Em.eq||{};var c=(s.Em.eq?s.Em.eq.event:null)||s.Em.event;if(c)if(v!==c.calendar){var d=c.calendar,u=c,f=t.Util.copyProps(c.data);(c=new t.Event(f)).calendar=d,c.part.duration=d.Pl(u),c.part.external=!0}else c.part.external=!1;else{var p=v.itline[0].start,m=(e={id:s.Em.id,start:p,end:p.addSeconds(s.Em.duration),text:s.Em.text},s.Em.data);if(m){var g=["duration","element","remove","duration","id","text"];for(var b in m)t.contains(g,b)||(e[b]=m[b])}(c=new t.Event(e)).calendar=v,c.calendar=null,c.part.duration=1e3*s.Em.duration,c.part.external=!0}s.nj.event||(s.nj.event=c),s.Gl=c}s.Bm=v.db(s.Gl)}e.cancelBubble=!0}v.Cp({x:v.coords.x,y:v.coords.y,grid:v.coords.grid})}},this.Cp=function(e){var t=s.Ll||s.Ml||"main"!==e.grid;if("Always"===v.autoScroll||"Drag"===v.autoScroll&&(s.nj||s.Ll||s.Ml||s.Vp)){var i=v.nav.scroll;e.x-=i.scrollLeft,e.x+=g.vi,e.y-=i.scrollTop;var n=i.clientWidth,a=i.clientHeight,o=30,r=e.x<o?e.x:0,l=n-e.x<o?n-e.x:0,c=e.y<o?e.y:0,d=a-e.y<o?a-e.y:0,h=0,u=0;r&&(h=-50*p(r,o)),l&&(h=50*p(l,o)),c&&(u=-50*p(c,o)/2),d&&(u=50*p(c,o)/2),t&&(u=0),h||u?v.fq(h,u):v.Do()}},this._p=function(){var e=s.Ml,t=v.jj(v.coords.x).x,i=v.getDate(v.coords.x,!0);e.end={x:t,time:i},v.fk(e)},this.Zp=function(){s._l||(s._l=v.db(s.Ll)),v.Cm()},this.$p=function(){s.Bm&&s.Bm.calendar!==v&&s.Bm.calendar&&(s.Bm.calendar.Aa(),s.Bm.calendar=null,t.de(s.Bm),s.Bm=null),s.Bm||(window.navigator.userAgent.indexOf("Chrome/61.0")>-1||t.Util.addClass(s.nj,v.G(R.eventMovingSource)),s.Bm=v.db(s.Gl)),v.Xl(),v.Zl()},this.gq={};var B=this.gq;B.start=function(){var e={};e.start=v.coords,e.calendar=v,s.Vp=e},B.draw=function(){var e=s.Vp;if(e){var i=s.Vp.start,n=v.coords;B.clear();var a,o,r,l,c,d,h,u,f={x:e.x,y:e.y,width:e.width,height:e.height};if(c=Math.min(i.x,n.x),h=Math.max(i.x,n.x),"Free"===O.rj()?(d=Math.min(i.y,n.y),u=Math.max(i.y,n.y)):"Row"===O.rj()&&(d=i.y,u=i.y),"Free"===O.rj())a=c,o=d,r=h-c,l=u-d;else{if("Row"!==O.rj())throw new t.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: "+v.rectangleSelectMode);var p=v.Dk(d).i,g=v.rowlist[p];if(o=g.top,l=g.height,v.snapToGrid&&v.snapToGridRectangleSelecting){a=v.jj(c).cell.left;var b=v.jj(h).cell;r=b.left+b.width-a}else a=c,r=h-c}var y=t.Util.div(v.divRectangle,a,o,r,l);if(y.style.boxSizing="border-box",y.className=v.G("_selectionrectangle"),e.x=a,e.y=o,e.width=r,e.height=l,!(e.x===f.x&&e.y===f.y&&e.width===f.width&&e.height===f.height||"function"!=typeof v.onRectangleEventSelecting&&"function"!=typeof v.onRectangleSelecting)){var w=v.Dk(e.y).i,x=v.Dk(e.y+e.height).i,k=v.zk({start:{y:w},end:{y:x}}),C={};C.events=m.zi(e.x,e.y,e.width,e.height).map(function(e){return e.event}),C.start=v.getDate(e.x,!0),C.end=v.getDate(e.x+e.width,!0),C.resources=k,C.visible=!0,"function"==typeof v.onRectangleEventSelecting&&v.onRectangleEventSelecting(C),"function"==typeof v.onRectangleSelecting&&v.onRectangleSelecting(C),C.visible||(y.style.display="none")}}},B.clear=function(){v.divRectangle.innerHTML="",v.elements.rectangle=[]},this.hq=function(){if(!v.coords)return null;if(!v.Jo())return null;if(!v.itline||0===v.itline.length)return null;var e=v.jj(v.coords.x).x,t=v.Dk(v.coords.y,v.coords.grid).element;return t?v.cells.findXy(e,t.index,v.coords.grid)[0]:null},this.cq=function(){var e=this.hq();if(this.hover.cell){if(this.hover.cell.x===e.x&&this.hover.cell.y===e.y&&this.hover.cell.grid===e.grid)return;this.Eo()}this.hover.cell=e;var t={};t.cell=e,"function"==typeof this.onCellMouseOver&&this.onCellMouseOver(t),"function"==typeof this.onCellMouseEnter&&this.onCellMouseEnter(t)},this.Eo=function(){if(this.hover.cell){var e={};e.cell=this.hover.cell,"function"==typeof this.onCellMouseOut&&this.onCellMouseOut(e),"function"==typeof this.onCellMouseLeave&&this.onCellMouseLeave(e),this.hover.cell=null}},this.hover={},this.bq=function(){var e=v.iq();if(e){var t=v.hover.crosshair;t&&t.x===e.x&&t.y===e.y&&t.grid===e.grid&&t.thX===e.thX||(v.hover.crosshair=e,this.Nd())}},this.iq=function(){if(!v.coords)return null;if(!v.Jo())return null;if(!v.itline||0===v.itline.length)return null;var e=v.Dk(v.coords.y,v.coords.grid).element;if(!e)return null;var t=e.index,i=null,n=v.jj(v.coords.x);n&&(i=n.x);var a=v.jq(),o=null,r=v.im(a,v.coords.x);return r&&(o=r.x),{x:i,thX:o,y:t,grid:v.coords.grid}},this.Up=function(){this.Pi.top.divCrosshair.innerHTML="",this.Pi.main.divCrosshair.innerHTML="",this.Pi.bottom.divCrosshair.innerHTML="",this.kq=null,this.lq=null},this.Ba=function(){if(this.Up(),v.hover.crosshair=null,this.mq&&this.mq.parentNode&&(this.mq.parentNode.removeChild(this.mq),this.mq=null),this.nq){for(var e=0;e<this.nq.length;e++){var t=this.nq[e];t.parentNode&&t.parentNode.removeChild(t)}this.nq=null}this.Mh=-1,this.Lh=-1,this.oq=null},this.jq=function(){var e=this.timeHeader?this.timeHeader.length-1:1;return"number"==typeof v.crosshairTimeHeaderLevel&&v.crosshairTimeHeaderLevel<e&&v.crosshairTimeHeaderLevel>=0&&(e=v.crosshairTimeHeaderLevel),e},this.Nd=function(){if(v.coords&&v.Jo()){var e=v.Dk(v.coords.y,v.coords.grid).element;if(e){var t=v.jj(v.coords.x).x,i=e.index,n=e.grid,a=v.Kk(n),o=this.crosshairType;if(this.kq||(this.kq={}),"Full"===o){var r=this.itline[t];["top","main","bottom"].forEach(function(e){!function(e,t){var i,n=v.Pi[e],a=n.height,o=t.left;(i=v.kq[e])||((i=c()).style.height=a+"px",i.style.position="absolute",i.style.top="0px",i.className=v.G("_crosshair_vertical"),v.kq[e]=i,n.divCrosshair.appendChild(i)),i.style.left=o+"px",i.style.width=t.width+"px"}(e,r)});var s=e.top,l=e.height,d=v.Fi();(b=v.lq)&&b.parentNode&&v.oq!==n&&(b.parentNode.removeChild(b),b=null),b||((b=c()).style.width=d+"px",b.style.height=l+"px",b.style.position="absolute",b.style.top=s+"px",b.style.left="0px",b.className=v.G("_crosshair_horizontal"),v.lq=b,a.divCrosshair.appendChild(b)),b.style.top=s+"px",b.style.height=l+"px"}var h=v.jq(),u=v.im(h,v.coords.x);if(u&&v.Mh!==u.x){v.mq&&this.mq.parentNode&&(v.mq.parentNode.removeChild(v.mq),v.mq=null),l=L.nm(h).height,(b=c()).style.width=u.cell.width+"px",b.style.height=l+"px",b.style.left="0px",b.style.top="0px",b.style.position="absolute",b.className=v.G("_crosshair_top"),v.mq=b;var f=this.divNorth,p=h;v.nav.timeHeader?v.P.timeHeader[u.x+"_"+p].appendChild(b):f&&f.firstChild.rows[p].cells[t]&&f.firstChild.rows[p].cells[t].firstChild.appendChild(b)}if(v.Lh!==i||v.oq!==n){if(v.nq){for(var m=0;m<v.nq.length;m++){var g=v.nq[m];g.parentNode&&g.parentNode.removeChild(g)}v.nq=null}if(v.nq=[],a.divHeader.rows[i])for(m=0;m<a.divHeader.rows[i].cells.length;m++){var b;d=v.Ii(),(b=c()).style.width=d+"px",b.style.height=e.height+"px",b.style.left="0px",b.style.top="0px",b.style.position="absolute",b.className=v.G("_crosshair_left"),v.nq.push(b),a.divHeader.rows[i].cells[m].firstChild.appendChild(b)}}u&&(v.Mh=u.x),v.Lh=i,v.oq=n}}},this.im=function(e,t){var i=v.timeHeader[e];if(!i)return null;for(var n=0;n<i.length;n++){var a=i[n];if(t>=a.left&&t<a.left+a.width){var o={};return o.cell=a,o.x=n,o}}return null},this.pq=function(e){return v.im(v.timeHeader.length-1,e)},this.Go=function(e){if(e.cancelBubble=!0,!v.allowDefaultContextMenu)return!1},this.Sp=function(e){var t=v.ek;if(!t||!t.start||!t.end)return!1;var i=this.jl(t.start.y),n=t.start.x<t.end.x;return e.x>=(n?t.start.x:t.end.x)*this.cellWidth&&e.x<=(n?t.end.x:t.start.x)*this.cellWidth+this.cellWidth&&e.y>=i.top&&e.y<=i.bottom&&e.grid===t.start.grid},this.fk=function(e,i){function n(e){var t,i,n,a,s=e.end.time>e.start.time,d=e.start.y;if(!o&&e.start.time&&e.end.time)s?(n=e.start.time,a=e.end.time):(n=e.end.time,a=e.start.time),t=v.getPixels(n).left,i=v.getPixels(a).left;else{var h=v.itline[s?e.end.x:e.start.x];t=v.itline[s?e.start.x:e.end.x].left,i=h.left+h.width}var u=i-t,f=v.elements.range2;if(!f){(f=c()).style.position="absolute",f.setAttribute("unselectable","on");var p=c();p.className=v.G("_shadow_inner"),f.appendChild(p),r.divShadow.appendChild(f)}return f.grid!==e.start.grid&&(f.parentNode.removeChild(f),r.divShadow.appendChild(f)),f.className=v.G("_shadow"),f.firstChild.innerHTML="",f.style.left=t+"px",f.style.top=l[d].top+"px",f.style.width=u+"px",f.style.height=l[d].height-1+"px",f.calendar=v,f.grid=e.start.grid,v.elements.range2=f,function(){f.overlapping=!1;var i=l[d];v.wm(f,i,t,u,null),v.xm(f,s?e.start.time:e.end.time,s?e.end.time:e.start.time,i.id)}(),f}if((e=e||s.Ml)&&e.calendar===v){var a=(i=i||{}).justDraw,o=v.snapToGrid&&v.snapToGridTimeRangeSelecting;e.forceSnap&&(o=!0);var r=v.Kk(e.start.grid),l=r.rowlist;!function(){var i=e.end.time>=e.start.time,r=e.start.y,s=l[r];if(s&&!s.hidden){var c=v.itline[i?e.end.x:e.start.x],d=v.qq,h=v.itline[i?e.start.x:e.end.x].start.addTime(s.data.offset),u=c.end.addTime(s.data.offset);if(o||(i?(h=e.start.time,u=e.end.time):(h=e.end.time,u=e.start.time)),a||!d||d.start.getTime()!==h.getTime()||d.rawend.getTime()!==u.getTime()||d.resource!==l[r].id){var f={start:h,end:v.Yg(u),rawend:u,resource:l[r].id},p={};p.anchor=i?f.start:f.end,p.start=f.start,p.end=f.end,p.duration=new t.Duration(h,u),p.resource=l[r].id,p.row=v.jk(s),p.allowed=!0,p.left={},p.left.html=p.start.toString(v.timeRangeSelectingStartEndFormat,O.gj()),p.left.enabled=v.timeRangeSelectingStartEndEnabled,p.left.space=5,p.left.width=null,p.left.height=v.eventHeight,p.right={},p.right.html=p.end.toString(v.timeRangeSelectingStartEndFormat,O.gj()),p.right.enabled=v.timeRangeSelectingStartEndEnabled,p.right.space=5,p.right.width=null,p.right.height=v.eventHeight,p.overlapping=p.row.events.forRange(h,u).length>0,p.html=null,p.cssClass=null,v.qq=f,"function"!=typeof v.onTimeRangeSelecting||a||(v.onTimeRangeSelecting(p),p.resource=f.resource),p.end=v.zg(p.end),e.args=p;var m=v.rq(e);v.dk(m,p.start,p.end);var g=n(m);p.html&&(g.firstChild.innerHTML=p.html),p.cssClass&&t.Util.addClass(g,p.cssClass),v.Fm(g,p),e.Dp=m,e.disabled=!p.allowed,v.Gm(g,p)}}}()}},this.rq=function(e){return{start:{x:e.start.x,y:e.start.y,time:e.start.time,grid:e.start.grid},end:{x:e.end.x,time:e.end.time},disabled:e.disabled,calendar:e.calendar,args:e.args,forceSnap:e.forceSnap}},this.range={},this.range.all=function(){return v.multirange.get()},this.multirange={},this.multirange.get=function(){return I.get(!0)},this.multirange.add=function(e){if(!e)throw new t.Exception("Range not specified");if(!e.start||!e.end||!e.resource)throw new t.Exception("Invalid range specified");if(t.list(I.list).isEmpty()){var i=v.ck();if(i){var n=v.sq(i.start,i.end,i.resource);v.tq.add(n)}}n=v.sq(e.start,e.end,e.resource),v.fk(n),v.tq.add(n)},this.multirange.clear=function(){I.clear(),v.clearSelection(),v.qq=null},this.tq={};var I=this.tq;this.tq.list=[],this.tq.drawLaterTimeout=null,this.tq.drawLater=function(){clearTimeout(v.tq.drawLaterTimeout),v.tq.drawLaterTimeout=setTimeout(function(){I.list.forEach(function(e){v.elements.range2=null,v.fk(e)})},0)},this.tq.clear=function(){t.de(t.list(I.list).map(function(e){return e.div})),I.list=[]},this.tq.add=function(e){e.div=v.elements.range2,v.elements.range2=null,v.Im(),I.list.push(e)},this.tq.get=function(e){var i=t.list(I.list).map(function(e){return v.ck(e)});if(e&&i.isEmpty()){var n=v.ck();n&&i.push(n)}return i},this.tq.dispatch=function(){if(v.allowMultiRange&&!s.Ml){var e=t.list(I.list).last();v.bk(e)}},this.uq=function(e){if("Disabled"===v.timeRangeSelectedHandling)return!1;if(!t.Global.touch.active&&!t.Global.touch.start){var i=t.Util.mouseButton(e);if(!s.Ml&&!s.Vp&&!(v.ek&&v.Sp(v.coords)&&(i.right||i.middle)||v.Nk(v.Dk(v.coords.y).i))){var n={},a=v.jj(v.coords.x).x;n.start={y:v.Dk(v.coords.y).i,x:a,grid:v.coords.grid},n.end={x:a},n.calendar=v,v.ek=n,v.bk(n)}}},this.oj={},this.oj.Za=null,this.oj.drawCells=null,this.oj.drawRows=null,this.oj.click=null,this.oj.resClick=[],this.oj.updateFloats=null,this.gi=function(e,i){if(!v.T){i=i||{},void 0===t.Bubble||i.dontHideBubble||t.Bubble.hideActive(),v.ba();var n=v.nav.scroll;if(v.hm=n.scrollLeft,v.fm=n.scrollTop,v.Xo=n.clientWidth,v.divTimeScroll&&(v.divTimeScroll.scrollLeft=v.hm),v.Pi.top.enabled()&&(v.Pi.top.div.scrollLeft=v.hm),v.Pi.bottom.enabled()&&(v.Pi.bottom.div.scrollLeft=v.hm),o&&s.ro||(v.divResScroll.scrollTop=v.fm),g.aj()&&v.S&&"Auto"!=v.cellWidthSpec&&!v.li)if(g.of);else{if(v.nav.scroll.scrollLeft<v.infiniteScrollingMargin)return g.of=!0,v.nav.scroll.style.overflowX="hidden",void setTimeout(function(){g.Wi(-v.infiniteScrollingStepDays)},100);if(v.nav.scroll.scrollWidth-(v.nav.scroll.scrollLeft+v.nav.scroll.clientWidth)<v.infiniteScrollingMargin)return g.of=!0,v.nav.scroll.style.overflowX="hidden",void setTimeout(function(){g.Wi(v.infiniteScrollingStepDays)},100)}if(v.navigatorBackSync&&function(){var e=t.Util.evalVariable(v.navigatorBackSync),i=v.getViewPort().start;e.select(i,{dontNotify:!0,dontFocus:!0})}(),v.progressiveRowRendering&&(v.oj.drawRows&&(clearTimeout(v.oj.drawRows),v.oj.drawRows=null),v.scrollDelayRows>0?v.oj.drawRows=setTimeout(function(){v.Hj()},v.scrollDelayRows):v.Hj()),v.oj.drawCells&&(clearTimeout(v.oj.drawCells),v.oj.drawCells=null),v.scrollDelayCells>0?v.oj.drawCells=setTimeout(v.vq(),v.scrollDelayCells):v.vq()(),v.dynamicLoading)return v.nh(),void v.wq();v.oj.Za&&(clearTimeout(v.oj.Za),v.oj.Za=null),v.scrollDelayEvents>0?v.oj.Za=setTimeout(v.xq(),v.scrollDelayEvents):v.Za(),v.oj.updateFloats&&(clearTimeout(v.oj.updateFloats),v.oj.updateFloats=null),v.scrollDelayFloats>0?v.oj.updateFloats=setTimeout(function(){v.ei()},v.scrollDelayFloats):v.ei(),v.onScrollCalled=!0}},this.vq=function(){return function(){v&&(v.nh(),v.ai())}},this.xq=function(){return function(){v&&(v.hp()?window.setTimeout(function(){v.ep(),window.setTimeout(function(){v.Za(!0)},50)},50):v.xi())}},this.ba=function(){v.P.eventHeight=null,v.P.drawArea=null},this.show=function(){v.visible=!0,v.Ph=!0,v.nav.top.style.display="",v.Ya(),v._a(),v.rl(),v.gi()},this.hide=function(){v.visible=!1,v.Ph=!1,v.nav.top.style.display="none"},this.wq=function(){var e=v.nav.scroll;v.hm=e.scrollLeft,v.fm=e.scrollTop,v.Xo=e.clientWidth,v.divTimeScroll.scrollLeft=v.hm,v.divResScroll.scrollTop=v.fm,v.refreshTimeout&&window.clearTimeout(v.refreshTimeout);var t=v.scrollDelayDynamic;v.refreshTimeout=window.setTimeout(v.yq(e.scrollLeft,e.scrollTop),t),v.ei()},this.ul=function(e){if(!v.events.list)return null;for(var t=0;t<this.events.list.length;t++){var i=this.events.list[t];if(v.Ec(i,e)){var n={};return n.ex=i,n.index=t,n.modified=!v.zq(e,i),n}}return null},this.zq=function(e,i){for(var n in e)if(("object"!=typeof e[n]||e[n]instanceof t.Date)&&e[n]!==i[n])return!1;for(var n in i)if("object"!=typeof i[n]&&e[n]!==i[n])return!1;return!0},this.ci=function(e,i,n){var a=n&&n.clearEvents,o=n&&n.remove,r=n&&n.dontForceCellRendering,s=[];if(v.events.list||(v.events.list=[]),a)v.Ma(e);else{var l=[];t.list(o).forEach(function(e){var i=t.list(v.events.list).find(function(t){return t.id===e});i&&l.push(i)}),l.forEach(function(e){var i=v.events.vj(e);s=s.concat(i),t.rfa(v.events.list,e)});for(var c=[],d=0;d<e.length;d++)c[d]=v.ul(h=e[d]);for(d=0;d<e.length;d++){var h=e[d],u=c[d],f=u&&u.modified,p=!u;if(f){this.events.list[u.index]=h;var m=v.events.vj(u.ex);s=s.concat(m)}else p&&this.events.list.push(h);(f||p)&&(s=s.concat(v.events.wj(h)))}v.xj(s),v.yj()}if(v.Xh(),v.Ua(),a||r){v.pa();var g=v.Wj||!v.beforeCellRenderCaching;g&&v.Zh(),v.Yh(),g?v.ai():v.rl(),v.Za(),i&&i()}else v.zj(s,!1,function(){i&&i(),v.ep(),v.Za()}),v.rl()},this.yq=function(e,t){return v.I()?function(){v.scrollX=e,v.scrollY=t,v.ha("Scroll")}:function(){if("function"==typeof v.onScroll){var e=function(e){v.ci(e.events,function(){v.cb()&&"function"==typeof v.onAfterRender&&v.onAfterRender({isCallBack:!1,isScroll:!0,data:null})},e)},t={};t.viewport=v.getViewPort(),t.async=!0,t.events=[],t.remove=[],t.clearEvents=!0,t.dontForceCellRendering=!1,t.loaded=function(){this.async&&e(t)},v.onScroll(t),t.async||e(t)}}},this.Aq=function(){var e=this.X(),t=e.xStart,i=e.xEnd-e.xStart,n=e.yStart,a=e.yEnd-e.yStart;this.cellProperties||(this.cellProperties={});for(var o=v.Pi.top,r=v.Pi.bottom,s=0;s<=i;s++){for(var l=t+s,c=0;c<a;c++)this.rowlist[d=n+c].hidden||this.$c(l,d);if(this.Bq(l),o.enabled()){for(var d=0;d<o.rowlist.length;d++)this.$c(l,d,"top");this.Bq(l,"top")}if(r.enabled()){for(d=0;d<r.rowlist.length;d++)this.$c(l,d,"bottom");this.Bq(l,"bottom")}}var h=this.Mm();for(d=h.start;d<h.end;d++)this.rowlist[d].hidden||this.Cq(d);if(o.enabled())for(d=0;d<o.rowlist.length;d++)o.rowlist[d].hidden||this.Cq(d,"top");if(r.enabled())for(d=0;d<r.rowlist.length;d++)r.rowlist[d].hidden||this.Cq(d,"bottom")},this.ai=function(){if(!v.T){var e=v.$i();e&&e.length>0&&(this.cellSweeping&&this.gp(this.cellSweepingCacheSize),N.nl(),this.Aq(),this.Dq(),N.tk({dontFocus:!0})),this.Wj=!1}},this.Dq=function(){for(var e=this.X(),t=e.xStart;t<e.xEnd;t++)t<this.itline.length-1&&this.itline[t+1].breakBefore&&this.Eq(t)},this.Eq=function(e){var t="x"+e;if(!v.P.breaks[t]){var i={};if("function"==typeof v.onBeforeGridLineRender){var n=v.itline[e],a=v.itline[e+1];if(i.start=n&&n.end,i.end=a&&a.start,i.hidden=!1,i.cssClass=null,i.type="VerticalBreak",i.color=null,v.onBeforeGridLineRender(i),i.hidden)return}var o=v.itline[e+1].left-1,r=v.Nh,s=c();s.style.left=o+"px",s.style.top="0px",s.style.width="1px",s.style.height=r+"px",s.style.fontSize="1px",s.style.lineHeight="1px",s.style.overflow="hidden",s.style.position="absolute",s.setAttribute("unselectable","on"),s.className=this.G("_matrix_vertical_break"),i.cssClass&&(s.className+=" "+i.cssClass),i.color&&(s.style.backgroundColor=i.color),this.divBreaks.appendChild(s),this.elements.breaks.push(s),this.P.breaks[t]=s}},this.X=function(){if(v.P.drawArea)return v.P.drawArea;if(!this.nav.scroll)return null;var e=v.fm,i={},n=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,a=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,o=v.hm-n-g.vi,r=o+v.Xo+2*n,s=0,l=0;if(v.itline&&v.itline.length>0){s=v.jj(o).x,l=v.jj(r,!0).x;var c=this.gm();l=Math.min(l,c),s=t.Util.atLeast(s,0)}var d=e+this.nav.scroll.offsetHeight+2*a,h=this.Dk(e-a).i,u=this.Dk(d).i;u<this.rowlist.length&&u++,i.xStart=s,i.xEnd=l,i.yStart=h,i.yEnd=u;var f=v.nav.scroll;return 0===f.clientWidth&&(f=v.divTimeScroll),i.pixels={},i.pixels.left=f.scrollLeft-g.vi,i.pixels.right=f.scrollLeft-g.vi+f.clientWidth,i.pixels.top=f.scrollTop,i.pixels.bottom=f.scrollTop+f.clientHeight,i.pixels.width=f.scrollWidth,i.sw=t.sw(v.nav.scroll),v.P.drawArea=i,i},this.Fi=function(){var e=0,t=this.itline[this.itline.length-1];return((e=t?t.left+t.width:0)<0||isNaN(e))&&(e=0),e},this.Cq=function(e,t){var i=v.Pi[t=t||"main"],n=i.divLines,a=t+"_y_"+e;if(!this.P.linesHorizontal[a]){var o=i.rowlist[e],r={};if("function"!=typeof v.onBeforeGridLineRender||(r.row=v.jk(o),r.hidden=!1,r.cssClass=null,r.type="HorizontalLine",r.color=null,v.onBeforeGridLineRender(r),!r.hidden)){var s=o.top+("number"==typeof o.forcedHeight?o.forcedHeight:o.height)-1,l=this.Fi(),d=c();d.style.left="0px",d.style.top=s+"px",d.style.width=l+"px",d.style.height="1px",d.style.fontSize="1px",d.style.lineHeight="1px",d.style.overflow="hidden",d.style.position="absolute",d.setAttribute("unselectable","on"),d.className=this.G("_matrix_horizontal_line"),r.cssClass&&(d.className+=" "+r.cssClass),r.color&&(d.style.backgroundColor=r.color),n.appendChild(d),this.P.linesHorizontal[a]=d}}},this.Bq=function(e,t){var i=this.itline[e];if(i){var n=v.Pi[t=t||"main"],a=n.divLines,o="main"===t?v.Nh:n.height,r=t+"_x_"+e;if(!this.P.linesVertical[r]){var s={};if("function"!=typeof v.onBeforeGridLineRender||(s.start=i.start,s.end=i.end,s.hidden=!1,s.cssClass=null,s.type="VerticalLine",s.color=null,v.onBeforeGridLineRender(s),!s.hidden)){var l=i.left+i.width-1,d=c();d.style.left=l+"px",d.style.top="0px",d.style.width="1px",d.style.height=o+"px",d.style.fontSize="1px",d.style.lineHeight="1px",d.style.overflow="hidden",d.style.position="absolute",d.setAttribute("unselectable","on"),d.className=this.G("_matrix_vertical_line"),s.cssClass&&(d.className+=" "+s.cssClass),s.color&&(d.style.backgroundColor=s.color),a.appendChild(d),this.elements.linesVertical.push(d),this.P.linesVertical[r]=d}}}},this.Yl=function(e,t){function i(){var t=v.Fq(e,n.expanded,!1);if(!a)for(var i=0;i<t.length;i++)v.Xj(t[i]);v.kn(),v.Ua(),v.nh();var o=v.jk(n,e);a?v.sk(o):v.rk(o)}v.ki.yl&&(v.ki.skip=!0);var n=this.rowlist[e],a=!n.expanded;if(n.expanded=a,n.resource&&(n.resource.expanded=a),t=t||{},v.treeAnimation&&!t.notAnimated){var o=this.Fq(e,n.expanded,!0);v.jn(o,a?"show":"hide",function(){i()})}else i()},this.kn=function(){v.Xh(),v.Uh(),v.Ua(),v.ba(),v.Zj(),y._j(),v.Zh(),v.ai(),v.Hj(),v.Za(),v.ba()},this.en=function(e){var t={};if(t.index=e,"function"==typeof this.onLoadNode){var i={},n=this.rowlist[e].resource;i.resource=n,i.async=!1,i.loaded=function(){this.async&&(n.dynamicChildren=!1,n.expanded=!0,v.update())},this.onLoadNode(i),i.async||(n.dynamicChildren=!1,n.expanded=!0,this.update())}else this.ha("LoadNode",t)},this.Fq=function(e,t,i){var n=this.rowlist[e],a=[];if(null===n.children||0===n.children.length)return a;for(var o=0;o<n.children.length;o++){var r=n.children[o],s=this.rowlist[r],l=t&&n.expanded&&!s.Tn;t&&s.hidden&&(s.forcedHeight=0),i&&!t||(s.hidden=!l),i||delete s.forcedHeight,t===l&&a.push(r);var c=this.Fq(r,t);c.length>0&&(a=a.concat(c))}return a},this.fq=function(e,t){this.Do(),this.Gq(e,t)},this.Hq=function(e){if(!e)return!1;var t=this.nav.scroll.scrollLeft;return!(e<0&&t<=0||e>0&&t+this.nav.scroll.clientWidth>=this.nav.scroll.scrollWidth||(this.nav.scroll.scrollLeft+=e,v.coords.x+=e,v.Iq(),0))},this.Jq=function(e){if(!e)return!1;var t=this.nav.scroll.scrollTop;return!(e<0&&t<=0||e>0&&t+this.nav.scroll.clientHeight>=this.nav.scroll.scrollHeight||(this.nav.scroll.scrollTop+=e,v.coords.y+=e,v.Iq(),0))},this.Iq=function(){s.Ll&&s.Ll.event.calendar===v?v.Zp():s.nj&&(s.Gl.calendar===v||s.Gl.calendar&&s.Gl.calendar.dragOutAllowed)?(s.nj.event||(s.nj.event=s.Gl),v.$p()):s.Ml&&s.Ml.calendar===v&&v._p()},this.Gq=function(e,t){(this.Hq(e)||this.Jq(t))&&(this.Kq=window.setTimeout(function(e,t){return function(){v.Gq(e,t)}}(e,t),100))},this.Do=function(){v.Kq&&(window.clearTimeout(v.Kq),v.Kq=null)},this.Xh=function(){v.Pi.top.enabled()&&(v.Pi.top.height=v.Lq(v.Pi.top.rowlist,0)),v.Pi.bottom.enabled()&&(v.Pi.bottom.height=v.Lq(v.Pi.bottom.rowlist,0)),v.Nh=v.Lq(v.rowlist,v.Pi.top.height)},this.Lq=function(e,t){for(var i=0,n=t||0,a=(t=t||0,0);a<e.length;a++){var o=e[a];o.hidden||(o.top=t,o.displayY=i,t+="number"==typeof o.forcedHeight?o.forcedHeight:o.height,i+=1),o.absTop=n,n+=o.height}return t},this.Zh=function(){t.browser.ie&&v.Mq(),v.elements.cells=[],v.elements.breaks=[],v.P.cells=[],v.P.breaks=[],v.divBreaks.innerHTML="",v.divCells.innerHTML="",v.Pi.top.divCells.innerHTML="",v.Pi.bottom.divCells.innerHTML="",v.Vm()},this.Vm=function(){v.divLines.innerHTML="",v.Pi.top.divLines.innerHTML="",v.Pi.bottom.divLines.innerHTML="",v.P.linesVertical={},v.P.linesHorizontal={},v.elements.linesVertical=[]},this.Mq=function(e){var i=t.list();for(var n in v.P.cells)i.push(v.P.cells[n]);i.forEach(function(e){v.Al(e)})},this.$j=function(e,i){i=i||"main";var n=t.list();for(var a in v.P.cells)n.push(v.P.cells[a]);n.filter(function(t){return t&&t.coords&&t.coords.y===e&&t.coords.grid===i}).forEach(function(e){v.Al(e)})},this.Nq=0,this.Oq=t.list(["html","cssClass","backColor","backImage","backRepeat","areas","disabled"]),this.Pq=v.Oq.add("business"),this.$c=function(e,i,n){if(this.S){var a=v.pj(e);if(a){var o=this.Pi[n=n||"main"],r=o.rowlist,s=o.divCells,l="main"===n,d=n+"_"+e+"_"+i;if(!this.P.cells[d]){var h=this.Bl(e,i,n);if(v.mm(e,i,n),!this.drawBlankCells){var u=!1;if(l&&this.Vl(i)?u=!1:this.Qq(h,v.Oq)||(u=!0),u)return}var f=c();f.style.left=a.left+"px",f.style.top=r[i].top+"px",f.style.width=a.width+"px",f.style.height=r[i].height+"px",f.style.position="absolute",h&&h.backColor&&(f.style.backgroundColor=h.backColor),f.setAttribute("unselectable","on"),f.className=this.G("_cell"),f.coords={},f.coords.x=e,f.coords.y=i,f.coords.grid=n,l&&v.Vl(i)&&t.Util.addClass(f,this.G("_cellparent")),S.P[i]&&t.Util.addClass(f,this.G("_cell_selected"));var p=v.cells.findXy(e,i,n)[0];if(h){h.cssClass&&t.Util.addClass(f,h.cssClass),t.Util.isNullOrUndefined(h.html)||(f.innerHTML=h.html),h.backImage&&(f.style.backgroundImage='url("'+h.backImage+'")'),h.backRepeat&&(f.style.backgroundRepeat=h.backRepeat),h.business&&v.cellsMarkBusiness&&t.Util.addClass(f,v.G("_cell_business")),h.disabled&&t.Util.addClass(f,v.G("_cell_disabled"));var m=t.Areas.resolvePosition(h.areas,v,a.left,a.width);t.Areas.attach(f,p,{areas:m})}if(s.appendChild(f),this.elements.cells.push(f),this.P.cells[d]=f,"function"==typeof v.onAfterCellRender){var g={};g.cell=t.Util.copyProps(p,{},["x","y","displayY","start","end","resource","grid"]),g.div=f,v.onAfterCellRender(g)}}}}},this.bj={},this.rl=function(){v.Rq(),v.Sq().forEach(function(e){v.$j(e.y,e.grid)}),v.ai()},this.Rq=function(){function e(e){v.Pi[e].rowlist.forEach(function(t,i){t.isNewRow||t.resource.cellsAutoUpdated&&v.itline.forEach(function(t,n){delete v.bj[e+"_"+n+"_"+i]})})}e("main"),e("top"),e("bottom")},this.Sq=function(){function e(e,t,n){for(var r=0;r<n;r++)for(var s=t+r,l=v.Pi[e].rowlist[s],c=0;c<=o;c++)if(!l.hidden&&!v.bj[e+"_"+(a+c)+"_"+s]){i.push({grid:e,y:s});break}}var i=t.list(),n=this.X(),a=n.xStart,o=n.xEnd-n.xStart;return e("main",n.yStart,n.yEnd-n.yStart),e("top",0,v.Pi.top.rowlist.length),e("bottom",0,v.Pi.bottom.rowlist.length),i},this.mm=function(e,i,n){if("function"==typeof this.onBeforeCellRender){var a=(n=n||"main")+"_"+e+"_"+i;if(v.beforeCellRenderCaching&&v.bj[a])return;v.bj[a]=!0;var o=v.pj(e);if(!o)return;var r=v.cells.findXy(e,i,n)[0],s={};return s.cell=r,s.control=v,s.getPixels=function(e){return e=new t.Date(e),v.getPixels(e).left-o.left},this.onBeforeCellRender(s),t.Util.copyProps(s.cell,s.cell.properties,v.Pq),s.cell.properties.disabled&&(v.bj.Hm=!0),s}},this.Qq=function(e,i){if(i){for(var n=0;n<i.length;n++)if(!t.Util.isNullOrUndefined(e[i[n]]))return!0}else for(var a in e)if(!t.Util.isNullOrUndefined(e[a]))return!0;return!1},this.clearSelection=function(){this.di(),I.clear()},this.cleanSelection=this.clearSelection,this.sq=function(e,i,n){e=new t.Date(e),i=new t.Date(i);var a=v.qi(n),o=v.lj(e),r=o.current||o.next;if(!r)throw new t.Exception("Time range selection 'start' out of timeline");var s=v.lj(new t.Date(i).addMilliseconds(-1)),l=s.current||s.previous;if(!l)throw new t.Exception("Time range selection 'end' out of timeline");var c={};return c.start={y:a.index,x:t.indexOf(v.itline,r),time:e,grid:a.grid},c.end={x:t.indexOf(v.itline,l),time:i},c.calendar=this,c},this.selectTimeRange=function(e,t,i,n){var a=v.sq(e,t,i);v.fk(a),n||setTimeout(function(){v.bk(a)},0)},this.Jb=function(){var e=s.Bm&&s.Bm.source;e&&t.Util.removeClass(e,v.G(v.Bp.eventMovingSource)),t.de(s.Bm),s.Bm=null,v.Im(),v.zm.clear(),t.Global.movingLink&&(t.Global.movingLink.clear(),t.Global.movingLink=null)},this.di=function(){v.divShadow&&(v.divShadow.innerHTML=""),v.Pi.top.divShadow&&(v.Pi.top.divShadow.innerHTML=""),v.Pi.bottom.divShadow&&(v.Pi.bottom.divShadow.innerHTML=""),v.elements.range=[],v.elements.range2=null,v.Im(),v.ek=null,v.qq=null};var N={Tq:null,tk:function(e){var i=(e=e||{}).dontFocus,n=N.Tq;if(n){var a=n.x,o=n.y;if("cell"===n.type){var r=N.Uq(a,o).row;(s=N.Vq(a,o))&&t.Util.addClass(s,v.G("_cell_focus")),"top"===n.line&&r.marginTop&&t.Util.addClass(s,v.G("_cell_focus_top")),"bottom"===n.line&&r.marginBottom&&t.Util.addClass(s,v.G("_cell_focus_bottom"))}else{var s;(s=v.ze(n.event))&&t.Util.addClass(s,v.G("_event_focus"))}if(!i){var l=v.Ek();l.start.x>=a?v.scrollTo(v.itline[a].start):l.end.x<=a&&v.scrollTo(v.itline[a].end,!1,"right"),l.start.y>=o?v.nav.scroll.scrollTop=v.rowlist[o].top-v.Pi.top.height:l.end.y<=o&&(v.nav.scroll.scrollTop=(r=v.rowlist[o]).top+r.height-v.nav.scroll.clientHeight+v.Pi.bottom.height)}}},nl:function(){var e=N.Tq;if(e)if("cell"===e.type)(i=N.Vq(N.Tq.x,N.Tq.y))&&(t.Util.removeClass(i,v.G("_cell_focus")),t.Util.removeClass(i,v.G("_cell_focus_top")),t.Util.removeClass(i,v.G("_cell_focus_bottom")));else{var i;(i=v.ze(e.event))&&t.Util.removeClass(i,v.G("_event_focus"))}},Uq:function(e,i){var n={},a=v.rowlist[i],o=v.itline[e],r=[],s=a.lines.map(function(e){var i=e.filter(function(e){return t.Util.overlaps(e.part.start,e.part.end,o.start,o.end)});return r=r.concat(i),i});return n.lines=s,n.thc=o,n.row=a,n.events=r,n},Rj:function(){var e=N.Tq;e&&(N.nl(),N.Tq=N.Wq(e.x,e.y,e.pixels,e.line),N.tk({dontFocus:!0}))},Wq:function(e,i,n,a){var o={};n=n||v.itline[e].left,a=t.Util.isNullOrUndefined(a)?"top":a;var r=N.Uq(e,i),s=r.lines,l=r.row,c=l.marginTop||l.marginBottom,d=!1,h=a,u=null,f=null;if(r.events.length>0)if(l.marginTop&&"top"===a)d=!0,h="top";else if(l.marginBottom&&"bottom"===a)d=!0,h="bottom";else{if("top"===a)if(l.marginBottom)if(m=r.lines.find(function(e){return e.find(function(e){return e.part.left<=n&&n<=e.part.right})}))h=r.lines.indexOf(m);else{var p=r.lines.find(function(e){return e.find(function(e){return t.Util.overlaps(e.part.left,e.part.right,r.thc.left,r.thc.left+r.thc.right)})});p?(h=r.lines.indexOf(p),f=p[0]):h="bottom"}else h=l.marginTop?"top":0;else if("bottom"===a)if(c){var m=r.lines.slice().reverse().find(function(e){return e.find(function(e){return e.part.left<=n&&n<=e.part.right})});-1===(h=r.lines.indexOf(m))&&(h=N.Xq(a,l))}else h=s.length-1;else h=a;var g=s[h];f||(f=g&&g.find(function(e){return e.part.left<=n&&n<=e.part.right})),f||(d=!0,h=N.Xq(h,l)),u=f}else d=!0,h=c?N.Xq(a,l):0;return o.x=e,o.y=i,d?(o.type="cell",o.pixels=n,o.line=h,o):(o.type="event",o.event=u,o.pixels=u.part.left,o.x=v.jj(u.part.left).x,o.line=h,o)},Yq:function(e){var i={},n=N.Tq,a=v.rowlist[n.y],o=a.lines[n.line],r=N.Uq(n.x,n.y),s=a.marginTop||a.marginBottom;if("right"===e){if("event"===n.type){var l=n.event.part.right,c=(g=v.lj(n.event.part.end)).i,d=g.current.left+g.current.width,h=o.indexOf(n.event)+1,u=o[h],f=r.lines[n.line],p=f[f.indexOf(n.event)+1];return u&&u.part.left===l?(i.x=c+1,i.y=n.y,i.type="event",i.line=n.line,i.pixels=u.part.left,i.event=u,i):p&&s?(i.x=c,i.y=n.y,i.type="event",i.line=n.line,i.pixels=p.part.left,i.event=p,i):d===l?N.Zq(c)===c?n:(i.x=c+1,i.y=n.y,i.type="cell",i.pixels=v.itline[i.x].left,i.line=n.line,a.marginTop?i.line="top":a.marginBottom&&(i.line="bottom"),i):(i.x=c,i.y=n.y,i.type="cell",i.line=n.line,i.pixels=n.event.part.right,s&&(i.line=N.Xq(n.line,a)),i)}return(u=(o=(r=N.Uq(n.x,n.y)).lines[n.line])&&o.find(function(e){return e.part.left>n.pixels}))?(i.x=n.x,i.y=n.y,i.type="event",i.event=u,i.pixels=u.part.left,i.line=n.line,i):N.Zq(n.x)===n.x?n:N.Wq(n.x+1,n.y,null,n.line)}if("left"===e){var m=n.x;if("event"===n.type){if(m=v.jj(n.event.part.left).x,n.event.part.left!==(g=v.itline[m]).left)return h=o.indexOf(n.event)-1,(u=o[h])&&u.part.right===n.event.part.left?(g=v.jj(u.part.right,!0),i.x=g.x,i.y=n.y,i.type="event",i.line=n.line,i.pixels=u.part.right,i.event=u,i):(g=v.jj(n.event.part.left),i.x=g.x,i.y=n.y,i.type="cell",i.line=n.line,i.pixels=n.event.part.left,s&&(i.line=N.Xq(n.line,a)),i);i=N.Wq(m-1,n.y,g.right,n.line)}else{var g;if(u=(o=(r=N.Uq(n.x,n.y)).lines[n.line])&&o.slice().reverse().find(function(e){return e.part.right<n.pixels}))return i.x=n.x,i.y=n.y,i.type="event",i.event=u,i.pixels=u.part.right,i.line=n.line,i;if(N.$q(n.x)===n.x)return n;i=N.Wq(m-1,n.y,d=(g=v.itline[m-1]).left+g.width,n.line)}return i}if("down"===e){var b=(r=N.Uq(n.x,n.y)).lines.find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})});if("top"===n.line&&a.marginTop){if(b){var y=r.lines.indexOf(b);return(i=N.Wq(n.x,n.y,n.pixels,y)).pixels=n.pixels,i.x=n.x,i}return(k=r.lines.find(function(e){return e.find(function(e){return t.Util.overlaps(e.part.left,e.part.right,r.thc.left,r.thc.left+r.thc.right)})}))?((i=N.Wq(n.x,n.y,k[0].part.left,r.lines.indexOf(k))).pixels=n.pixels,i.x=n.x,i):N._q(n.y)===n.y?n:((i=N.Wq(n.x,n.y+1,n.pixels,"top")).pixels=n.pixels,i.x=n.x,i)}if("bottom"===n.line&&a.marginBottom)return N._q(n.y)===n.y?n:((i=N.Wq(n.x,n.y+1,n.pixels,"top")).pixels=n.pixels,i.x=n.x,i);if(n.line<a.lines.length-1){var w=n.y,x=n.line+1;if(a.marginTop&&"top"===n.line&&(x=0),b=r.lines.slice(x).find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})}))x=r.lines.indexOf(b);else if(a.marginBottom)x="bottom";else if(a.marginTop){var k;if(k=r.lines.slice(n.line+1).find(function(e){return e.find(function(e){return t.Util.overlaps(e.part.left,e.part.right,r.thc.left,r.thc.left+r.thc.right)})}))return N.Wq(n.x,n.y,k[0].part.left,r.lines.indexOf(k));x="top",w+=1}else n.event?x=a.lines.length-1:(x=0,w+=1);return(i=N.Wq(n.x,w,n.pixels,x)).pixels=n.pixels,i.x=n.x,i}return n.line===a.lines.length-1&&a.marginBottom?((i=N.Wq(n.x,n.y,n.pixels,"bottom")).pixels=n.pixels,i.x=n.x,i):N._q(n.y)===n.y?n:((i=N.Wq(n.x,n.y+1,n.pixels,"top")).pixels=n.pixels,i.x=n.x,i)}if("up"===e){if(b=(r=N.Uq(n.x,n.y)).lines.slice().reverse().find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})}),"bottom"===n.line&&a.marginBottom&&b)y=r.lines.indexOf(b),i=N.Wq(n.x,n.y,n.pixels,y);else if(0===n.line&&a.marginTop)i=N.Wq(n.x,n.y,n.pixels,"top");else if(n.line>0){if(x="bottom",w=n.y,(b=r.lines.slice(0,n.line).reverse().find(function(e){return e.find(function(e){return e.part.left<=n.pixels&&n.pixels<=e.part.right})}))?x=r.lines.indexOf(b):a.marginTop?x="top":a.marginBottom?w-=1:x=0,N.ar(w)===w)return n;i=N.Wq(n.x,w,n.pixels,x)}else{if(N.ar(n.y)===n.y)return n;i=N.Wq(n.x,n.y-1,n.pixels,"bottom")}return i.x=n.x,i.pixels=n.pixels,i}return i},Xq:function(e,t){if("number"==typeof e||!("top"===e&&t.marginTop||"bottom"===e&&t.marginBottom)){if(t.marginTop)return"top";if(t.marginBottom)return"bottom"}return e},Vq:function(e,t,i){return v.P.cells[(i=i||"main")+"_"+e+"_"+t]},br:function(){return N.Tq},_e:function(){var e=v.keyboardTarget;switch(e){case"component":return v.nav.top;case"document":return document}throw new t.Exception("Invalid keyboardTarget value: "+e)},Ml:null,cr:function(){var e=N._e();e!==document&&v.nav.top.setAttribute("tabindex","-1"),v.I()||(e.addEventListener("keyup",function(e){if(16===e.keyCode){var t=N.Ml;if(N.Ml=null,!t||!t.end)return;var i=t.start.x<t.end.x;N.dr(i?t.start.x:t.end.x,t.start.y,i?t.end.x:t.start.x,{forceSnap:!0})}}),e.addEventListener("keydown",function(e){if(!s.Fp){if(-1!==[37,38,39,40].indexOf(e.keyCode)&&(e.preventDefault(),!N.Tq))return void N.er();if(-1!==[37,38,39,40,13].indexOf(e.keyCode)){var t=e.shiftKey;if(N.Tq){var i=!(v.Vl(N.Tq.y)&&v.treePreventParentUsage);t&&!N.Tq.event&&!N.Ml&&i&&(N.Ml={calendar:v,forceSnap:!0,start:{x:N.Tq.x,y:N.Tq.y,time:v.itline[N.Tq.x].start}})}var n=!N.Ml;switch(e.keyCode){case 39:N.nl(),N.Tq=N.Yq("right"),N.tk();break;case 37:N.nl(),N.Tq=N.Yq("left"),N.tk();break;case 38:n&&(N.nl(),N.Tq=N.Yq("up"),N.tk());break;case 40:n&&(N.nl(),N.Tq=N.Yq("down"),N.tk());break;case 13:if(e.preventDefault(),N.Tq&&N.Tq.event){var a=v.ze(N.Tq.event);N.fr(a,e)}else i&&N.dr(N.Tq.x,N.Tq.y)}37!==e.keyCode&&39!==e.keyCode||N.Ml&&(N.Ml.end={x:N.Tq.x,y:N.Tq.y,time:v.itline[N.Tq.x].start},v.fk(N.Ml))}}}))},fr:function(e,t){v.qb(e,t)},dr:function(e,t,i){u=u||{};var n={forceSnap:!0};n.start={y:t,x:e,time:v.itline[e].start},n.end={x:void 0===i?e:i},n.end.time=v.itline[n.end.x].start,n.calendar=v,v.ek=n,v.bk(n)},er:function(){var e=v.Ek();N.Tq=N.Wq(e.start.x,e.start.y),N.tk()},gr:function(){var e="Always"===v.useEventBoxes;(e=e&&!v.I())&&(N.cr(),N._e()!==document&&v.nav.top.focus())},ar:function(e){if(e<=0)return e;for(var t=e;t>0;)if(!v.rowlist[t-=1].hidden)return t;return e},_q:function(e){var t=v.rowlist.length-1;if(e>=t)return e;for(var i=e;i<t;)if(!v.rowlist[i+=1].hidden)return i;return e},Zq:function(e){return e>=v.itline.length-1?e:e+1},$q:function(e){return e<=0?e:e+1}};this.hr=N,this.ea={};var O=this.ea;O.wh=function(){delete v.P.eventHeight,delete v.P.headerHeight},O.da=function(){return"Disabled"!==v.xssProtection},O.gj=function(){return t.Locale.find(v.locale)},O.Jp=function(){return"Auto"!==v.timeFormat?v.timeFormat:O.gj().timeFormat},O.Kp=function(){if("Auto"===v.weekStarts){var e=O.gj();return e?e.weekStarts:0}return v.weekStarts||0},O.Wm=function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("mobile")||-1!=e.indexOf("android")},O.bo=function(){var e=/MSIE 6/i.test(navigator.userAgent);return"Auto"===v.layout?e?"TableBased":"DivBased":v.layout},O.uj=function(){var e;if("Immediate"===v.notifyCommit)e="Notify";else{if("Queue"!==v.notifyCommit)throw new t.Exception("Invalid notifyCommit value: "+v.notifyCommit);e="Queue"}return e},O.ln=function(){return"Days"!==v.viewType},O.Pk=function(e){return"Always"===v.useEventBoxes||"Never"!==v.useEventBoxes&&e<60*v.Jl()*1e3},O.Ok=function(){if(v.P.eventHeight)return v.P.eventHeight;var e=v.Fe("_event_height").height;return e||(e=v.eventHeight),v.P.eventHeight=e,e},O.oo=function(){if(v.P.headerHeight)return v.P.headerHeight;var e=v.Fe("_header_height").height;return e||(e=v.headerHeight),v.P.headerHeight=e,e},O.uo=function(){if(v.P.scrollLineHeight)return v.P.scrollLineHeight;var e=c();e.style.fontSize="initial",e.style.display="none",l().appendChild(e);var t=parseInt(window.getComputedStyle(e).fontSize)||16;return l().removeChild(e),v.P.scrollLineHeight=t,t},O.Ji=function(){return v.rowHeaderScrolling?v.rowHeaderSplitterWidth:1},O.rj=function(){return"string"==typeof v.multiSelectRectangle?v.multiSelectRectangle:"Disabled"===v.rectangleSelectHandling?"Disabled":v.rectangleSelectMode},O.ir=function(){return"string"==typeof v.multiSelectRectangle?"Free"===v.multiSelectRectangle||"Row"===v.multiSelectRectangle?"EventSelect":"Disabled":v.rectangleSelectHandling},O.km=function(){return t.list(v.rowHeaderColumns).filter(function(e){return!e.hidden})},this.jr={};var L=this.jr;L.nm=function(e){for(var t={top:0,height:0},i=O.oo(),n=0;n<=e;n++){var a=v.timeHeaders[n];t.top+=t.height,t.height=a.height||i}return t},this.Bl=function(e,t,i){var n=(i=i||"main")+"_"+e+"_"+t,a=v.Pi[i].rowlist;if(v.cellConfig){n=e+"_"+t;for(var o=0,r=0;r<v.resources.length;r++)if(!v.resources[r].hidden){if(o===t){t=r;break}o+=1}}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[n])return this.cellProperties[n];if(this.Hh&&(this.cellProperties[n]=v.kr(e,t)),!this.cellProperties[n]){var s=a[t],l=s.id,c=s.start.getTime()-v.kb().getTime(),d=v.pj(e),h=d.start.addTime(c),u=d.end.addTime(c),f={};f.start=h,f.end=u,f.resource=l;var p={};p.business=v.isBusiness(f),s.cellsDisabled&&(v.bj.Hm=!0,p.disabled=!0),this.cellProperties[n]=p}return this.cellProperties[n]},this.lr=function(e,i,n){var a=i+"_"+n;return this.cellProperties[a]={},t.Util.copyProps(e,this.cellProperties[a],v.Pq),this.cellProperties[a]},this.kr=function(e,i){if(!this.cellConfig)return null;var n=this.cellConfig,a=this.cellProperties[e+"_"+i];!a&&n.vertical&&(a=this.cellProperties[e+"_0"]),!a&&n.horizontal&&(a=this.cellProperties["0_"+i]),!a&&n.default&&(a=n.default);var o={};return t.Util.copyProps(a,o,v.Pq),o},this.La=function(){if(!this.Hh&&!this.Ih&&(this.Ih=!0,this.cellConfig)){var e=this.cellConfig;if(e.vertical)for(var t=0;t<e.x;t++)if(n=this.cellProperties[t+"_0"])for(var i=1;i<e.y;i++)this.lr(n,t,i);if(e.horizontal)for(i=0;i<e.y;i++)if(n=this.cellProperties["0_"+i])for(t=1;t<e.x;t++)this.lr(n,t,i);if(e.default){var n=e.default;for(i=0;i<e.y;i++)for(t=0;t<e.x;t++)this.cellProperties[t+"_"+i]||this.lr(n,t,i)}}},this.isBusiness=function(e,t){var i=e.start,n=(e.end.getTime()-i.getTime())/6e4;if(n<=1440&&!(v.businessWeekends||t||0!==e.start.dayOfWeek()&&6!==e.start.dayOfWeek()))return!1;if(n<720){var a=i.getHours();a+=i.getMinutes()/60,a+=i.getSeconds()/3600,a+=i.getMilliseconds()/36e5;var o=this.businessBeginsHour,r=this.businessEndsHour;if(0===r&&(r=24),o===r)return!1;if(!(o<r))return a<r||a>=o;if(a<o)return!1;if(r>=24)return!0;if(a>=r)return!1}return!0},this.bd=function(){switch(v.U){case"aspnet":if(!this.ma())throw new t.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new t.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new t.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.Ya=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.ce=function(){var e=v.nav.top;return!!e&&e.offsetWidth>0&&e.offsetHeight>0},this.ee=function(){var e=v.ce;return e()?void v.fe():void(v.ge||(v.ge=setInterval(function(){e()&&(clearInterval(v.ge),v.show(),v.Om(),v.fe())},100)))},this.mr=function(e){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=e-(this.Ki()+2),this.Ua()},this.setHeight=this.mr,this.qi=function(e){return v.nn(e).first()},this.Ke=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new t.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new t.Exception("DayPilot.Scheduler: The placeholder element not found: '"+i+"'.")}},this.nr=function(){this.rowHeaderColumnsMode="Legacy",this.Be(),this.Th(),this.Nj(),this._a(),this.me(),this.ya(),s.xf(this),this.Ha(this.afterRenderData,!1),this.Wo(),this.bb(),this.ha("Init")},this.init=function(){if(this.S)throw new t.Exception("This instance is already initialized. Use update() to change properties.");if(this.Ke(),this.nav.top.dp){if(this.nav.top.dp===v)return v;if(this.ma())return v;throw new t.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this.Ko(),this.or(),this.ee(),this.pr(),this},this.pr=function(){v.keyboardEnabled&&N.gr()},this.qr=function(){v.multiselect._h(v.selectedEvents)},this.or=function(){if(this.Kj(),this.Je())return this.nr(),this.S=!0,void this.ba();this.me(),this.ya(),s.xf(this),this.Wo(),this.qr(),v.zoomLevels&&v.zoomLevels[v.zoom.active]&&v.zoom.setActive(v.zoom.active),!v.S&&g.aj()&&(v.li||(v.li={date:v.startDate})),this.Ic();var e=v.Ae.scope||v.ki.enabled;v.scrollToDate?v.scrollTo(v.scrollToDate):v.scrollX||v.scrollY?v.setScroll(v.scrollX,v.scrollY):e||v.gi(),v.scrollToResourceId&&(v.scrollToResource(v.scrollToResourceId),v.scrollToResourceId=null),window.setTimeout(function(){v.scrollY&&v.setScroll(v.scrollX,v.scrollY)},200),this.messageHTML&&window.setTimeout(function(){v.message(v.messageHTML)},0),this.bb(),this.Qp(),this.ba(),this.Ha(this.afterRenderData,!1),v.initEventEnabled&&setTimeout(function(){v.ha("Init")}),this.Me(),this.S=!0,this.rr=!0;var t=v.li;t?v.scrollTo(t.date,t.animated,t.position):v.gi(),v.li=null},this.Lo=function(){v.I()&&delete v.infinite},this.Ne=null,this.De=function(e){if(e){var i={resources:{preInit:function(){var e=this.data;e&&(v.resources=e)}},events:{preInit:function(){var e=this.data;e&&(v.events.list=t.isArray(e.list)?e.list:e)},postInit:function(){}},links:{preInit:function(){var e=this.data;e&&(v.links.list=t.isArray(e.list)?e.list:e)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&v.ji(this.data,e.scrollToAnimated,e.scrollToPosition)}},scrollX:{postInit:function(){this.data&&v.oi(this.data)}},scrollY:{postInit:function(){this.data&&v.Gi(this.data)}},zoom:{preInit:function(){var e=this.data;"string"==typeof e&&(e=v.zoom.Aj(e));var t=e!==v.zoom.active,i=v.zoom.zh();v.zoom.Bj(e,i),this.date=t?i:null},postInit:function(){this.date&&v.ji(this.date,!1,v.zoomPosition)}}};for(var n in v.Ne=i,v.ki.scrollToRequested&&(i.scrollTo.data=v.ki.scrollToRequested,v.ki.scrollToRequested=null),v.ki.scrollXRequested&&(i.scrollX.data=v.ki.scrollXRequested,v.ki.scrollXRequested=null),v.ki.scrollYRequested&&(i.scrollY.data=v.ki.scrollYRequested,v.ki.scrollYRequested=null),e)i[n]||(v[n]=e[n]);for(var n in e)if(i[n]){var a=i[n];a.data=e[n],a.preInit&&a.preInit()}}},this.Me=function(){var e=v.Ne;for(var t in e){var i=e[t];i.postInit&&i.postInit()}v.Ne={}},this.diag=function(){var e={};return e.dataEvents=v.events.list&&v.events.list.length,e.dataRows=v.rowlist&&v.rowlist.length,e.dataTimeline=v.itline&&v.itline.length,e.dataCells=e.dataTimeline*e.dataRows,e.renderedEvents=v.elements.events.length,e.renderedCells=v.elements.cells.length,e.renderedRows=v.divResScroll.firstChild.childNodes.length-1,e.domEvents=v.divEvents.getElementsByTagName("*").length,e.domCells=v.divCells.getElementsByTagName("*").length,e.domRows=v.divResScroll.getElementsByTagName("*").length,e},this.temp={},this.temp.allowDuplicateEventIds=!1,this.internal={},this.internal.initialized=function(){return v.S},this.internal.dragInProgress=this.Wp,this.internal.startMoving=this.Jn,this.internal.invokeEvent=this.Ab,this.internal.eventMenuClick=this.Ob,this.internal.timeRangeMenuClick=this.Pb,this.internal.resourceHeaderMenuClick=this.hk,this.internal.linkMenuClick=this.gk,this.internal.bubbleCallBack=this.Mb,this.internal.findEventDiv=this.ze,this.internal.rowStartMoving=this.pk.Jn,this.internal.getNodeChildren=this.Fa,this.internal.callback=function(){v.ha.apply(v,arguments)},this.internal.createRowObject=this.jk,this.internal.restools=this.Ln,this.internal.gantt=null,this.internal.adjustEndIn=v.zg,this.internal.adjustEndNormalize=v.$g,this.internal.xssTextHtml=v.ca,this.internal.touch=v.Xc,this.internal.cssNames=v.Bp,this.internal.enableCellStacking=function(e){v.Jh=!0,v.Kh=e},this.internal.deleteDragSource=function(){v.Kb()},this.internal.skipUpdate=v.ki.skipUpdate,this.internal.skipped=v.ki.skipped,this.internal.loadOptions=v.De,this.internal.postInit=v.Me,this.internal.enableAngular2=function(){v.ki.enabled=!0},this.internal.eventsFromAttr=function(){v.ki.ql=!0},this.internal.resourcesFromAttr=function(){v.ki.yl=!0},this.internal.evImmediateRefresh=function(){v.events.ak()},this.internal.enableReact=function(e,t){v.wa.react=e,v.wa.reactDOM=t},this.internal.reactRefs=function(){return t.Util.copyProps(v.wa,{},["react","reactDOM"])},this.Init=this.init,this.De(u)},new t.Scheduler,t.Row=function(e,i){if(!e)throw new t.Exception("Now row object supplied when creating DayPilot.Row");if(!i)throw new t.Exception("No parent control supplied when creating DayPilot.Row");this.sr={};var n=this.sr;n.id=e.id,n.name=e.name,n.data=e.resource,n.tags=e.tags;var a=this;a.isRow=!0,a.menuType="resource",a.start=e.start,a.name=e.name,a.value=e.id,a.id=e.id,a.tags=e.tags,a.bubbleHtml=e.bubbleHtml,a.index=e.index,a.displayY=e.displayY,a.level=e.level,a.calendar=i,a.data=e.resource,a.grid=e.grid,a.Yf=e,a.$={},a.$.row=e,a.toJSON=function(e){var t={};return t.start=this.start,t.name=this.name,t.value=this.value,t.id=this.id,t.index=this.index,t},a.parent=function(){return a.Yf.Un?i.jk(a.Yf.Un):null},a.children=function(){var e=t.list(a.$.row.children).map(function(e){return i.jk(i.rowlist[e])});return e.add=function(e){var t=a.$.row.resource;t.children||(t.children=[]),t.children.push(e)},e},a.loaded=function(){return a.Yf.loaded},Object.defineProperty(a,"hidden",{get:function(){return a.Yf.hidden}}),Object.defineProperty(a,"hiddenUsingFilter",{get:function(){return a.Yf.Tn},set:function(e){a.Yf.Tn=e,e||(a.Yf.hidden=!a.Yf.Vn())}}),a.cells={},a.cells.all=function(){for(var e=[],t=i.itline.length,n=a.index,o=0;o<t;o++){var r=i.cells.findXy(o,n,a.grid);e.push(r[0])}return i.Cl(e)},a.cells.forRange=function(e,n){var o=a.start.getTime()-i.kb().getTime();e=new t.Date(e),n=new t.Date(n);var r=i.kb().addTime(o),s=i.ej().addTime(o);e<r&&(e=r),n>s&&(n=s);var l=i.cells.find(e,a)[0],c=i.cells.find(n.addTime(-1),a)[0];if(!l)return null;if(!c)return null;if(l.y!==c.y)return null;for(var d=l.y,h=[],u=l.x;u<=c.x;u++)h.push(i.cells.zl(u,d,l.grid));return i.Cl(h)},a.cells.totalDuration=function(){return new t.Duration(a.cells.all().map(function(e){return e.end.getTime()-e.start.getTime()}).reduce(function(e,t){return e+t},0))},a.events={},a.events.all=function(){for(var e=t.list(),i=0;i<a.Yf.events.length;i++)e.push(a.Yf.events[i]);return e},a.events.isEmpty=function(){return 0===a.Yf.events.length},a.events.forRange=function(e,t){return a.Yf.events.forRange(e,t)},a.events.totalDuration=function(){var e=0;return a.events.all().forEach(function(t){e+=t.part.end.getTime()-t.part.start.getTime()}),new t.Duration(e)},a.groups={},a.groups.collapseAll=function(){for(var e=0;e<a.Yf.blocks.length;e++)new o(a.Yf.blocks[e]).ur();i.yj(),i.zj([a.Yf]),i.Ua()},a.groups.expandAll=function(){for(var e=0;e<a.Yf.blocks.length;e++)new o(a.Yf.blocks[e]).vr();i.yj(),i.zj([a.Yf]),i.Ua(),i.Za()},a.groups.expanded=function(){for(var e=[],n=0;n<a.Yf.blocks.length;n++){var r=a.Yf.blocks[n];r.expanded&&r.lines.length>i.groupConcurrentEventsLimit&&e.push(new o(r))}return t.list(e)},a.groups.collapsed=function(){for(var e=[],i=0;i<a.Yf.blocks.length;i++){var n=a.Yf.blocks[i];n.expanded||e.push(new o(n))}return t.list(e)},a.groups.all=function(){for(var e=[],i=0;i<a.Yf.blocks.length;i++)e.push(new o(a.Yf.blocks[i]));return t.list(e)},a.events.collapseGroups=a.groups.collapseAll,a.events.expandGroups=a.groups.expandAll,a.column=function(e){return new r(a,e)},a.toggle=function(){i.Yl(a.index)},a.collapse=function(){a.$.row.expanded&&a.toggle()},a.expand=function(){a.$.row.expanded||a.toggle()},a.remove=function(){i.rows.remove(a)},a.edit=function(){i.rows.edit(a)},a.addClass=function(e){var n;if(n=i.divHeader.rows[(n=a).index]){var o=t.list(n.cells).map(function(e){return e.cellDiv});t.Util.addClass(o,e)}a.$.row.cssClass=t.Util.addClassToString(a.$.row.cssClass,e),a.data.cssClass=e},a.removeClass=function(e){var n;if(n=i.divHeader.rows[(n=a).index]){var o=t.list(n.cells).map(function(e){return e.cellDiv});t.Util.removeClass(o,e)}a.$.row.cssClass=t.Util.removeClassFromString(a.$.row.cssClass,e),a.data.cssClass=t.Util.removeClassFromString(a.data.cssClass,e)};var o=function(e){this.vr=function(){e.expanded=!0;var n=i.qn;t.list(e.events).forEach(function(e){n.push(e.id())});var a=function(e){for(var t=0;t<i.elements.events.length;t++){var n=i.elements.events[t];if(n.event===e)return n}return null}(e);if(a){i.cp(a);var o=t.indexOf(i.elements.events,a);-1!==o&&i.elements.events.splice(o,1)}},this.expand=function(){this.vr(),i.yj(),i.zj([e.row]),i.Ua(),i.Za()},this.ur=function(){if(e.lines.length>i.groupConcurrentEventsLimit){e.expanded=!1;var n=t.list(e.events).map(function(e){return e.id()});i.qn=i.qn.filter(function(e){return!t.contains(n,e)})}},this.collapse=function(){this.ur(),i.yj(),i.zj([e.row]),i.Ua()}},r=function(e,i){this.html=function(e){var n=n.calendar.divHeader.rows[n.index];if(!n)throw new t.Exception("Row not rendered");var a=n.cells[i].textDiv;return void 0===e?a.innerHTML:void(a.innerHTML=e)}}},s.nj=null,s.Gl=null,s.up=null,s.Ll=null,s.bm=null,s.mj=!1,s.Ro=!1,s.Rp=null,s.wr=null,s.xr=function(e,i,n,a){t.us(e);var o=s.Em={};return o.element=e,o.duration=i,o.text=a,o.id=n,o.data={id:n,text:a,duration:i,externalHtml:a},!1},t.Scheduler.startDragging=function(e){var i=(e=e||{}).element,n=e.keepElement?null:i;t.us(i);var a=s.Em={};return a.element=n,a.id=e.id,a.duration=e.duration||60,a.text=e.text||"",a.data=e,!1},t.Scheduler.makeDraggable=function(e){function i(){var i=e.duration||60;i instanceof t.Duration&&(i=i.totalSeconds());var n=s.Em={};n.element=a,n.id=e.id,n.duration=i,n.text=e.text||"",n.data=e}var n=(e=e||{}).element,a=e.keepElement?null:e.remove||n;if(!n)throw new t.Exception("makeDraggable(options): options.element must be specified");t.us(n),t.re(n,"mousedown",function(e){if(t.Util.mouseButton(e).left){i();var n=e.target||e.srcElement;if(n.tagName){var a=n.tagName.toLowerCase();if("textarea"===a||"select"===a||"input"===a)return!1}return e.preventDefault(),!1}}),n.ontouchstart=function(e){window.setTimeout(function(){i(),s.To(e),e.preventDefault()},0),e.preventDefault()}},t.Scheduler.stopDragging=function(){if(s.Em&&s.Em.eq){var e=s.Em.eq,i=e.event.calendar;i&&t.Util.removeClass(e,i.G(n.Bp.eventMovingSource))}var n;s.yr(),s.Ll&&(t.de(s._l),s.Ll=null,s.bm=null,s._l=null),s.nj&&((n=s.Gl.calendar)&&t.Util.removeClass(s.nj,n.G(n.Bp.eventMovingSource)),t.de(s.Bm),s.nj=null,s.Gl=null,s.Bm=null),s.Ml&&((n=s.Ml.calendar).clearSelection(),s.Ml=null),l().style.cursor="",t.list(s.tf).forEach(function(e){e.Do(),e.Im(),e.pk.resetMoving(),e.zm.clear()})},t.Scheduler.registerDropTarget=function(e){var i=(e=e||{}).element,n=e.onDragOver,a="function"==typeof n,o=e.onDrop,r="function"==typeof o;if(!i)throw new t.Exception("registerDropTarget(options): options.element must be specified");i.addEventListener("mousemove",function(e){if(s.Em){var t=s.Em.event;if(t&&a){var i={};i.e=t,n(i)}}}),i.addEventListener("mouseup",function(e){if(s.Em){var t=s.Em.event;if(t&&r){var i={};i.e=t,o(i)}}})},s.yr=function(){s.dq&&(l().removeChild(s.dq),s.dq=null),s.Em=null},s.zr=function(){var e=s.Em;if(e){var t=e&&e.data&&e.data.onDrop;if("function"==typeof t){var i={};i.data=e.data,t(i)}}},s.xf=function(e){s.tf||(s.tf=t.list(),s.tf.out=function(){s.tf.forEach(function(e){e.Aa()})});for(var i=0;i<s.tf.length;i++)if(s.tf[i]===e)return;s.tf.push(e)},s.Kf=function(e){var i=s.tf;if(i){var n=t.indexOf(i,e);-1!==n&&i.splice(n,1),0===i.length&&(i=null)}i||(t.ue(document,"mousemove",s.lf),t.ue(document,"mouseup",s.kf),t.ue(document,"mousedown",s.So),t.ue(document,"touchmove",s.To),t.ue(document,"touchend",s.Uo),t.ue(window,"keyup",s.Vo),s.Ro=!1)},s.To=function(e){if(s.Ll&&((a=s.Ll.event.calendar).coords=a.Xc.xp(e),a.Xc.zp(),e.preventDefault()),s.nj&&!s.Em&&(e.preventDefault(),(a=s.Gl.calendar).coords=a.Xc.xp(e),a.Xc.Ap(),function(){if(a.dragOutAllowed){var n=i(e);if(!n||n!==a){var o=s.Gl;s.Em={};var r=s.Em;r.id=o.id(),r.text=o.text(),r.eq=s.nj,r.element=null,r.duration=(o.rawend().getTime()-o.start().getTime())/1e3,r.text=o.text(),r.id=o.id(),r.event=t.Util.copyProps(o,new t.Event),a.Im(),t.de(s.Bm),s.Bm.calendar=null,s.Bm=null,s.Kl=null,s.tf.out()}}}()),s.Em){e.preventDefault();var a,o=n(e);if(a=i(e)){if(s.dq&&l().removeChild(s.dq),s.dq=null,a.coords=a.Xc.xp(e),!s.Bm&&a.rowlist.length>0){if(!s.nj){s.nj={};var r=s.Em.event;if(!r){var c=a.itline[0].start,d=(e={id:s.Em.id,start:c,end:c.addSeconds(s.Em.duration),text:s.Em.text},s.Em.data);if(d){var h=["duration","element","remove","id","text"];for(var u in d)t.contains(h,u)||(e[u]=d[u])}(r=new t.Event(e)).calendar=a,r.part.duration=1e3*s.Em.duration}r.part.external=!0;var f=s.Em.eq;f&&f.event&&f.event.calendar===a&&(r.part.external=!1),s.Gl=r}s.Bm=a.db(s.Gl)}s.nj&&a.Xc.Ap()}else{t.de(s.Bm);var p=s.nj;s.nj=null,s.Gl=null,s.Bm=null,s.dq||(s.dq=s.Ar(s.Em.data),s.dq.source=p);var v=s.dq;v.style.left=o.x+"px",v.style.top=o.y+"px",s.tf.out()}}},s.Uo=function(e){s.ro=!1,s.kf(e)},s.lf=function(e){if(void 0!==s&&!t.Global.touch.active&&!t.Global.touch.start&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var i=t.mc(e);if(s.Em){if(!s.Em.Br){var n=s.Em.data||{},a=n.onDragStart,o=!1;if("function"==typeof a){var r={};r.data=n,r.preventDefault=function(){r.preventDefault.value=!0},a(r),o=r.preventDefault.value}if(s.Em.Br=!0,o)return s.zr(),void(s.Em=null)}l().style.cursor="move",s.dq||(s.dq=s.Ar(s.Em.data)),(c=s.dq).style.left=i.x+"px",c.style.top=i.y+"px",s.nj=null,s.Gl=null,s.Bm&&((d=s.Bm.calendar)&&d.Im(),s.Bm.calendar=null,t.de(s.Bm),s.Bm=null)}else if(s.nj&&s.Gl&&s.Gl.calendar.dragOutAllowed&&!s.Em){var c,d=s.Gl.calendar;e=s.Gl,l().style.cursor="move",s.dq||(s.dq=s.Ar(e.data),s.dq.source=s.nj),(c=s.dq).style.left=i.x+"px",c.style.top=i.y+"px",s.Em={};var h=s.Em;h.eq=s.nj,h.element=null,h.duration=(e.rawend().getTime()-e.start().getTime())/1e3,h.text=e.text(),h.id=e.value(),h.event=t.Util.copyProps(e,new t.Event),d.Im(),t.de(s.Bm),s.Bm.calendar=null,s.Bm=null}s.tf.out()}},s.Cr=function(e){if(s.tf)for(var t=0;t<s.tf.length;t++)s.Kf(s.tf[t])},s.So=function(e){s.Fp&&s.Fp.blur()},s.Vo=function(e){17===e.keyCode&&s.Tp&&s.Tp.tq.dispatch()},s.kf=function(e){if(t.list(s.tf).forEach(function(e){e.Do(),e.nj={}}),s.Ll){var i=function(){var e=s.bm.calendar;l().style.cursor="",s.Ll=null,s.bm=null,t.de(s._l),s._l=null,e&&(e.Xp=null)};if(setTimeout(function(){s.mj=!1}),!s._l)return void i();var n=s._l.finalStart,a=s._l.finalEnd,o=s._l.overlapping,r=!s._l.allowed,c=(S=(f=s.bm).calendar).pm.isInvalid();S.Im(),S.pm.clear();var u="left"===s.Ll.dpBorder?"start":"end";if(i(),o||r||c||S.pm.forbidden)return;S.Eb(f,n,a,u)}else if(s.Gl){if(i=function(){t.Global.movingAreaData=null;var e=s.Bm&&s.Bm.calendar;s.Bm&&(t.de(s.Bm),s.Bm.calendar=null),l().style.cursor="",s.nj=null,s.Gl=null,s.zr(),s.Em=null,e&&(e.Ca=null)},!s.Bm)return void i();var f=(L=s.Em&&s.Em.eq)?L.event:s.Gl;if(!(S=s.Bm.calendar))return void i();if(f.calendar&&f.calendar!==S){var p=f.calendar,v=f,m=t.Util.copyProps(f.data);(f=new t.Event(m,p)).part={external:!0,duration:p.Pl(v)}}if(s.Bm.source=s.nj,function(){if(s.Em&&s.Em.eq){var e=s.Em.eq;e&&e.event&&t.Util.removeClass(e,e.event.calendar.G(S.Bp.eventMovingSource))}}(),!s.Bm.row)return void i();clearTimeout(S.Wl.timeout),n=s.Bm.start,a=s.Bm.end;var g="Days"!==S.viewType?s.Bm.row.id:null,b=f.part.external,y=s.Bm.line;if(o=s.Bm.overlapping,r=!s.Bm.allowed,s.Em&&(S.hi||(S.hi={}),S.hi.ii=s.Em.element,s.zr(),s.Em=null),s.Bm.calendar=null,l().style.cursor="",s.nj=null,s.Gl=null,o||r||S.zm.forbidden||S.zm.invalid)return void S.Jb();S.Ib(f,n,a,g,b,e,y),t.Global.movingAreaData=null}else if(s.Ml){var w=t.Util.mouseButton(e),x=s.Ml;i=function(){},(S=x.calendar).qq=null;var k=e.ctrlKey||e.metaKey;if(S.allowMultiRange)return S.elements.range2.overlapping?(t.de(S.elements.range2),S.elements.range2=null,S.Im()):S.tq.add(x),s.Ml=null,k||w.left&&S.tq.dispatch(),void i();if(s.Rp)return clearTimeout(s.Rp),s.Rp=null,void i();S.ek=x,s.Ml=null;var C=function(e){return function(){s.Rp=null;var t=S.elements.range2;return t&&t.overlapping?void S.clearSelection():(S.bk(e),void("Hold"!==S.timeRangeSelectedHandling&&"HoldForever"!==S.timeRangeSelectedHandling||(S.ek=e)))}},_=S.rq(x);if(i(),!w.left)return void(s.Rp=null);if(x.moved||"Disabled"===S.timeRangeDoubleClickHandling)return C(_)(),e.cancelBubble=!0,!1;s.Rp=setTimeout(C(_),S.doubleClickTimeout)}else if(d.row)(S=d.calendar)&&S.Fn();else if(h.source)(S=h.calendar).Rk.Hg(),S.Rk.Oj(),h.source=null,h.calendar=null;else if(s.mo)s.mo.cleanup(),s.mo=null;else if(s.Vp){var D=s.Vp,S=D.calendar;if(!D.moved)return s.Vp=null,void(S.Sp(S.coords)||S.uq(e));var E=D.x,T=D.y,A=D.width,P=D.height,M=!1,H=S.yi.zi(E,T,A,P).map(function(e){return e.event}),R=function(){setTimeout(function(){S.gq.clear(),s.Vp=null},0),S.Im()};if("function"==typeof S.onRectangleEventSelect||"function"==typeof S.onRectangleSelect){var B,I=S.Dk(T).i,N=S.Dk(T+P).i,O=S.zk({start:{y:I},end:{y:N}});if((B={}).events=H,B.append=!1,B.start=S.getDate(E,!0),B.end=S.getDate(E+A,!0),B.resources=O,B.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof S.onRectangleEventSelect&&S.onRectangleEventSelect(B),"function"==typeof S.onRectangleSelect&&S.onRectangleSelect(B),B.preventDefault.value)return S.gq.clear(),s.Vp=null,void R();M=B.append}"EventSelect"===S.ea.ir()&&(M||S.multiselect.clear(!0),H.forEach(function(e){S.multiselect.add(e,!0)}),S.multiselect.redraw()),R(),("function"==typeof S.onRectangleEventSelected||"function"==typeof S.onRectangleSelected)&&((B={}).events=H,"function"==typeof S.onRectangleEventSelected&&S.onRectangleEventSelected(B),"function"==typeof S.onRectangleSelected&&S.onRectangleSelected(B))}var L;s.Em&&(s.Em.event&&s.Em.event.part&&delete s.Em.event.part.external,s.zr(),s.Em=null,l().style.cursor=""),s.dq&&(s.dq.source&&(L=s.dq.source).event&&t.Util.removeClass(s.dq.source,(S=s.dq.source.event.calendar).G(S.Bp.eventMovingSource)),l().removeChild(s.dq),s.dq=null),s.Fl=null,s.Kl=null},s.Ar=function(e){e=e||{};var t=document.createElement("div");return t.setAttribute("unselectable","on"),t.style.position="absolute",t.style.width="100px",t.style.height="20px",t.style.zIndex=101,t.style.pointerEvents="none",t.style.backgroundColor="#aaaaaa",t.style.opacity=.5,t.style.filter="alpha(opacity=50)",t.className=e.externalCssClass,e.externalHtml&&(t.innerHTML=e.externalHtml),l().appendChild(t),t};var d={};t.Global.rowmoving=d;var h={};t.Global.linking=h,"undefined"!=typeof jQuery&&(jQuery.fn.daypilotScheduler=function(e){var i=null,n=this.each(function(){if(!this.daypilot){var n=new t.Scheduler(this.id||this,e);n.init(),this.daypilot=n,i||(i=n)}});return 1===this.length?i:n}),function(){var e=t.am();e&&e.directive("daypilotScheduler",["$parse",function(e){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(i,n){return i[0].removeAttribute("id"),i[0].innerHTML=this.template.replace("{{id}}",n.id),function(i,n,a){var o=new t.Scheduler(n[0].firstChild);o.Ae.scope=i;var r=a.id;r&&(i[r]=o);var s=a.publishAs;for(var l in s&&(0,e(s).assign)(i,o),a)0===l.indexOf("on")&&(t.Util.shouldApply(l)?function(n){o[n]=function(o){var r=e(a[n]);t.Util.safeApply(i,function(){r(i,{args:o})})}}(l):function(t){o[t]=function(n){e(a[t])(i,{args:n})}}(l));var c=i.$watch,d=a.config||a.daypilotConfig,h=a.events||a.daypilotEvents;d||o.init(),c.call(i,d,function(e,t){o.De(e),o.S?(o.update(),o.Me()):o.init()},!0),h&&c.call(i,h,function(e){o.events.list=e,o.Ic({eventsOnly:!0})},!0),i.$on("$destroy",function(){o.dispose()})}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(DayPilot),void 0===DayPilot)var DayPilot={};void 0===DayPilot.Global&&(DayPilot.Global={}),function(e){void 0===e.Year&&(e.Year=function(t,i){this.v="2021.2.4931",this.startDate=new e.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.Dr=[],this._g=function(){this.root.dp=this,this.uf=new e.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.G=function(e){return this.cssClassPrefix?this.cssClassPrefix+e:""},this.ah=function(){return this.showWeekNumbers?this.cellWidth:0},this.vm=function(){this.Dr=[];var t=this.columns,i=12/t;this.root.className=this.G("_main"),this.root.style.width=t*(7*this.cellWidth+this.ah())+"px";for(var n=0;n<i;n++){for(var a=0;a<t;a++){var o=n*t+a,r=r+"_nav_"+o,s=document.createElement("div");s.id=r,s.style.float="left",this.root.appendChild(s);var l=new e.Navigator(r);l.startDate=this.uf.addMonths(o),l.cssOnly=this.cssOnly,l.cssClassPrefix=this.cssClassPrefix,l.cellWidth=this.cellWidth,l.showWeekNumbers=this.showWeekNumbers,l.internal.showLinks={},l.selectMode="none",l.timeRangeSelectedHandling="JavaScript",l.onTimeRangeSelected=this.Er,l.init(),l.root.className="",this.Dr.push(l)}var c=document.createElement("div");c.style.clear="left",this.root.appendChild(c)}},this.Er=function(e){alert("clicked: "+e.day)},this.init=function(){if(this.root=document.getElementById(t),!this.root.dp)return this._g(),this.vm(),this}})}(DayPilot)}}]);