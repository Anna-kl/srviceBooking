export class Modal extends ModalPropsAndEvents {
    constructor(options?: ModalConfig)
    close(result?: any): void;
    closeSerialized(): void;
    showHtml(html: string | HTMLElement): void;
    showUrl(url: string): void;
    stretch(): void;
}

export class ModalPropsAndEvents {
    autoFocus?: boolean;
    autoStretch?: boolean;
    autoStretchFirstLoadOnly?: boolean;
    container?: HTMLElement;
    disposeOnClose?: boolean;
    dragDrop?: boolean;
    focus?: string | { id: string, value: string | number};
    height?: number;
    left?: number;
    loadingHtml?: string;
    maxHeight?: number;
    scrollWithPage?: boolean;
    theme?: string;
    top?: number;
    useIframe?: boolean;
    width?: number;
    zIndex?: number;

    onClose?: EventHandler<ModalCloseArgs>;
    onClosed?: EventHandler<ModalClosedArgs>;
    onShow?: EventHandler<ModalShowArgs>;
}

export namespace Modal {
    function close(): void;
    function opener(): void;
    function prompt(message: string, defaultValue?: string, options?: ModalPromptConfig): Promise<ModalClosedArgs>;
    function alert(message: string, options?: ModalAlertConfig): Promise<ModalClosedArgs>;
    function confirm(message: string, options?: ModalConfirmConfig): Promise<ModalClosedArgs>;
    function form(form?: ModalFormItem[], data?: any, options?: ModalFormConfig): Promise<ModalClosedArgs>;
}

export class ModalConfig extends ModalPropsAndEvents {
}

export class ModalAlertConfig extends ModalConfig {
    okText?: string;
}

export class ModalConfirmConfig extends ModalConfig {
    okText?: string;
    cancelText?: string;
}

export class ModalPromptConfig extends ModalConfig {
    okText?: string;
    cancelText?: string;
}

export class ModalFormConfig extends ModalConfig {
    okText?: string;
    cancelText?: string;
    locale?: string;
}

export interface ModalCloseArgs {
    canceled: boolean;
    result: any;
    backgroundClick: boolean;

    preventDefault(): void;
}

export interface ModalClosedArgs {
    canceled: boolean;
    result: any;
    backgroundClick: boolean;
}

export interface ModalShowArgs {
    root: Node
}

export interface EventHandler<T> {
    (args?: T): void;
}

export interface ModalFormItem {
    id?: string;
    name?: string;
    type?: "text" | "date" | "searchable" | "select" | "radio" | "checkbox";
    image?: string;
    dateFormat?: string;
    disabled?: boolean;
    cssClass?: string;
    options?: ModalFormOption[] | ModalFormItem[];
    children?: ModalFormItem[];
}

export interface ModalFormOption {
    id: string;
    name: string;
    children?: ModalFormItem[];
}
